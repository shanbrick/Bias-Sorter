(self["webpackChunkbias_sorter"]=self["webpackChunkbias_sorter"]||[]).push([[504],{64046:(e,t,n)=>{"use strict";n.d(t,{Am:()=>Y,Bd:()=>D,FA:()=>q,Fy:()=>C,I9:()=>$,Im:()=>H,Ku:()=>ne,T9:()=>I,Tj:()=>E,Uj:()=>y,XA:()=>T,ZQ:()=>O,bD:()=>W,cY:()=>S,eX:()=>V,g:()=>B,gR:()=>G,hp:()=>X,jZ:()=>R,lT:()=>M,lV:()=>L,nr:()=>F,sr:()=>P,tD:()=>J,u:()=>g,zW:()=>U,zw:()=>m});var r=n(3604),i=n(78676),a=n(54119),o=n(69492),u=n(25026),s=n(25335),c=n(28578),l=n(84056),f=(n(16280),n(76918),n(28706),n(51629),n(74423),n(25276),n(64346),n(48598),n(8921),n(44114),n(60739),n(23288),n(94170),n(62010),n(33110),n(25428),n(5506),n(79432),n(10287),n(26099),n(58940),n(27495),n(90906),n(38781),n(21699),n(71761),n(25440),n(48718),n(2945),n(42207),n(23500),n(55815),n(64979),n(79739),n(13611),n(76031),function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}),h=function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=e[n++],u=e[n++],s=e[n++],c=((7&i)<<18|(63&o)<<12|(63&u)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{var l=e[n++],f=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&l)<<6|63&f)}}return t.join("")},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(f(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):h(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length,u=o?n[e.charAt(i)]:0;++i;var s=i<e.length,c=s?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,null==a||null==u||null==c||null==f)throw new v;var h=a<<2|u>>4;if(r.push(h),64!==c){var d=u<<4&240|c>>2;if(r.push(d),64!==f){var p=c<<6&192|f;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},v=function(e){function t(){var e;return(0,u.A)(this,t),e=(0,s.A)(this,t,arguments),e.name="DecodeBase64StringError",e}return(0,c.A)(t,e),(0,o.A)(t)}((0,l.A)(Error)),p=function(e){var t=f(e);return d.encodeByteArray(t,!0)},y=function(e){return p(e).replace(/\./g,"")},g=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&A(r)&&(e[r]=m(e[r],t[r]));return e}function A(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k=function(){return w().__FIREBASE_DEFAULTS__},b=function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",BASE_URL:"/Bias-Sorter/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}},_=function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&g(e[1]);return t&&JSON.parse(t)}},x=function(){try{return k()||b()||_()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},E=function(e){var t,n;return null===(n=null===(t=x())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},I=function(){var e;return null===(e=x())||void 0===e?void 0:e.config},T=function(e){var t;return null===(t=x())||void 0===t?void 0:t["_".concat(e)]},S=function(){function e(){var t=this;(0,u.A)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,o.A)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise["catch"]((function(){})),1===e.length?e(n):e(n,r))}}}])}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function C(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[y(JSON.stringify(n)),y(JSON.stringify(o)),u].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function R(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function N(){var e,t=null===(e=x())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function D(){return"object"===("undefined"===typeof self?"undefined":(0,a.A)(self))&&self.self===self}function P(){var e="object"===("undefined"===typeof chrome?"undefined":(0,a.A)(chrome))?chrome.runtime:"object"===("undefined"===typeof browser?"undefined":(0,a.A)(browser))?browser.runtime:void 0;return"object"===(0,a.A)(e)&&void 0!==e.id}function L(){return"object"===("undefined"===typeof navigator?"undefined":(0,a.A)(navigator))&&"ReactNative"===navigator["product"]}function M(){var e=O();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function F(){return!N()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){try{return"object"===("undefined"===typeof indexedDB?"undefined":(0,a.A)(indexedDB))}catch(e){return!1}}function V(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var j="FirebaseError",B=function(e){function t(e,n,r){var i;return(0,u.A)(this,t),i=(0,s.A)(this,t,[n]),i.code=e,i.customData=r,i.name=j,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,q.prototype.create),i}return(0,c.A)(t,e),(0,o.A)(t)}((0,l.A)(Error)),q=function(){function e(t,n,r){(0,u.A)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,o.A)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?z(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new B(n,a,t);return o}}])}();function z(e,t){return e.replace(K,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var K=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function H(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function W(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Q(u)&&Q(s)){if(!W(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Q(e){return null!==e&&"object"===(0,a.A)(e)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Y(e){for(var t=[],n=function(){var e=(0,i.A)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function $(e){var t={},n=e.replace(/^\?/,"").split("&");return n.forEach((function(e){if(e){var n=e.split("="),r=(0,i.A)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function X(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e,t){var n=new Z(e,t);return n.subscribe.bind(n)}var Z=function(){function e(t,n){var r=this;(0,u.A)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)}))["catch"]((function(e){r.error(e)}))}return(0,o.A)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=ee(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}])}();function ee(e,t){if("object"!==(0,a.A)(e)||null===e)return!1;var n,i=(0,r.A)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in e&&"function"===typeof e[o])return!0}}catch(u){i.e(u)}finally{i.f()}return!1}function te(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ne(e){return e&&e._delegate?e._delegate:e}},90144:(e,t,n)=>{"use strict";n.d(t,{BA:()=>tt,C4:()=>C,EW:()=>Ge,Gc:()=>Ne,IG:()=>Be,IJ:()=>$e,KR:()=>Ye,Kh:()=>Re,PP:()=>ht,Pr:()=>rt,QW:()=>ot,QZ:()=>x,R1:()=>et,Tm:()=>Fe,Ul:()=>ft,X2:()=>A,bl:()=>O,ds:()=>E,fE:()=>Ue,g8:()=>Me,hZ:()=>B,i9:()=>Qe,jr:()=>m,ju:()=>Ve,lW:()=>ct,mu:()=>Ze,nD:()=>Pe,o5:()=>g,rY:()=>at,tB:()=>De,u4:()=>j,uY:()=>p,ux:()=>je,yC:()=>v});var r,i=n(78676),a=n(23772),o=n(25335),u=n(28578),s=n(59258),c=n(3604),l=n(25026),f=n(69492),h=(n(52675),n(89463),n(2259),n(28706),n(2008),n(51629),n(62062),n(44114),n(94170),n(36033),n(2892),n(1480),n(40875),n(94052),n(26099),n(21211),n(40888),n(86565),n(32812),n(71137),n(34268),n(31415),n(47764),n(73772),n(23500),n(62953),n(24232));var d,v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,l.A)(this,e),this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=r,!t&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}return(0,f.A)(e,[{key:"active",get:function(){return this._active}},{key:"run",value:function(e){if(this._active){var t=r;try{return r=this,e()}finally{r=t}}else 0}},{key:"on",value:function(){r=this}},{key:"off",value:function(){r=this.parent}},{key:"stop",value:function(e){if(this._active){var t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}])}();function p(e){return new v(e)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;t&&t.active&&t.effects.push(e)}function g(){return r}function m(e){r&&r.cleanups.push(e)}var A=function(){function e(t,n,r,i){(0,l.A)(this,e),this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,y(this,i)}return(0,f.A)(e,[{key:"dirty",get:function(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,C();for(var e=0;e<this._depsLength;e++){var t=this.deps[e];if(t.computed&&(w(t.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),O()}return this._dirtyLevel>=4},set:function(e){this._dirtyLevel=e?4:0}},{key:"run",value:function(){if(this._dirtyLevel=0,!this.active)return this.fn();var e=I,t=d;try{return I=!0,d=this,this._runnings++,k(this),this.fn()}finally{b(this),this._runnings--,d=t,I=e}}},{key:"stop",value:function(){var e;this.active&&(k(this),b(this),null==(e=this.onStop)||e.call(this),this.active=!1)}}])}();function w(e){return e.value}function k(e){e._trackId++,e._depsLength=0}function b(e){if(e.deps.length>e._depsLength){for(var t=e._depsLength;t<e.deps.length;t++)_(e.deps[t],e);e.deps.length=e._depsLength}}function _(e,t){var n=e.get(t);void 0!==n&&t._trackId!==n&&(e["delete"](t),0===e.size&&e.cleanup())}function x(e,t){e.effect instanceof A&&(e=e.effect.fn);var n=new A(e,h.tE,(function(){n.dirty&&n.run()}));t&&((0,h.X$)(n,t),t.scope&&y(n,t.scope)),t&&t.lazy||n.run();var r=n.run.bind(n);return r.effect=n,r}function E(e){e.effect.stop()}var I=!0,T=0,S=[];function C(){S.push(I),I=!1}function O(){var e=S.pop();I=void 0===e||e}function R(){T++}function N(){T--;while(!T&&P.length)P.shift()()}function D(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);var r=e.deps[e._depsLength];r!==t?(r&&_(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}var P=[];function L(e,t,n){R();var r,i=(0,c.A)(e.keys());try{for(i.s();!(r=i.n()).done;){var a=r.value,o=void 0;a._dirtyLevel<t&&(null!=o?o:o=e.get(a)===a._trackId)&&(a._shouldSchedule||(a._shouldSchedule=0===a._dirtyLevel),a._dirtyLevel=t),a._shouldSchedule&&(null!=o?o:o=e.get(a)===a._trackId)&&(a.trigger(),a._runnings&&!a.allowRecurse||2===a._dirtyLevel||(a._shouldSchedule=!1,a.scheduler&&P.push(a.scheduler)))}}catch(u){i.e(u)}finally{i.f()}N()}var M=function(e,t){var n=new Map;return n.cleanup=e,n.computed=t,n},F=new WeakMap,U=Symbol(""),V=Symbol("");function j(e,t,n){if(I&&d){var r=F.get(e);r||F.set(e,r=new Map);var i=r.get(n);i||r.set(n,i=M((function(){return r["delete"](n)}))),D(d,i,void 0)}}function B(e,t,n,r,i,a){var o=F.get(e);if(o){var u=[];if("clear"===t)u=(0,s.A)(o.values());else if("length"===n&&(0,h.cy)(e)){var l=Number(r);o.forEach((function(e,t){("length"===t||!(0,h.Bm)(t)&&t>=l)&&u.push(e)}))}else switch(void 0!==n&&u.push(o.get(n)),t){case"add":(0,h.cy)(e)?(0,h.yI)(n)&&u.push(o.get("length")):(u.push(o.get(U)),(0,h.CE)(e)&&u.push(o.get(V)));break;case"delete":(0,h.cy)(e)||(u.push(o.get(U)),(0,h.CE)(e)&&u.push(o.get(V)));break;case"set":(0,h.CE)(e)&&u.push(o.get(U));break}R();var f,d=(0,c.A)(u);try{for(d.s();!(f=d.n()).done;){var v=f.value;v&&L(v,4,void 0)}}catch(p){d.e(p)}finally{d.f()}N()}}function q(e,t){var n;return null==(n=F.get(e))?void 0:n.get(t)}var z=(0,h.pD)("__proto__,__v_isRef,__isVue"),K=new Set(Object.getOwnPropertyNames(Symbol).filter((function(e){return"arguments"!==e&&"caller"!==e})).map((function(e){return Symbol[e]})).filter(h.Bm)),G=H();function H(){var e={};return["includes","indexOf","lastIndexOf"].forEach((function(t){e[t]=function(){for(var e=je(this),n=0,r=this.length;n<r;n++)j(e,"get",n+"");for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=e[t].apply(e,a);return-1===u||!1===u?e[t].apply(e,(0,s.A)(a.map(je))):u}})),["push","pop","shift","unshift","splice"].forEach((function(t){e[t]=function(){C(),R();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=je(this)[t].apply(this,n);return N(),O(),i}})),e}function W(e){var t=je(this);return j(t,"has",e),t.hasOwnProperty(e)}var Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,l.A)(this,e),this._isReadonly=t,this._isShallow=n}return(0,f.A)(e,[{key:"get",value:function(e,t,n){var r=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(r?i?Se:Te:i?Ie:Ee).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;var a=(0,h.cy)(e);if(!r){if(a&&(0,h.$3)(G,t))return Reflect.get(G,t,n);if("hasOwnProperty"===t)return W}var o=Reflect.get(e,t,n);return((0,h.Bm)(t)?K.has(t):z(t))?o:(r||j(e,"get",t),i?o:Qe(o)?a&&(0,h.yI)(t)?o:o.value:(0,h.Gv)(o)?r?De(o):Re(o):o)}}])}(),Y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,l.A)(this,t),(0,o.A)(this,t,[!1,e])}return(0,u.A)(t,e),(0,f.A)(t,[{key:"set",value:function(e,t,n,r){var i=e[t];if(!this._isShallow){var a=Fe(i);if(Ue(n)||Fe(n)||(i=je(i),n=je(n)),!(0,h.cy)(e)&&Qe(i)&&!Qe(n))return!a&&(i.value=n,!0)}var o=(0,h.cy)(e)&&(0,h.yI)(t)?Number(t)<e.length:(0,h.$3)(e,t),u=Reflect.set(e,t,n,r);return e===je(r)&&(o?(0,h.$H)(n,i)&&B(e,"set",t,n,i):B(e,"add",t,n)),u}},{key:"deleteProperty",value:function(e,t){var n=(0,h.$3)(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&B(e,"delete",t,void 0,r),i}},{key:"has",value:function(e,t){var n=Reflect.has(e,t);return(0,h.Bm)(t)&&K.has(t)||j(e,"has",t),n}},{key:"ownKeys",value:function(e){return j(e,"iterate",(0,h.cy)(e)?"length":U),Reflect.ownKeys(e)}}])}(Q),$=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,l.A)(this,t),(0,o.A)(this,t,[!0,e])}return(0,u.A)(t,e),(0,f.A)(t,[{key:"set",value:function(e,t){return!0}},{key:"deleteProperty",value:function(e,t){return!0}}])}(Q),X=new Y,J=new $,Z=new Y(!0),ee=new $(!0),te=function(e){return e},ne=function(e){return Reflect.getPrototypeOf(e)};function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=e["__v_raw"];var i=je(e),a=je(t);n||((0,h.$H)(t,a)&&j(i,"get",t),j(i,"get",a));var o=ne(i),u=o.has,s=r?te:n?ze:qe;return u.call(i,t)?s(e.get(t)):u.call(i,a)?s(e.get(a)):void(e!==i&&e.get(t))}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this["__v_raw"],r=je(n),i=je(e);return t||((0,h.$H)(e,i)&&j(r,"has",e),j(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=e["__v_raw"],!t&&j(je(e),"iterate",U),Reflect.get(e,"size",e)}function oe(e){e=je(e);var t=je(this),n=ne(t),r=n.has.call(t,e);return r||(t.add(e),B(t,"add",e,e)),this}function ue(e,t){t=je(t);var n=je(this),r=ne(n),i=r.has,a=r.get,o=i.call(n,e);o||(e=je(e),o=i.call(n,e));var u=a.call(n,e);return n.set(e,t),o?(0,h.$H)(t,u)&&B(n,"set",e,t,u):B(n,"add",e,t),this}function se(e){var t=je(this),n=ne(t),r=n.has,i=n.get,a=r.call(t,e);a||(e=je(e),a=r.call(t,e));var o=i?i.call(t,e):void 0,u=t["delete"](e);return a&&B(t,"delete",e,void 0,o),u}function ce(){var e=je(this),t=0!==e.size,n=void 0,r=e.clear();return t&&B(e,"clear",void 0,void 0,n),r}function le(e,t){return function(n,r){var i=this,a=i["__v_raw"],o=je(a),u=t?te:e?ze:qe;return!e&&j(o,"iterate",U),a.forEach((function(e,t){return n.call(r,u(e),u(t),i)}))}}function fe(e,t,n){return function(){var r=this["__v_raw"],i=je(r),o=(0,h.CE)(i),u="entries"===e||e===Symbol.iterator&&o,s="keys"===e&&o,c=r[e].apply(r,arguments),l=n?te:t?ze:qe;return!t&&j(i,"iterate",s?V:U),(0,a.A)({next:function(){var e=c.next(),t=e.value,n=e.done;return n?{value:t,done:n}:{value:u?[l(t[0]),l(t[1])]:l(t),done:n}}},Symbol.iterator,(function(){return this}))}}function he(e){return function(){return"delete"!==e&&("clear"===e?void 0:this)}}function de(){var e={get:function(e){return re(this,e)},get size(){return ae(this)},has:ie,add:oe,set:ue,delete:se,clear:ce,forEach:le(!1,!1)},t={get:function(e){return re(this,e,!1,!0)},get size(){return ae(this)},has:ie,add:oe,set:ue,delete:se,clear:ce,forEach:le(!1,!0)},n={get:function(e){return re(this,e,!0)},get size(){return ae(this,!0)},has:function(e){return ie.call(this,e,!0)},add:he("add"),set:he("set"),delete:he("delete"),clear:he("clear"),forEach:le(!0,!1)},r={get:function(e){return re(this,e,!0,!0)},get size(){return ae(this,!0)},has:function(e){return ie.call(this,e,!0)},add:he("add"),set:he("set"),delete:he("delete"),clear:he("clear"),forEach:le(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((function(i){e[i]=fe(i,!1,!1),n[i]=fe(i,!0,!1),t[i]=fe(i,!1,!0),r[i]=fe(i,!0,!0)})),[e,n,t,r]}var ve=de(),pe=(0,i.A)(ve,4),ye=pe[0],ge=pe[1],me=pe[2],Ae=pe[3];function we(e,t){var n=t?e?Ae:me:e?ge:ye;return function(t,r,i){return"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,h.$3)(n,r)&&r in t?n:t,r,i)}}var ke={get:we(!1,!1)},be={get:we(!1,!0)},_e={get:we(!0,!1)},xe={get:we(!0,!0)};var Ee=new WeakMap,Ie=new WeakMap,Te=new WeakMap,Se=new WeakMap;function Ce(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Oe(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ce((0,h.Zf)(e))}function Re(e){return Fe(e)?e:Le(e,!1,X,ke,Ee)}function Ne(e){return Le(e,!1,Z,be,Ie)}function De(e){return Le(e,!0,J,_e,Te)}function Pe(e){return Le(e,!0,ee,xe,Se)}function Le(e,t,n,r,i){if(!(0,h.Gv)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;var a=i.get(e);if(a)return a;var o=Oe(e);if(0===o)return e;var u=new Proxy(e,2===o?r:n);return i.set(e,u),u}function Me(e){return Fe(e)?Me(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Fe(e){return!(!e||!e["__v_isReadonly"])}function Ue(e){return!(!e||!e["__v_isShallow"])}function Ve(e){return Me(e)||Fe(e)}function je(e){var t=e&&e["__v_raw"];return t?je(t):e}function Be(e){return Object.isExtensible(e)&&(0,h.yQ)(e,"__v_skip",!0),e}var qe=function(e){return(0,h.Gv)(e)?Re(e):e},ze=function(e){return(0,h.Gv)(e)?De(e):e},Ke=function(){function e(t,n,r,i){var a=this;(0,l.A)(this,e),this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new A((function(){return t(a._value)}),(function(){return We(a,2===a.effect._dirtyLevel?2:3)})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=r}return(0,f.A)(e,[{key:"value",get:function(){var e=je(this);return e._cacheable&&!e.effect.dirty||!(0,h.$H)(e._value,e._value=e.effect.run())||We(e,4),He(e),e.effect._dirtyLevel>=2&&We(e,2),e._value},set:function(e){this._setter(e)}},{key:"_dirty",get:function(){return this.effect.dirty},set:function(e){this.effect.dirty=e}}])}();function Ge(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,h.Tn)(e);a?(n=e,r=h.tE):(n=e.get,r=e.set);var o=new Ke(n,r,a||!r,i);return o}function He(e){var t;I&&d&&(e=je(e),D(d,null!=(t=e.dep)?t:e.dep=M((function(){return e.dep=void 0}),e instanceof Ke?e:void 0),void 0))}function We(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;e=je(e);var n=e.dep;n&&L(n,t,void 0)}function Qe(e){return!(!e||!0!==e.__v_isRef)}function Ye(e){return Xe(e,!1)}function $e(e){return Xe(e,!0)}function Xe(e,t){return Qe(e)?e:new Je(e,t)}var Je=function(){function e(t,n){(0,l.A)(this,e),this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:je(t),this._value=n?t:qe(t)}return(0,f.A)(e,[{key:"value",get:function(){return He(this),this._value},set:function(e){var t=this.__v_isShallow||Ue(e)||Fe(e);e=t?e:je(e),(0,h.$H)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:qe(e),We(this,4,e))}}])}();function Ze(e){We(e,4,void 0)}function et(e){return Qe(e)?e.value:e}function tt(e){return(0,h.Tn)(e)?e():et(e)}var nt={get:function(e,t,n){return et(Reflect.get(e,t,n))},set:function(e,t,n,r){var i=e[t];return Qe(i)&&!Qe(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function rt(e){return Me(e)?e:new Proxy(e,nt)}var it=function(){function e(t){var n=this;(0,l.A)(this,e),this.dep=void 0,this.__v_isRef=!0;var r=t((function(){return He(n)}),(function(){return We(n)})),i=r.get,a=r.set;this._get=i,this._set=a}return(0,f.A)(e,[{key:"value",get:function(){return this._get()},set:function(e){this._set(e)}}])}();function at(e){return new it(e)}function ot(e){var t=(0,h.cy)(e)?new Array(e.length):{};for(var n in e)t[n]=lt(e,n);return t}var ut=function(){function e(t,n,r){(0,l.A)(this,e),this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}return(0,f.A)(e,[{key:"value",get:function(){var e=this._object[this._key];return void 0===e?this._defaultValue:e},set:function(e){this._object[this._key]=e}},{key:"dep",get:function(){return q(je(this._object),this._key)}}])}(),st=function(){function e(t){(0,l.A)(this,e),this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}return(0,f.A)(e,[{key:"value",get:function(){return this._getter()}}])}();function ct(e,t,n){return Qe(e)?e:(0,h.Tn)(e)?new st(e):(0,h.Gv)(e)&&arguments.length>1?lt(e,t,n):Ye(e)}function lt(e,t,n){var r=e[t];return Qe(r)?r:new ut(e,t,n)}var ft={GET:"get",HAS:"has",ITERATE:"iterate"},ht={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"}},56768:(e,t,n)=>{"use strict";n.d(t,{$V:()=>ut,$u:()=>xt,$y:()=>pe,BA:()=>c.BA,Bs:()=>Ti,C4:()=>l.C4,CE:()=>Ir,Df:()=>it,Dl:()=>V,E:()=>tn,E3:()=>Ur,EW:()=>bi,EY:()=>yr,FK:()=>pr,Fv:()=>jr,Fw:()=>De,GM:()=>Kt,Gc:()=>c.Gc,Gt:()=>bn,Gw:()=>Pi,Gy:()=>Qe,H4:()=>_,HF:()=>Jt,Ht:()=>Qt,IG:()=>c.IG,IJ:()=>c.IJ,Ic:()=>_t,Im:()=>dr,K9:()=>$n,KC:()=>kt,KR:()=>c.KR,Kh:()=>c.Kh,LJ:()=>Li,LM:()=>Pe,Lk:()=>Pr,Lu:()=>Gt,MZ:()=>rt,Mw:()=>gr,NP:()=>Ht,Ng:()=>Fr,OA:()=>Yt,OW:()=>et,PP:()=>c.PP,PR:()=>ft,PS:()=>xn,PT:()=>l.PT,Pr:()=>c.Pr,Q3:()=>Br,QP:()=>$e,QW:()=>c.QW,QZ:()=>c.QZ,Qi:()=>ee,R1:()=>c.R1,R8:()=>Ci,RG:()=>Dt,SS:()=>Tt,Tb:()=>Lt,Tm:()=>c.Tm,Tr:()=>l.Tr,U4:()=>m,U_:()=>Fe,Ul:()=>c.Ul,Vq:()=>xr,WQ:()=>_n,Wv:()=>Tr,X2:()=>c.X2,Y4:()=>vt,Y5:()=>Mi,YY:()=>ne,Yj:()=>Bt,ZH:()=>l.ZH,ZQ:()=>Oi,_B:()=>l._B,aT:()=>Fi,bF:()=>Lr,bU:()=>Ii,bj:()=>St,bn:()=>en,bo:()=>Ke,ci:()=>Xn,dA:()=>hi,dY:()=>P,ds:()=>c.ds,eW:()=>Vr,eX:()=>Nt,fE:()=>c.fE,fn:()=>_i,g2:()=>de,g8:()=>c.g8,gN:()=>ye,gW:()=>Or,gh:()=>k,h:()=>xi,hi:()=>It,i9:()=>c.i9,iD:()=>Ni,jC:()=>mr,jr:()=>c.jr,jt:()=>te,ju:()=>c.ju,k6:()=>re,lW:()=>c.lW,lt:()=>Ri,mu:()=>c.mu,n:()=>dt,nD:()=>c.nD,nI:()=>Zr,nT:()=>Le,o5:()=>c.o5,p9:()=>Me,pI:()=>Rt,pM:()=>at,pR:()=>Je,qG:()=>Ot,qL:()=>b,qP:()=>qt,qR:()=>Ct,rE:()=>Si,rO:()=>Wt,rU:()=>l.rU,rY:()=>c.rY,sV:()=>bt,tB:()=>c.tB,tC:()=>fi,tG:()=>A,tY:()=>be,uX:()=>kr,uY:()=>c.uY,ux:()=>c.ux,v6:()=>Gr,v_:()=>l.v_,vv:()=>Sr,wB:()=>Ve,wk:()=>zt,xo:()=>Et,y$:()=>Ei,yC:()=>c.yC,zz:()=>Zt});var r,i=n(54119),a=n(78676),o=n(3604),u=n(23772),s=n(59258),c=(n(52675),n(89463),n(2259),n(78125),n(20326),n(16280),n(76918),n(28706),n(88431),n(33771),n(2008),n(48980),n(51629),n(23418),n(74423),n(25276),n(48598),n(62062),n(44114),n(72712),n(34782),n(15086),n(26910),n(54554),n(13609),n(59089),n(60739),n(23288),n(94170),n(62010),n(33110),n(4731),n(36033),n(60479),n(2892),n(32637),n(59904),n(84185),n(52811),n(79432),n(26099),n(58940),n(87411),n(40888),n(71137),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(31415),n(99449),n(21699),n(47764),n(71761),n(25440),n(90744),n(11392),n(42762),n(89907),n(73772),n(30958),n(23500),n(62953),n(76031),n(90144)),l=n(24232),f=[];function h(e){(0,c.C4)();for(var t=f.length?f[f.length-1].component:null,n=t&&t.appContext.config.warnHandler,r=d(),i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(n)k(n,t,11,[e+a.map((function(e){var t,n;return null!=(n=null==(t=e.toString)?void 0:t.call(e))?n:JSON.stringify(e)})).join(""),t&&t.proxy,r.map((function(e){var n=e.vnode;return"at <".concat(wi(t,n.type),">")})).join("\n"),r]);else{var u,l=["[Vue warn]: ".concat(e)].concat(a);r.length&&l.push.apply(l,["\n"].concat((0,s.A)(v(r)))),(u=console).warn.apply(u,(0,s.A)(l))}(0,c.bl)()}function d(){var e=f[f.length-1];if(!e)return[];var t=[];while(e){var n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});var r=e.component&&e.component.parent;e=r&&r.vnode}return t}function v(e){var t=[];return e.forEach((function(e,n){t.push.apply(t,(0,s.A)(0===n?[]:["\n"]).concat((0,s.A)(p(e))))})),t}function p(e){var t=e.vnode,n=e.recurseCount,r=n>0?"... (".concat(n," recursive calls)"):"",i=!!t.component&&null==t.component.parent,a=" at <".concat(wi(t.component,t.type,i)),o=">"+r;return t.props?[a].concat((0,s.A)(y(t.props)),[o]):[a+o]}function y(e){var t=[],n=Object.keys(e);return n.slice(0,3).forEach((function(n){t.push.apply(t,(0,s.A)(g(n,e[n])))})),n.length>3&&t.push(" ..."),t}function g(e,t,n){return(0,l.Kg)(t)?(t=JSON.stringify(t),n?t:["".concat(e,"=").concat(t)]):"number"===typeof t||"boolean"===typeof t||null==t?n?t:["".concat(e,"=").concat(t)]:(0,c.i9)(t)?(t=g(e,(0,c.ux)(t.value),!0),n?t:["".concat(e,"=Ref<"),t,">"]):(0,l.Tn)(t)?["".concat(e,"=fn").concat(t.name?"<".concat(t.name,">"):"")]:(t=(0,c.ux)(t),n?t:["".concat(e,"="),t])}function m(e,t){}var A={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},w=(r={},(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)(r,"sp","serverPrefetch hook"),"bc","beforeCreate hook"),"c","created hook"),"bm","beforeMount hook"),"m","mounted hook"),"bu","beforeUpdate hook"),"u","updated"),"bum","beforeUnmount hook"),"um","unmounted hook"),"a","activated hook"),(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)(r,"da","deactivated hook"),"ec","errorCaptured hook"),"rtc","renderTracked hook"),"rtg","renderTriggered hook"),0,"setup function"),1,"render function"),2,"watcher getter"),3,"watcher callback"),4,"watcher cleanup function"),5,"native event handler"),(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)(r,6,"component event handler"),7,"vnode hook"),8,"directive hook"),9,"transition hook"),10,"app errorHandler"),11,"app warnHandler"),12,"ref function"),13,"async component loader"),14,"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."));function k(e,t,n,r){try{return r?e.apply(void 0,(0,s.A)(r)):e()}catch(i){_(i,t,n)}}function b(e,t,n,r){if((0,l.Tn)(e)){var i=k(e,t,n,r);return i&&(0,l.yL)(i)&&i["catch"]((function(e){_(e,t,n)})),i}for(var a=[],o=0;o<e.length;o++)a.push(b(e[o],t,n,r));return a}function _(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t?t.vnode:null;if(t){var a=t.parent,o=t.proxy,u="https://vuejs.org/error-reference/#runtime-".concat(n);while(a){var s=a.ec;if(s)for(var c=0;c<s.length;c++)if(!1===s[c](e,o,u))return;a=a.parent}var l=t.appContext.config.errorHandler;if(l)return void k(l,null,10,[e,o,u])}x(e,n,i,r)}function x(e,t,n){console.error(e)}var E=!1,I=!1,T=[],S=0,C=[],O=null,R=0,N=Promise.resolve(),D=null;function P(e){var t=D||N;return e?t.then(this?e.bind(this):e):t}function L(e){var t=S+1,n=T.length;while(t<n){var r=t+n>>>1,i=T[r],a=q(i);a<e||a===e&&i.pre?t=r+1:n=r}return t}function M(e){T.length&&T.includes(e,E&&e.allowRecurse?S+1:S)||(null==e.id?T.push(e):T.splice(L(e.id),0,e),F())}function F(){E||I||(I=!0,D=N.then(K))}function U(e){var t=T.indexOf(e);t>S&&T.splice(t,1)}function V(e){(0,l.cy)(e)?C.push.apply(C,(0,s.A)(e)):O&&O.includes(e,e.allowRecurse?R+1:R)||C.push(e),F()}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E?S+1:0;for(0;n<T.length;n++){var r=T[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;0,T.splice(n,1),n--,r()}}}function B(e){if(C.length){var t,n=(0,s.A)(new Set(C)).sort((function(e,t){return q(e)-q(t)}));if(C.length=0,O)return void(t=O).push.apply(t,(0,s.A)(n));for(O=n,R=0;R<O.length;R++)O[R]();O=null,R=0}}var q=function(e){return null==e.id?1/0:e.id},z=function(e,t){var n=q(e)-q(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function K(e){I=!1,E=!0,T.sort(z);l.tE;try{for(S=0;S<T.length;S++){var t=T[S];t&&!1!==t.active&&k(t,null,14)}}finally{S=0,T.length=0,B(e),E=!1,D=null,(T.length||C.length)&&K(e)}}var G;var H=[];function W(e,t){var n,r;if(G=e,G)G.enabled=!0,H.forEach((function(e){var t,n=e.event,r=e.args;return(t=G).emit.apply(t,[n].concat((0,s.A)(r)))})),H=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null==(r=null==(n=window.navigator)?void 0:n.userAgent)?void 0:r.includes("jsdom"))){var i=t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[];i.push((function(e){W(e,t)})),setTimeout((function(){G||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,!0,H=[])}),3e3)}else!0,H=[]}function Q(e,t){if(!e.isUnmounted){for(var n=e.vnode.props||l.MZ,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o,u=i,s=t.startsWith("update:"),c=s&&t.slice(7);if(c&&c in n){var f="".concat("modelValue"===c?"model":c,"Modifiers"),h=n[f]||l.MZ,d=h.number,v=h.trim;v&&(u=i.map((function(e){return(0,l.Kg)(e)?e.trim():e}))),d&&(u=i.map(l.bB))}0;var p=n[o=(0,l.rU)(t)]||n[o=(0,l.rU)((0,l.PT)(t))];!p&&s&&(p=n[o=(0,l.rU)((0,l.Tg)(t))]),p&&b(p,e,6,u);var y=n[o+"Once"];if(y){if(e.emitted){if(e.emitted[o])return}else e.emitted={};e.emitted[o]=!0,b(y,e,6,u)}}}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;var a=e.emits,o={},u=!1;if(!(0,l.Tn)(e)){var s=function(e){var n=Y(e,t,!0);n&&(u=!0,(0,l.X$)(o,n))};!n&&t.mixins.length&&t.mixins.forEach(s),e["extends"]&&s(e["extends"]),e.mixins&&e.mixins.forEach(s)}return a||u?((0,l.cy)(a)?a.forEach((function(e){return o[e]=null})):(0,l.X$)(o,a),(0,l.Gv)(e)&&r.set(e,o),o):((0,l.Gv)(e)&&r.set(e,null),null)}function $(e,t){return!(!e||!(0,l.Mp)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,l.$3)(e,t[0].toLowerCase()+t.slice(1))||(0,l.$3)(e,(0,l.Tg)(t))||(0,l.$3)(e,t))}var X=null,J=null;function Z(e){var t=X;return X=e,J=e&&e.type.__scopeId||null,t}function ee(e){J=e}function te(){J=null}var ne=function(e){return re};function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;if(!t)return e;if(e._n)return e;var n=function n(){n._d&&xr(-1);var r,i=Z(t);try{r=e.apply(void 0,arguments)}finally{Z(i),n._d&&xr(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function ie(e){var t,n,r=e.type,i=e.vnode,o=e.proxy,u=e.withProxy,s=e.props,c=(0,a.A)(e.propsOptions,1),f=c[0],h=e.slots,d=e.attrs,v=e.emit,p=e.render,y=e.renderCache,g=e.data,m=e.setupState,A=e.ctx,w=e.inheritAttrs,k=Z(e);try{if(4&i.shapeFlag){var b=u||o,x=b;t=qr(p.call(x,b,y,s,m,g,A)),n=d}else{var E=r;0,t=qr(E.length>1?E(s,{attrs:d,slots:h,emit:v}):E(s,null)),n=r.props?d:oe(d)}}catch(O){Ar.length=0,_(O,e,1),t=Lr(gr)}var I=t;if(n&&!1!==w){var T=Object.keys(n),S=I,C=S.shapeFlag;if(T.length)if(7&C)f&&T.some(l.CP)&&(n=ue(n,f)),I=Ur(I,n);else;}return i.dirs&&(I=Ur(I),I.dirs=I.dirs?I.dirs.concat(i.dirs):i.dirs),i.transition&&(I.transition=i.transition),t=I,Z(k),t}function ae(e){for(var t,n=0;n<e.length;n++){var r=e[n];if(!Sr(r))return;if(r.type!==gr||"v-if"===r.children){if(t)return;t=r}}return t}var oe=function(e){var t;for(var n in e)("class"===n||"style"===n||(0,l.Mp)(n))&&((t||(t={}))[n]=e[n]);return t},ue=function(e,t){var n={};for(var r in e)(0,l.CP)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function se(e,t,n){var r=e.props,i=e.children,a=e.component,o=t.props,u=t.children,s=t.patchFlag,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&s>=0))return!(!i&&!u||u&&u.$stable)||r!==o&&(r?!o||ce(r,o,c):!!o);if(1024&s)return!0;if(16&s)return r?ce(r,o,c):!!o;if(8&s)for(var l=t.dynamicProps,f=0;f<l.length;f++){var h=l[f];if(o[h]!==r[h]&&!$(c,h))return!0}return!1}function ce(e,t,n){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(var i=0;i<r.length;i++){var a=r[i];if(t[a]!==e[a]&&!$(n,a))return!0}return!1}function le(e,t){var n=e.vnode,r=e.parent;while(r){var i=r.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i!==n)break;(n=r.vnode).el=t,r=r.parent}}var fe="components",he="directives";function de(e,t){return ge(fe,e,!0,t)||e}var ve=Symbol["for"]("v-ndc");function pe(e){return(0,l.Kg)(e)?ge(fe,e,!1)||e:e||ve}function ye(e){return ge(he,e)}function ge(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=X||Jr;if(r){var i=r.type;if(e===fe){var a=Ai(i,!1);if(a&&(a===t||a===(0,l.PT)(t)||a===(0,l.ZH)((0,l.PT)(t))))return i}var o=me(r[e]||i[e],t)||me(r.appContext[e],t);return!o&&n?i:o}}function me(e,t){return e&&(e[t]||e[(0,l.PT)(t)]||e[(0,l.ZH)((0,l.PT)(t))])}var Ae=function(e){return e.__isSuspense},we=0,ke={name:"Suspense",__isSuspense:!0,process:function(e,t,n,r,i,a,o,u,s,c){if(null==e)xe(t,n,r,i,a,o,u,s,c);else{if(a&&a.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);Ee(e,t,n,r,i,o,u,s,c)}},hydrate:Te,create:Ie,normalize:Se},be=ke;function _e(e,t){var n=e.props&&e.props[t];(0,l.Tn)(n)&&n()}function xe(e,t,n,r,i,a,o,u,s){var c=s.p,l=s.o.createElement,f=l("div"),h=e.suspense=Ie(e,i,r,t,f,n,a,o,u,s);c(null,h.pendingBranch=e.ssContent,f,null,r,h,a,o),h.deps>0?(_e(e,"onPending"),_e(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,a,o),Re(h,e.ssFallback)):h.resolve(!1,!0)}function Ee(e,t,n,r,i,a,o,u,s){var c=s.p,l=s.um,f=s.o.createElement,h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;var d=t.ssContent,v=t.ssFallback,p=h.activeBranch,y=h.pendingBranch,g=h.isInFallback,m=h.isHydrating;if(y)h.pendingBranch=d,Cr(d,y)?(c(y,d,h.hiddenContainer,null,i,h,a,o,u),h.deps<=0?h.resolve():g&&(m||(c(p,v,n,r,i,null,a,o,u),Re(h,v)))):(h.pendingId=we++,m?(h.isHydrating=!1,h.activeBranch=y):l(y,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=f("div"),g?(c(null,d,h.hiddenContainer,null,i,h,a,o,u),h.deps<=0?h.resolve():(c(p,v,n,r,i,null,a,o,u),Re(h,v))):p&&Cr(d,p)?(c(p,d,n,r,i,h,a,o,u),h.resolve(!0)):(c(null,d,h.hiddenContainer,null,i,h,a,o,u),h.deps<=0&&h.resolve()));else if(p&&Cr(d,p))c(p,d,n,r,i,h,a,o,u),Re(h,d);else if(_e(t,"onPending"),h.pendingBranch=d,512&d.shapeFlag?h.pendingId=d.component.suspenseId:h.pendingId=we++,c(null,d,h.hiddenContainer,null,i,h,a,o,u),h.deps<=0)h.resolve();else{var A=h.timeout,w=h.pendingId;A>0?setTimeout((function(){h.pendingId===w&&h.fallback(v)}),A):0===A&&h.fallback(v)}}function Ie(e,t,n,r,i,a,o,u,c,f){var h=arguments.length>10&&void 0!==arguments[10]&&arguments[10];var d,v=f.p,p=f.m,y=f.um,g=f.n,m=f.o,A=m.parentNode,w=m.remove,k=Ne(e);k&&(null==t?void 0:t.pendingBranch)&&(d=t.pendingId,t.deps++);var b=e.props?(0,l.Ro)(e.props.timeout):void 0;var x=a,E={vnode:e,parent:t,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:we++,timeout:"number"===typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r=E.vnode,i=E.activeBranch,o=E.pendingBranch,u=E.pendingId,c=E.effects,l=E.parentComponent,f=E.container,h=!1;E.isHydrating?E.isHydrating=!1:e||(h=i&&o.transition&&"out-in"===o.transition.mode,h&&(i.transition.afterLeave=function(){u===E.pendingId&&(p(o,f,a===x?g(i):a,0),V(c))}),i&&(A(i.el)!==E.hiddenContainer&&(a=g(i)),y(i,l,E,!0)),h||p(o,f,a,0)),Re(E,o),E.pendingBranch=null,E.isInFallback=!1;var v=E.parent,m=!1;while(v){if(v.pendingBranch){var w;(w=v.effects).push.apply(w,(0,s.A)(c)),m=!0;break}v=v.parent}m||h||V(c),E.effects=[],k&&t&&t.pendingBranch&&d===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),_e(r,"onResolve")},fallback:function(e){if(E.pendingBranch){var t=E.vnode,n=E.activeBranch,r=E.parentComponent,i=E.container,a=E.namespace;_e(t,"onFallback");var o=g(n),s=function(){E.isInFallback&&(v(null,e,i,o,r,null,a,u,c),Re(E,e))},l=e.transition&&"out-in"===e.transition.mode;l&&(n.transition.afterLeave=s),E.isInFallback=!0,y(n,r,null,!0),l||s()}},move:function(e,t,n){E.activeBranch&&p(E.activeBranch,e,t,n),E.container=e},next:function(){return E.activeBranch&&g(E.activeBranch)},registerDep:function(e,t){var n=!!E.pendingBranch;n&&E.deps++;var r=e.vnode.el;e.asyncDep["catch"]((function(t){_(t,e,0)})).then((function(i){if(!e.isUnmounted&&!E.isUnmounted&&E.pendingId===e.suspenseId){e.asyncResolved=!0;var a=e.vnode;0,li(e,i,!1),r&&(a.el=r);var u=!r&&e.subTree.el;t(e,a,A(r||e.subTree.el),r?null:g(e.subTree),E,o,c),u&&w(u),le(e,a.el),n&&0===--E.deps&&E.resolve()}}))},unmount:function(e,t){E.isUnmounted=!0,E.activeBranch&&y(E.activeBranch,n,e,t),E.pendingBranch&&y(E.pendingBranch,n,e,t)}};return E}function Te(e,t,n,r,i,a,o,u,s){var c=t.suspense=Ie(t,r,n,e.parentNode,document.createElement("div"),null,i,a,o,u,!0),l=s(e,c.pendingBranch=t.ssContent,n,c,a,o);return 0===c.deps&&c.resolve(!1,!0),l}function Se(e){var t=e.shapeFlag,n=e.children,r=32&t;e.ssContent=Ce(r?n["default"]:n),e.ssFallback=r?Ce(n.fallback):Lr(gr)}function Ce(e){var t;if((0,l.Tn)(e)){var n=_r&&e._c;n&&(e._d=!1,kr()),e=e(),n&&(e._d=!0,t=wr,br())}if((0,l.cy)(e)){var r=ae(e);0,e=r}return e=qr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((function(t){return t!==e}))),e}function Oe(e,t){var n;t&&t.pendingBranch?(0,l.cy)(e)?(n=t.effects).push.apply(n,(0,s.A)(e)):t.effects.push(e):V(e)}function Re(e,t){e.activeBranch=t;var n=e.vnode,r=e.parentComponent,i=t.el;while(!i&&t.component)t=t.component.subTree,i=t.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,le(r,i))}function Ne(e){var t;return null!=(null==(t=e.props)?void 0:t.suspensible)&&!1!==e.props.suspensible}var De=Symbol["for"]("v-scx"),Pe=function(){var e=_n(De);return e};function Le(e,t){return je(e,null,t)}function Me(e,t){return je(e,null,{flush:"post"})}function Fe(e,t){return je(e,null,{flush:"sync"})}var Ue={};function Ve(e,t,n){return je(e,t,n)}function je(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.MZ,r=n.immediate,i=n.deep,a=n.flush,o=n.once;n.onTrack,n.onTrigger;if(t&&o){var u=t;t=function(){u.apply(void 0,arguments),T()}}var s,f,h=Jr,d=function(e){return!0===i?e:ze(e,!1===i?1:void 0)},v=!1,p=!1;if((0,c.i9)(e)?(s=function(){return e.value},v=(0,c.fE)(e)):(0,c.g8)(e)?(s=function(){return d(e)},v=!0):(0,l.cy)(e)?(p=!0,v=e.some((function(e){return(0,c.g8)(e)||(0,c.fE)(e)})),s=function(){return e.map((function(e){return(0,c.i9)(e)?e.value:(0,c.g8)(e)?d(e):(0,l.Tn)(e)?k(e,h,2):void 0}))}):s=(0,l.Tn)(e)?t?function(){return k(e,h,2)}:function(){return f&&f(),b(e,h,3,[m])}:l.tE,t&&i){var y=s;s=function(){return ze(y())}}var g,m=function(e){f=E.onStop=function(){k(e,h,4),f=E.onStop=void 0}};if(ui){if(m=l.tE,t?r&&b(t,h,3,[s(),p?[]:void 0,m]):s(),"sync"!==a)return l.tE;var A=Pe();g=A.__watcherHandles||(A.__watcherHandles=[])}var w,_=p?new Array(e.length).fill(Ue):Ue,x=function(){if(E.active&&E.dirty)if(t){var e=E.run();(i||v||(p?e.some((function(e,t){return(0,l.$H)(e,_[t])})):(0,l.$H)(e,_)))&&(f&&f(),b(t,h,3,[e,_===Ue?void 0:p&&_[0]===Ue?[]:_,m]),_=e)}else E.run()};x.allowRecurse=!!t,"sync"===a?w=x:"post"===a?w=function(){return Yn(x,h&&h.suspense)}:(x.pre=!0,h&&(x.id=h.uid),w=function(){return M(x)});var E=new c.X2(s,l.tE,w),I=(0,c.o5)(),T=function(){E.stop(),I&&(0,l.TF)(I.effects,E)};return t?r?x():_=E.run():"post"===a?Yn(E.run.bind(E),h&&h.suspense):E.run(),g&&g.push(T),T}function Be(e,t,n){var r,i=this.proxy,a=(0,l.Kg)(e)?e.includes(".")?qe(i,e):function(){return i[e]}:e.bind(i,i);(0,l.Tn)(t)?r=t:(r=t.handler,n=t);var o=ni(this),u=je(a,r.bind(i),n);return o(),u}function qe(e,t){var n=t.split(".");return function(){for(var t=e,r=0;r<n.length&&t;r++)t=t[n[r]];return t}}function ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;if(!(0,l.Gv)(e)||e["__v_skip"])return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),(0,c.i9)(e))ze(e.value,t,n,r);else if((0,l.cy)(e))for(var i=0;i<e.length;i++)ze(e[i],t,n,r);else if((0,l.vM)(e)||(0,l.CE)(e))e.forEach((function(e){ze(e,t,n,r)}));else if((0,l.Qd)(e))for(var a in e)ze(e[a],t,n,r);return e}function Ke(e,t){if(null===X)return e;for(var n=yi(X)||X.proxy,r=e.dirs||(e.dirs=[]),i=0;i<t.length;i++){var o=(0,a.A)(t[i],4),u=o[0],s=o[1],c=o[2],f=o[3],h=void 0===f?l.MZ:f;u&&((0,l.Tn)(u)&&(u={mounted:u,updated:u}),u.deep&&ze(s),r.push({dir:u,instance:n,value:s,oldValue:void 0,arg:c,modifiers:h}))}return e}function Ge(e,t,n,r){for(var i=e.dirs,a=t&&t.dirs,o=0;o<i.length;o++){var u=i[o];a&&(u.oldValue=a[o].value);var s=u.dir[r];s&&((0,c.C4)(),b(s,n,8,[e.el,u,e,t]),(0,c.bl)())}}var He=Symbol("_leaveCb"),We=Symbol("_enterCb");function Qe(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return bt((function(){e.isMounted=!0})),Et((function(){e.isUnmounting=!0})),e}var Ye=[Function,Array],$e={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ye,onEnter:Ye,onAfterEnter:Ye,onEnterCancelled:Ye,onBeforeLeave:Ye,onLeave:Ye,onAfterLeave:Ye,onLeaveCancelled:Ye,onBeforeAppear:Ye,onAppear:Ye,onAfterAppear:Ye,onAppearCancelled:Ye},Xe={name:"BaseTransition",props:$e,setup:function(e,t){var n=t.slots,r=Zr(),i=Qe();return function(){var t=n["default"]&&it(n["default"](),!0);if(t&&t.length){var a=t[0];if(t.length>1){var u,s=(0,o.A)(t);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(l.type!==gr){0,a=l,!0;break}}}catch(m){s.e(m)}finally{s.f()}}var f=(0,c.ux)(e),h=f.mode;if(i.isLeaving)return tt(a);var d=nt(a);if(!d)return tt(a);var v=et(d,f,i,r);rt(d,v);var p=r.subTree,y=p&&nt(p);if(y&&y.type!==gr&&!Cr(d,y)){var g=et(y,f,i,r);if(rt(y,g),"out-in"===h)return i.isLeaving=!0,g.afterLeave=function(){i.isLeaving=!1,!1!==r.update.active&&(r.effect.dirty=!0,r.update())},tt(a);"in-out"===h&&d.type!==gr&&(g.delayLeave=function(e,t,n){var r=Ze(i,y);r[String(y.key)]=y,e[He]=function(){t(),e[He]=void 0,delete v.delayedLeave},v.delayedLeave=n})}return a}}}},Je=Xe;function Ze(e,t){var n=e.leavingVNodes,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function et(e,t,n,r){var i=t.appear,a=t.mode,o=t.persisted,u=void 0!==o&&o,s=t.onBeforeEnter,c=t.onEnter,f=t.onAfterEnter,h=t.onEnterCancelled,d=t.onBeforeLeave,v=t.onLeave,p=t.onAfterLeave,y=t.onLeaveCancelled,g=t.onBeforeAppear,m=t.onAppear,A=t.onAfterAppear,w=t.onAppearCancelled,k=String(e.key),_=Ze(n,e),x=function(e,t){e&&b(e,r,9,t)},E=function(e,t){var n=t[1];x(e,t),(0,l.cy)(e)?e.every((function(e){return e.length<=1}))&&n():e.length<=1&&n()},I={mode:a,persisted:u,beforeEnter:function(t){var r=s;if(!n.isMounted){if(!i)return;r=g||s}t[He]&&t[He](!0);var a=_[k];a&&Cr(e,a)&&a.el[He]&&a.el[He](),x(r,[t])},enter:function(e){var t=c,r=f,a=h;if(!n.isMounted){if(!i)return;t=m||c,r=A||f,a=w||h}var o=!1,u=e[We]=function(t){o||(o=!0,x(t?a:r,[e]),I.delayedLeave&&I.delayedLeave(),e[We]=void 0)};t?E(t,[e,u]):u()},leave:function(t,r){var i=String(e.key);if(t[We]&&t[We](!0),n.isUnmounting)return r();x(d,[t]);var a=!1,o=t[He]=function(n){a||(a=!0,r(),x(n?y:p,[t]),t[He]=void 0,_[i]===e&&delete _[i])};_[i]=e,v?E(v,[t,o]):o()},clone:function(e){return et(e,t,n,r)}};return I}function tt(e){if(ct(e))return e=Ur(e),e.children=null,e}function nt(e){return ct(e)?e.children?e.children[0]:void 0:e}function rt(e,t){6&e.shapeFlag&&e.component?rt(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function it(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=[],i=0,a=0;a<e.length;a++){var o=e[a],u=null==n?o.key:String(n)+String(null!=o.key?o.key:a);o.type===pr?(128&o.patchFlag&&i++,r=r.concat(it(o.children,t,u))):(t||o.type!==gr)&&r.push(null!=u?Ur(o,{key:u}):o)}if(i>1)for(var s=0;s<r.length;s++)r[s].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function at(e,t){return(0,l.Tn)(e)?function(){return(0,l.X$)({name:e.name},t,{setup:e})}():e}var ot=function(e){return!!e.type.__asyncLoader};
/*! #__NO_SIDE_EFFECTS__ */function ut(e){(0,l.Tn)(e)&&(e={loader:e});var t,n=e,r=n.loader,i=n.loadingComponent,a=n.errorComponent,o=n.delay,u=void 0===o?200:o,s=n.timeout,f=n.suspensible,h=void 0===f||f,d=n.onError,v=null,p=0,y=function(){return p++,v=null,g()},g=function(){var e;return v||(e=v=r()["catch"]((function(e){if(e=e instanceof Error?e:new Error(String(e)),d)return new Promise((function(t,n){var r=function(){return t(y())},i=function(){return n(e)};d(e,r,i,p+1)}));throw e})).then((function(n){return e!==v&&v?v:(n&&(n.__esModule||"Module"===n[Symbol.toStringTag])&&(n=n["default"]),t=n,n)})))};return at({name:"AsyncComponentWrapper",__asyncLoader:g,get __asyncResolved(){return t},setup:function(){var e=Jr;if(t)return function(){return st(t,e)};var n=function(t){v=null,_(t,e,13,!a)};if(h&&e.suspense||ui)return g().then((function(t){return function(){return st(t,e)}}))["catch"]((function(e){return n(e),function(){return a?Lr(a,{error:e}):null}}));var r=(0,c.KR)(!1),o=(0,c.KR)(),l=(0,c.KR)(!!u);return u&&setTimeout((function(){l.value=!1}),u),null!=s&&setTimeout((function(){if(!r.value&&!o.value){var e=new Error("Async component timed out after ".concat(s,"ms."));n(e),o.value=e}}),s),g().then((function(){r.value=!0,e.parent&&ct(e.parent.vnode)&&(e.parent.effect.dirty=!0,M(e.parent.update))}))["catch"]((function(e){n(e),o.value=e})),function(){return r.value&&t?st(t,e):o.value&&a?Lr(a,{error:o.value}):i&&!l.value?Lr(i):void 0}}})}function st(e,t){var n=t.vnode,r=n.ref,i=n.props,a=n.children,o=n.ce,u=Lr(e,i,a);return u.ref=r,u.ce=o,delete t.vnode.ce,u}var ct=function(e){return e.type.__isKeepAlive},lt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup:function(e,t){var n=t.slots,r=Zr(),i=r.ctx;if(!i.renderer)return function(){var e=n["default"]&&n["default"]();return e&&1===e.length?e[0]:e};var o=new Map,u=new Set,s=null;var c=r.suspense,f=i.renderer,h=f.p,d=f.m,v=f.um,p=f.o.createElement,y=p("div");function g(e){gt(e),v(e,r,c,!0)}function m(e){o.forEach((function(t,n){var r=Ai(t.type);!r||e&&e(r)||A(n)}))}function A(e){var t=o.get(e);s&&Cr(t,s)?s&&gt(s):g(t),o["delete"](e),u["delete"](e)}i.activate=function(e,t,n,r,i){var a=e.component;d(e,t,n,0,c),h(a.vnode,e,t,n,a,c,r,e.slotScopeIds,i),Yn((function(){a.isDeactivated=!1,a.a&&(0,l.DY)(a.a);var t=e.props&&e.props.onVnodeMounted;t&&Hr(t,a.parent,e)}),c)},i.deactivate=function(e){var t=e.component;d(e,y,null,1,c),Yn((function(){t.da&&(0,l.DY)(t.da);var n=e.props&&e.props.onVnodeUnmounted;n&&Hr(n,t.parent,e),t.isDeactivated=!0}),c)},Ve((function(){return[e.include,e.exclude]}),(function(e){var t=(0,a.A)(e,2),n=t[0],r=t[1];n&&m((function(e){return ht(n,e)})),r&&m((function(e){return!ht(r,e)}))}),{flush:"post",deep:!0});var w=null,k=function(){null!=w&&o.set(w,mt(r.subTree))};return bt(k),xt(k),Et((function(){o.forEach((function(e){var t=r.subTree,n=r.suspense,i=mt(t);if(e.type!==i.type||e.key!==i.key)g(e);else{gt(i);var a=i.component.da;a&&Yn(a,n)}}))})),function(){if(w=null,!n["default"])return null;var t=n["default"](),r=t[0];if(t.length>1)return s=null,t;if(!Sr(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return s=null,r;var i=mt(r),a=i.type,c=Ai(ot(i)?i.type.__asyncResolved||{}:a),l=e.include,f=e.exclude,h=e.max;if(l&&(!c||!ht(l,c))||f&&c&&ht(f,c))return s=i,r;var d=null==i.key?a:i.key,v=o.get(d);return i.el&&(i=Ur(i),128&r.shapeFlag&&(r.ssContent=i)),w=d,v?(i.el=v.el,i.component=v.component,i.transition&&rt(i,i.transition),i.shapeFlag|=512,u["delete"](d),u.add(d)):(u.add(d),h&&u.size>parseInt(h,10)&&A(u.values().next().value)),i.shapeFlag|=256,s=i,Ae(r.type)?r:i}}},ft=lt;function ht(e,t){return(0,l.cy)(e)?e.some((function(e){return ht(e,t)})):(0,l.Kg)(e)?e.split(",").includes(t):!!(0,l.gd)(e)&&e.test(t)}function dt(e,t){pt(e,"a",t)}function vt(e,t){pt(e,"da",t)}function pt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jr,r=e.__wdc||(e.__wdc=function(){var t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(At(t,r,n),n){var i=n.parent;while(i&&i.parent)ct(i.parent.vnode)&&yt(r,t,n,i),i=i.parent}}function yt(e,t,n,r){var i=At(t,e,r,!0);It((function(){(0,l.TF)(r[t],i)}),n)}function gt(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function mt(e){return 128&e.shapeFlag?e.ssContent:e}function At(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jr,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n){var i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=function(){if(!n.isUnmounted){(0,c.C4)();for(var r=ni(n),i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=b(t,n,e,a);return r(),(0,c.bl)(),u}});return r?i.unshift(a):i.push(a),a}}var wt=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr;return(!ui||"sp"===e)&&At(e,(function(){return t.apply(void 0,arguments)}),n)}},kt=wt("bm"),bt=wt("m"),_t=wt("bu"),xt=wt("u"),Et=wt("bum"),It=wt("um"),Tt=wt("sp"),St=wt("rtg"),Ct=wt("rtc");function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr;At("ec",e,t)}function Rt(e,t,n,r){var i,a=n&&n[r];if((0,l.cy)(e)||(0,l.Kg)(e)){i=new Array(e.length);for(var o=0,u=e.length;o<u;o++)i[o]=t(e[o],o,void 0,a&&a[o])}else if("number"===typeof e){0,i=new Array(e);for(var s=0;s<e;s++)i[s]=t(s+1,s,void 0,a&&a[s])}else if((0,l.Gv)(e))if(e[Symbol.iterator])i=Array.from(e,(function(e,n){return t(e,n,void 0,a&&a[n])}));else{var c=Object.keys(e);i=new Array(c.length);for(var f=0,h=c.length;f<h;f++){var d=c[f];i[f]=t(e[d],d,f,a&&a[f])}}else i=[];return n&&(n[r]=i),i}function Nt(e,t){for(var n=function(){var n=t[r];if((0,l.cy)(n))for(var i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?function(){var e=n.fn.apply(n,arguments);return e&&(e.key=n.key),e}:n.fn)},r=0;r<t.length;r++)n();return e}function Dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(X.isCE||X.parent&&ot(X.parent)&&X.parent.isCE)return"default"!==t&&(n.name=t),Lr("slot",n,r&&r());var a=e[t];a&&a._c&&(a._d=!1),kr();var o=a&&Pt(a(n)),u=Tr(pr,{key:n.key||o&&o.key||"_".concat(t)},o||(r?r():[]),o&&1===e._?64:-2);return!i&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),a&&a._c&&(a._d=!0),u}function Pt(e){return e.some((function(e){return!Sr(e)||e.type!==gr&&!(e.type===pr&&!Pt(e.children))}))?e:null}function Lt(e,t){var n={};for(var r in e)n[t&&/[A-Z]/.test(r)?"on:".concat(r):(0,l.rU)(r)]=e[r];return n}var Mt=function e(t){return t?ii(t)?yi(t)||t.proxy:e(t.parent):null},Ft=(0,l.X$)(Object.create(null),{$:function(e){return e},$el:function(e){return e.vnode.el},$data:function(e){return e.data},$props:function(e){return e.props},$attrs:function(e){return e.attrs},$slots:function(e){return e.slots},$refs:function(e){return e.refs},$parent:function(e){return Mt(e.parent)},$root:function(e){return Mt(e.root)},$emit:function(e){return e.emit},$options:function(e){return sn(e)},$forceUpdate:function(e){return e.f||(e.f=function(){e.effect.dirty=!0,M(e.update)})},$nextTick:function(e){return e.n||(e.n=P.bind(e.proxy))},$watch:function(e){return Be.bind(e)}}),Ut=function(e,t){return e!==l.MZ&&!e.__isScriptSetup&&(0,l.$3)(e,t)},Vt={get:function(e,t){var n,r=e._,i=r.ctx,a=r.setupState,o=r.data,u=r.props,s=r.accessCache,f=r.type,h=r.appContext;if("$"!==t[0]){var d=s[t];if(void 0!==d)switch(d){case 1:return a[t];case 2:return o[t];case 4:return i[t];case 3:return u[t]}else{if(Ut(a,t))return s[t]=1,a[t];if(o!==l.MZ&&(0,l.$3)(o,t))return s[t]=2,o[t];if((n=r.propsOptions[0])&&(0,l.$3)(n,t))return s[t]=3,u[t];if(i!==l.MZ&&(0,l.$3)(i,t))return s[t]=4,i[t];nn&&(s[t]=0)}}var v,p,y=Ft[t];return y?("$attrs"===t&&(0,c.u4)(r,"get",t),y(r)):(v=f.__cssModules)&&(v=v[t])?v:i!==l.MZ&&(0,l.$3)(i,t)?(s[t]=4,i[t]):(p=h.config.globalProperties,(0,l.$3)(p,t)?p[t]:void 0)},set:function(e,t,n){var r=e._,i=r.data,a=r.setupState,o=r.ctx;return Ut(a,t)?(a[t]=n,!0):i!==l.MZ&&(0,l.$3)(i,t)?(i[t]=n,!0):!(0,l.$3)(r.props,t)&&(("$"!==t[0]||!(t.slice(1)in r))&&(o[t]=n,!0))},has:function(e,t){var n,r=e._,i=r.data,a=r.setupState,o=r.accessCache,u=r.ctx,s=r.appContext,c=r.propsOptions;return!!o[t]||i!==l.MZ&&(0,l.$3)(i,t)||Ut(a,t)||(n=c[0])&&(0,l.$3)(n,t)||(0,l.$3)(u,t)||(0,l.$3)(Ft,t)||(0,l.$3)(s.config.globalProperties,t)},defineProperty:function(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,l.$3)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};var jt=(0,l.X$)({},Vt,{get:function(e,t){if(t!==Symbol.unscopables)return Vt.get(e,t,e)},has:function(e,t){var n="_"!==t[0]&&!(0,l.BH)(t);return n}});function Bt(){return null}function qt(){return null}function zt(e){0}function Kt(e){0}function Gt(){return null}function Ht(){0}function Wt(e,t){return null}function Qt(){return $t().slots}function Yt(){return $t().attrs}function $t(){var e=Zr();return e.setupContext||(e.setupContext=pi(e))}function Xt(e){return(0,l.cy)(e)?e.reduce((function(e,t){return e[t]=null,e}),{}):e}function Jt(e,t){var n=Xt(e);for(var r in t)if(!r.startsWith("__skip")){var i=n[r];i?(0,l.cy)(i)||(0,l.Tn)(i)?i=n[r]={type:i,default:t[r]}:i["default"]=t[r]:null===i&&(i=n[r]={default:t[r]}),i&&t["__skip_".concat(r)]&&(i.skipFactory=!0)}return n}function Zt(e,t){return e&&t?(0,l.cy)(e)&&(0,l.cy)(t)?e.concat(t):(0,l.X$)({},Xt(e),Xt(t)):e||t}function en(e,t){var n={},r=function(r){t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[r]}})};for(var i in e)r(i);return n}function tn(e){var t=Zr();var n=e();return ri(),(0,l.yL)(n)&&(n=n["catch"]((function(e){throw ni(t),e}))),[n,function(){return ni(t)}]}var nn=!0;function rn(e){var t=sn(e),n=e.proxy,r=e.ctx;nn=!1,t.beforeCreate&&on(t.beforeCreate,e,"bc");var i=t.data,a=t.computed,o=t.methods,u=t.watch,s=t.provide,f=t.inject,h=t.created,d=t.beforeMount,v=t.mounted,p=t.beforeUpdate,y=t.updated,g=t.activated,m=t.deactivated,A=(t.beforeDestroy,t.beforeUnmount),w=(t.destroyed,t.unmounted),k=t.render,b=t.renderTracked,_=t.renderTriggered,x=t.errorCaptured,E=t.serverPrefetch,I=t.expose,T=t.inheritAttrs,S=t.components,C=t.directives,O=(t.filters,null);if(f&&an(f,r,O),o)for(var R in o){var N=o[R];(0,l.Tn)(N)&&(r[R]=N.bind(n))}if(i){0;var D=i.call(n,n);if((0,l.Gv)(D))e.data=(0,c.Kh)(D);else;}if(nn=!0,a){var P=function(e){var t=a[e],i=(0,l.Tn)(t)?t.bind(n,n):(0,l.Tn)(t.get)?t.get.bind(n,n):l.tE;var o=!(0,l.Tn)(t)&&(0,l.Tn)(t.set)?t.set.bind(n):l.tE,u=bi({get:i,set:o});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:function(){return u.value},set:function(e){return u.value=e}})};for(var L in a)P(L)}if(u)for(var M in u)un(u[M],r,n,M);if(s){var F=(0,l.Tn)(s)?s.call(n):s;Reflect.ownKeys(F).forEach((function(e){bn(e,F[e])}))}function U(e,t){(0,l.cy)(t)?t.forEach((function(t){return e(t.bind(n))})):t&&e(t.bind(n))}if(h&&on(h,e,"c"),U(kt,d),U(bt,v),U(_t,p),U(xt,y),U(dt,g),U(vt,m),U(Ot,x),U(Ct,b),U(St,_),U(Et,A),U(It,w),U(Tt,E),(0,l.cy)(I))if(I.length){var V=e.exposed||(e.exposed={});I.forEach((function(e){Object.defineProperty(V,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})}))}else e.exposed||(e.exposed={});k&&e.render===l.tE&&(e.render=k),null!=T&&(e.inheritAttrs=T),S&&(e.components=S),C&&(e.directives=C)}function an(e,t){arguments.length>2&&void 0!==arguments[2]||l.tE;(0,l.cy)(e)&&(e=dn(e));var n=function(){var n,i=e[r];n=(0,l.Gv)(i)?"default"in i?_n(i.from||r,i["default"],!0):_n(i.from||r):_n(i),(0,c.i9)(n)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:function(){return n.value},set:function(e){return n.value=e}}):t[r]=n};for(var r in e)n()}function on(e,t,n){b((0,l.cy)(e)?e.map((function(e){return e.bind(t.proxy)})):e.bind(t.proxy),t,n)}function un(e,t,n,r){var i=r.includes(".")?qe(n,r):function(){return n[r]};if((0,l.Kg)(e)){var a=t[e];(0,l.Tn)(a)&&Ve(i,a)}else if((0,l.Tn)(e))Ve(i,e.bind(n));else if((0,l.Gv)(e))if((0,l.cy)(e))e.forEach((function(e){return un(e,t,n,r)}));else{var o=(0,l.Tn)(e.handler)?e.handler.bind(n):t[e.handler];(0,l.Tn)(o)&&Ve(i,o,e)}else 0}function sn(e){var t,n=e.type,r=n.mixins,i=n["extends"],a=e.appContext,o=a.mixins,u=a.optionsCache,s=a.config.optionMergeStrategies,c=u.get(n);return c?t=c:o.length||r||i?(t={},o.length&&o.forEach((function(e){return cn(t,e,s,!0)})),cn(t,n,s)):t=n,(0,l.Gv)(n)&&u.set(n,t),t}function cn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.mixins,a=t["extends"];for(var o in a&&cn(e,a,n,!0),i&&i.forEach((function(t){return cn(e,t,n,!0)})),t)if(r&&"expose"===o);else{var u=ln[o]||n&&n[o];e[o]=u?u(e[o],t[o]):t[o]}return e}var ln={data:fn,props:yn,emits:yn,methods:pn,computed:pn,beforeCreate:vn,created:vn,beforeMount:vn,mounted:vn,beforeUpdate:vn,updated:vn,beforeDestroy:vn,beforeUnmount:vn,destroyed:vn,unmounted:vn,activated:vn,deactivated:vn,errorCaptured:vn,serverPrefetch:vn,components:pn,directives:pn,watch:gn,provide:fn,inject:hn};function fn(e,t){return t?e?function(){return(0,l.X$)((0,l.Tn)(e)?e.call(this,this):e,(0,l.Tn)(t)?t.call(this,this):t)}:t:e}function hn(e,t){return pn(dn(e),dn(t))}function dn(e){if((0,l.cy)(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function vn(e,t){return e?(0,s.A)(new Set([].concat(e,t))):t}function pn(e,t){return e?(0,l.X$)(Object.create(null),e,t):t}function yn(e,t){return e?(0,l.cy)(e)&&(0,l.cy)(t)?(0,s.A)(new Set([].concat((0,s.A)(e),(0,s.A)(t)))):(0,l.X$)(Object.create(null),Xt(e),Xt(null!=t?t:{})):t}function gn(e,t){if(!e)return t;if(!t)return e;var n=(0,l.X$)(Object.create(null),e);for(var r in t)n[r]=vn(e[r],t[r]);return n}function mn(){return{app:null,config:{isNativeTag:l.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var An=0;function wn(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,l.Tn)(n)||(n=(0,l.X$)({},n)),null==r||(0,l.Gv)(r)||(r=null);var i=mn(),a=new WeakSet,o=!1,u=i.app={_uid:An++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Si,get config(){return i.config},set config(e){0},use:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.has(e)||(e&&(0,l.Tn)(e.install)?(a.add(e),e.install.apply(e,[u].concat(n))):(0,l.Tn)(e)&&(a.add(e),e.apply(void 0,[u].concat(n)))),u},mixin:function(e){return i.mixins.includes(e)||i.mixins.push(e),u},component:function(e,t){return t?(i.components[e]=t,u):i.components[e]},directive:function(e,t){return t?(i.directives[e]=t,u):i.directives[e]},mount:function(a,s,c){if(!o){0;var l=Lr(n,r);return l.appContext=i,!0===c?c="svg":!1===c&&(c=void 0),s&&t?t(l,a):e(l,a,c),o=!0,u._container=a,a.__vue_app__=u,yi(l.component)||l.component.proxy}},unmount:function(){o&&(e(null,u._container),delete u._container.__vue_app__)},provide:function(e,t){return i.provides[e]=t,u},runWithContext:function(e){var t=kn;kn=u;try{return e()}finally{kn=t}}};return u}}var kn=null;function bn(e,t){if(Jr){var n=Jr.provides,r=Jr.parent&&Jr.parent.provides;r===n&&(n=Jr.provides=Object.create(r)),n[e]=t}else 0}function _n(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Jr||X;if(r||kn){var i=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:kn._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,l.Tn)(t)?t.call(r&&r.proxy):t}else 0}function xn(){return!!(Jr||X||kn)}function En(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={},a={};for(var o in(0,l.yQ)(a,Rr,1),e.propsDefaults=Object.create(null),Tn(e,t,i,a),e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:(0,c.Gc)(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function In(e,t,n,r){var i=e.props,o=e.attrs,u=e.vnode.patchFlag,s=(0,c.ux)(i),f=(0,a.A)(e.propsOptions,1),h=f[0],d=!1;if(!(r||u>0)||16&u){var v;for(var p in Tn(e,t,i,o)&&(d=!0),s)t&&((0,l.$3)(t,p)||(v=(0,l.Tg)(p))!==p&&(0,l.$3)(t,v))||(h?!n||void 0===n[p]&&void 0===n[v]||(i[p]=Sn(h,s,p,void 0,e,!0)):delete i[p]);if(o!==s)for(var y in o)t&&(0,l.$3)(t,y)||(delete o[y],d=!0)}else if(8&u)for(var g=e.vnode.dynamicProps,m=0;m<g.length;m++){var A=g[m];if(!$(e.emitsOptions,A)){var w=t[A];if(h)if((0,l.$3)(o,A))w!==o[A]&&(o[A]=w,d=!0);else{var k=(0,l.PT)(A);i[k]=Sn(h,s,k,w,e,!1)}else w!==o[A]&&(o[A]=w,d=!0)}}d&&(0,c.hZ)(e,"set","$attrs")}function Tn(e,t,n,r){var i,o=(0,a.A)(e.propsOptions,2),u=o[0],s=o[1],f=!1;if(t)for(var h in t)if(!(0,l.SU)(h)){var d=t[h],v=void 0;u&&(0,l.$3)(u,v=(0,l.PT)(h))?s&&s.includes(v)?(i||(i={}))[v]=d:n[v]=d:$(e.emitsOptions,h)||h in r&&d===r[h]||(r[h]=d,f=!0)}if(s)for(var p=(0,c.ux)(n),y=i||l.MZ,g=0;g<s.length;g++){var m=s[g];n[m]=Sn(u,p,m,y[m],e,!(0,l.$3)(y,m))}return f}function Sn(e,t,n,r,i,a){var o=e[n];if(null!=o){var u=(0,l.$3)(o,"default");if(u&&void 0===r){var s=o["default"];if(o.type!==Function&&!o.skipFactory&&(0,l.Tn)(s)){var c=i.propsDefaults;if(n in c)r=c[n];else{var f=ni(i);r=c[n]=s.call(null,t),f()}}else r=s}o[0]&&(a&&!u?r=!1:!o[1]||""!==r&&r!==(0,l.Tg)(n)||(r=!0))}return r}function Cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.propsCache,i=r.get(e);if(i)return i;var o=e.props,u={},c=[],f=!1;if(!(0,l.Tn)(e)){var h=function(e){f=!0;var n=Cn(e,t,!0),r=(0,a.A)(n,2),i=r[0],o=r[1];(0,l.X$)(u,i),o&&c.push.apply(c,(0,s.A)(o))};!n&&t.mixins.length&&t.mixins.forEach(h),e["extends"]&&h(e["extends"]),e.mixins&&e.mixins.forEach(h)}if(!o&&!f)return(0,l.Gv)(e)&&r.set(e,l.Oj),l.Oj;if((0,l.cy)(o))for(var d=0;d<o.length;d++){0;var v=(0,l.PT)(o[d]);On(v)&&(u[v]=l.MZ)}else if(o)for(var p in o){var y=(0,l.PT)(p);if(On(y)){var g=o[p],m=u[y]=(0,l.cy)(g)||(0,l.Tn)(g)?{type:g}:(0,l.X$)({},g);if(m){var A=Dn(Boolean,m.type),w=Dn(String,m.type);m[0]=A>-1,m[1]=w<0||A<w,(A>-1||(0,l.$3)(m,"default"))&&c.push(y)}}}var k=[u,c];return(0,l.Gv)(e)&&r.set(e,k),k}function On(e){return"$"!==e[0]&&!(0,l.SU)(e)}function Rn(e){if(null===e)return"null";if("function"===typeof e)return e.name||"";if("object"===(0,i.A)(e)){var t=e.constructor&&e.constructor.name;return t||""}return""}function Nn(e,t){return Rn(e)===Rn(t)}function Dn(e,t){return(0,l.cy)(t)?t.findIndex((function(t){return Nn(t,e)})):(0,l.Tn)(t)&&Nn(t,e)?0:-1}var Pn=function(e){return"_"===e[0]||"$stable"===e},Ln=function(e){return(0,l.cy)(e)?e.map(qr):[qr(e)]},Mn=function(e,t,n){if(t._n)return t;var r=re((function(){return Ln(t.apply(void 0,arguments))}),n);return r._c=!1,r},Fn=function(e,t,n){var r=e._ctx,i=function(){if(Pn(a))return 1;var n=e[a];if((0,l.Tn)(n))t[a]=Mn(a,n,r);else if(null!=n){0;var i=Ln(n);t[a]=function(){return i}}};for(var a in e)i()},Un=function(e,t){var n=Ln(t);e.slots["default"]=function(){return n}},Vn=function(e,t){if(32&e.vnode.shapeFlag){var n=t._;n?(e.slots=(0,c.ux)(t),(0,l.yQ)(t,"_",n)):Fn(t,e.slots={})}else e.slots={},t&&Un(e,t);(0,l.yQ)(e.slots,Rr,1)},jn=function(e,t,n){var r=e.vnode,i=e.slots,a=!0,o=l.MZ;if(32&r.shapeFlag){var u=t._;u?n&&1===u?a=!1:((0,l.X$)(i,t),n||1!==u||delete i._):(a=!t.$stable,Fn(t,i)),o=t}else t&&(Un(e,t),o={default:1});if(a)for(var s in i)Pn(s)||null!=o[s]||delete i[s]};function Bn(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,l.cy)(e))e.forEach((function(e,a){return Bn(e,t&&((0,l.cy)(t)?t[a]:t),n,r,i)}));else if(!ot(r)||i){var a=4&r.shapeFlag?yi(r.component)||r.component.proxy:r.el,o=i?null:a,u=e.i,s=e.r;0;var f=t&&t.r,h=u.refs===l.MZ?u.refs={}:u.refs,d=u.setupState;if(null!=f&&f!==s&&((0,l.Kg)(f)?(h[f]=null,(0,l.$3)(d,f)&&(d[f]=null)):(0,c.i9)(f)&&(f.value=null)),(0,l.Tn)(s))k(s,u,12,[o,h]);else{var v=(0,l.Kg)(s),p=(0,c.i9)(s);if(v||p){var y=function(){if(e.f){var t=v?(0,l.$3)(d,s)?d[s]:h[s]:s.value;i?(0,l.cy)(t)&&(0,l.TF)(t,a):(0,l.cy)(t)?t.includes(a)||t.push(a):v?(h[s]=[a],(0,l.$3)(d,s)&&(d[s]=h[s])):(s.value=[a],e.k&&(h[e.k]=s.value))}else v?(h[s]=o,(0,l.$3)(d,s)&&(d[s]=o)):p&&(s.value=o,e.k&&(h[e.k]=o))};o?(y.id=-1,Yn(y,n)):y()}else 0}}}var qn=!1,zn=function(e){return e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName},Kn=function(e){return e.namespaceURI.includes("MathML")},Gn=function(e){return zn(e)?"svg":Kn(e)?"mathml":void 0},Hn=function(e){return 8===e.nodeType};function Wn(e){var t=e.mt,n=e.p,r=e.o,a=r.patchProp,o=r.createText,u=r.nextSibling,s=r.parentNode,c=r.remove,f=r.insert,d=r.createComment,v=function(e,t){if(!t.hasChildNodes())return __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&h("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,e,t),B(),void(t._vnode=e);qn=!1,p(t.firstChild,e,null,null,null),B(),t._vnode=e,qn&&console.error("Hydration completed but contains mismatches.")},p=function n(r,a,c,l,d){var v=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=Hn(r)&&"["===r.data,_=function(){return A(r,a,c,l,d,p)},x=a.type,E=a.ref,I=a.shapeFlag,T=a.patchFlag,S=r.nodeType;a.el=r,-2===T&&(v=!1,a.dynamicChildren=null);var C=null;switch(x){case yr:3!==S?""===a.children?(f(a.el=o(""),s(r),r),C=r):C=_():(r.data!==a.children&&(qn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&h("Hydration text mismatch in",r.parentNode,"\n  - rendered on server: ".concat(JSON.stringify(r.data),"\n  - expected on client: ").concat(JSON.stringify(a.children))),r.data=a.children),C=u(r));break;case gr:b(r)?(C=u(r),k(a.el=r.content.firstChild,r,c)):C=8!==S||p?_():u(r);break;case mr:if(p&&(r=u(r),S=r.nodeType),1===S||3===S){C=r;for(var O=!a.children.length,R=0;R<a.staticCount;R++)O&&(a.children+=1===C.nodeType?C.outerHTML:C.data),R===a.staticCount-1&&(a.anchor=C),C=u(C);return p?u(C):C}_();break;case pr:C=p?m(r,a,c,l,d,v):_();break;default:if(1&I)C=1===S&&a.type.toLowerCase()===r.tagName.toLowerCase()||b(r)?y(r,a,c,l,d,v):_();else if(6&I){a.slotScopeIds=d;var N,D=s(r);if(C=p?w(r):Hn(r)&&"teleport start"===r.data?w(r,r.data,"teleport end"):u(r),t(a,D,null,c,l,Gn(D),v),ot(a))p?(N=Lr(pr),N.anchor=C?C.previousSibling:D.lastChild):N=3===r.nodeType?Vr(""):Lr("div"),N.el=r,a.component.subTree=N}else 64&I?C=8!==S?_():a.type.hydrate(r,a,c,l,d,v,e,g):128&I?C=a.type.hydrate(r,a,c,l,Gn(s(r)),d,v,e,n):__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&h("Invalid HostVNode type:",x,"(".concat((0,i.A)(x),")"))}return null!=E&&Bn(E,null,l,a),C},y=function(e,t,n,r,i,o){o=o||!!t.dynamicChildren;var u=t.type,s=t.props,f=t.patchFlag,d=t.shapeFlag,v=t.dirs,p=t.transition,y="input"===u||"option"===u;if(y||-1!==f){v&&Ge(t,null,n,"created");var m,A=!1;if(b(e)){A=tr(r,p)&&n&&n.vnode.props&&n.vnode.props.appear;var w=e.content.firstChild;A&&p.beforeEnter(w),k(w,e,n),t.el=e=w}if(16&d&&(!s||!s.innerHTML&&!s.textContent)){var _=g(e.firstChild,t,e,n,r,i,o),x=!1;while(_){qn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!x&&(h("Hydration children mismatch on",e,"\nServer rendered element contains more child nodes than client vdom."),x=!0);var E=_;_=_.nextSibling,c(E)}}else 8&d&&e.textContent!==t.children&&(qn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&h("Hydration text content mismatch on",e,"\n  - rendered on server: ".concat(e.textContent,"\n  - expected on client: ").concat(t.children)),e.textContent=t.children);if(s)if(y||!o||48&f)for(var I in s)(y&&(I.endsWith("value")||"indeterminate"===I)||(0,l.Mp)(I)&&!(0,l.SU)(I)||"."===I[0])&&a(e,I,null,s[I],void 0,void 0,n);else s.onClick&&a(e,"onClick",null,s.onClick,void 0,void 0,n);(m=s&&s.onVnodeBeforeMount)&&Hr(m,n,t),v&&Ge(t,null,n,"beforeMount"),((m=s&&s.onVnodeMounted)||v||A)&&Oe((function(){m&&Hr(m,n,t),A&&p.enter(e),v&&Ge(t,null,n,"mounted")}),r)}return e.nextSibling},g=function(e,t,r,i,a,o,u){u=u||!!t.dynamicChildren;for(var s=t.children,c=s.length,l=!1,f=0;f<c;f++){var d=u?s[f]:s[f]=qr(s[f]);if(e)e=p(e,d,i,a,o,u);else{if(d.type===yr&&!d.children)continue;qn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!l&&(h("Hydration children mismatch on",r,"\nServer rendered element contains fewer child nodes than client vdom."),l=!0),n(null,d,r,null,i,a,Gn(r),o)}}return e},m=function(e,t,n,r,i,a){var o=t.slotScopeIds;o&&(i=i?i.concat(o):o);var c=s(e),l=g(u(e),t,c,n,r,i,a);return l&&Hn(l)&&"]"===l.data?u(t.anchor=l):(qn=!0,f(t.anchor=d("]"),c,l),l)},A=function(e,t,r,i,a,o){if(qn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&h("Hydration node mismatch:\n- rendered on server:",e,3===e.nodeType?"(text)":Hn(e)&&"["===e.data?"(start of fragment)":"","\n- expected on client:",t.type),t.el=null,o){var l=w(e);while(1){var f=u(e);if(!f||f===l)break;c(f)}}var d=u(e),v=s(e);return c(e),n(null,t,v,d,r,i,Gn(v),a),d},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"]",r=0;while(e)if(e=u(e),e&&Hn(e)&&(e.data===t&&r++,e.data===n)){if(0===r)return u(e);r--}return e},k=function(e,t,n){var r=t.parentNode;r&&r.replaceChild(e,t);var i=n;while(i)i.vnode.el===t&&(i.vnode.el=i.subTree.el=e),i=i.parent},b=function(e){return 1===e.nodeType&&"template"===e.tagName.toLowerCase()};return[v,p]}function Qn(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,l.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}var Yn=Oe;function $n(e){return Jn(e)}function Xn(e){return Jn(e,Wn)}function Jn(e,t){Qn();var n=(0,l.We)();n.__VUE__=!0;var r,i,o=e.insert,u=e.remove,s=e.patchProp,f=e.createElement,h=e.createText,d=e.createComment,v=e.setText,p=e.setElementText,y=e.parentNode,g=e.nextSibling,m=e.setScopeId,A=void 0===m?l.tE:m,w=e.insertStaticContent,k=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:!!t.dynamicChildren;if(e!==t){e&&!Cr(e,t)&&(r=Z(e),Q(e,i,a,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);var c=t.type,l=t.ref,f=t.shapeFlag;switch(c){case yr:b(e,t,n,r);break;case gr:_(e,t,n,r);break;case mr:null==e&&x(t,n,r,o);break;case pr:P(e,t,n,r,i,a,o,u,s);break;default:1&f?T(e,t,n,r,i,a,o,u,s):6&f?L(e,t,n,r,i,a,o,u,s):(64&f||128&f)&&c.process(e,t,n,r,i,a,o,u,s,ne)}null!=l&&i&&Bn(l,e&&e.ref,a,t||e,!t)}},b=function(e,t,n,r){if(null==e)o(t.el=h(t.children),n,r);else{var i=t.el=e.el;t.children!==e.children&&v(i,t.children)}},_=function(e,t,n,r){null==e?o(t.el=d(t.children||""),n,r):t.el=e.el},x=function(e,t,n,r){var i=w(e.children,t,n,r,e.el,e.anchor),o=(0,a.A)(i,2);e.el=o[0],e.anchor=o[1]},E=function(e,t,n){var r,i=e.el,a=e.anchor;while(i&&i!==a)r=g(i),o(i,t,n),i=r;o(a,t,n)},I=function(e){var t,n=e.el,r=e.anchor;while(n&&n!==r)t=g(n),u(n),n=t;u(r)},T=function(e,t,n,r,i,a,o,u,s){"svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e?S(t,n,r,i,a,o,u,s):R(e,t,i,a,o,u,s)},S=function(e,t,n,r,i,a,u,c){var h,d,v=e.props,y=e.shapeFlag,g=e.transition,m=e.dirs;if(h=e.el=f(e.type,a,v&&v.is,v),8&y?p(h,e.children):16&y&&O(e.children,h,null,r,i,Zn(e,a),u,c),m&&Ge(e,null,r,"created"),C(h,e,e.scopeId,u,r),v){for(var A in v)"value"===A||(0,l.SU)(A)||s(h,A,null,v[A],a,e.children,r,i,J);"value"in v&&s(h,"value",null,v.value,a),(d=v.onVnodeBeforeMount)&&Hr(d,r,e)}m&&Ge(e,null,r,"beforeMount");var w=tr(i,g);w&&g.beforeEnter(h),o(h,t,n),((d=v&&v.onVnodeMounted)||w||m)&&Yn((function(){d&&Hr(d,r,e),w&&g.enter(h),m&&Ge(e,null,r,"mounted")}),i)},C=function e(t,n,r,i,a){if(r&&A(t,r),i)for(var o=0;o<i.length;o++)A(t,i[o]);if(a){var u=a.subTree;if(n===u){var s=a.vnode;e(t,s,s.scopeId,s.slotScopeIds,a.parent)}}},O=function(e,t,n,r,i,a,o,u){for(var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=s;c<e.length;c++){var l=e[c]=u?zr(e[c]):qr(e[c]);k(null,l,t,n,r,i,a,o,u)}},R=function(e,t,n,r,i,a,o){var u=t.el=e.el,c=t.patchFlag,f=t.dynamicChildren,h=t.dirs;c|=16&e.patchFlag;var d,v=e.props||l.MZ,y=t.props||l.MZ;if(n&&er(n,!1),(d=y.onVnodeBeforeUpdate)&&Hr(d,n,t,e),h&&Ge(t,e,n,"beforeUpdate"),n&&er(n,!0),f?N(e.dynamicChildren,f,u,n,r,Zn(t,i),a):o||K(e,t,u,null,n,r,Zn(t,i),a,!1),c>0){if(16&c)D(u,t,v,y,n,r,i);else if(2&c&&v["class"]!==y["class"]&&s(u,"class",null,y["class"],i),4&c&&s(u,"style",v.style,y.style,i),8&c)for(var g=t.dynamicProps,m=0;m<g.length;m++){var A=g[m],w=v[A],k=y[A];k===w&&"value"!==A||s(u,A,w,k,i,e.children,n,r,J)}1&c&&e.children!==t.children&&p(u,t.children)}else o||null!=f||D(u,t,v,y,n,r,i);((d=y.onVnodeUpdated)||h)&&Yn((function(){d&&Hr(d,n,t,e),h&&Ge(t,e,n,"updated")}),r)},N=function(e,t,n,r,i,a,o){for(var u=0;u<t.length;u++){var s=e[u],c=t[u],l=s.el&&(s.type===pr||!Cr(s,c)||70&s.shapeFlag)?y(s.el):n;k(s,c,l,null,r,i,a,o,!0)}},D=function(e,t,n,r,i,a,o){if(n!==r){if(n!==l.MZ)for(var u in n)(0,l.SU)(u)||u in r||s(e,u,n[u],null,o,t.children,i,a,J);for(var c in r)if(!(0,l.SU)(c)){var f=r[c],h=n[c];f!==h&&"value"!==c&&s(e,c,h,f,o,t.children,i,a,J)}"value"in r&&s(e,"value",n.value,r.value,o)}},P=function(e,t,n,r,i,a,u,s,c){var l=t.el=e?e.el:h(""),f=t.anchor=e?e.anchor:h(""),d=t.patchFlag,v=t.dynamicChildren,p=t.slotScopeIds;p&&(s=s?s.concat(p):p),null==e?(o(l,n,r),o(f,n,r),O(t.children||[],n,f,i,a,u,s,c)):d>0&&64&d&&v&&e.dynamicChildren?(N(e.dynamicChildren,v,n,i,a,u,s),(null!=t.key||i&&t===i.subTree)&&nr(e,t,!0)):K(e,t,n,f,i,a,u,s,c)},L=function(e,t,n,r,i,a,o,u,s){t.slotScopeIds=u,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,s):F(t,n,r,i,a,o,s):V(e,t,s)},F=function(e,t,n,r,i,a,o){var u=e.component=Yr(e,r,i);if(ct(e)&&(u.ctx.renderer=ne),si(u),u.asyncDep){if(i&&i.registerDep(u,q),!e.el){var s=u.subTree=Lr(gr);_(null,s,t,n)}}else q(u,e,t,n,i,a,o)},V=function(e,t,n){var r=t.component=e.component;if(se(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void z(r,t,n);r.next=t,U(r.update),r.effect.dirty=!0,r.update()}else t.el=e.el,r.vnode=t},q=function(e,t,n,r,a,o,u){var s=function s(){if(e.isMounted){var c=e.next,f=e.bu,h=e.u,d=e.parent,v=e.vnode,p=ir(e);if(p)return c&&(c.el=v.el,z(e,c,u)),void p.asyncDep.then((function(){e.isUnmounted||s()}));var g,m=c;0,er(e,!1),c?(c.el=v.el,z(e,c,u)):c=v,f&&(0,l.DY)(f),(g=c.props&&c.props.onVnodeBeforeUpdate)&&Hr(g,d,c,v),er(e,!0);var A=ie(e);0;var w=e.subTree;e.subTree=A,k(w,A,y(w.el),Z(w),e,a,o),c.el=A.el,null===m&&le(e,A.el),h&&Yn(h,a),(g=c.props&&c.props.onVnodeUpdated)&&Yn((function(){return Hr(g,d,c,v)}),a)}else{var b,_=t,x=_.el,E=_.props,I=e.bm,T=e.m,S=e.parent,C=ot(t);if(er(e,!1),I&&(0,l.DY)(I),!C&&(b=E&&E.onVnodeBeforeMount)&&Hr(b,S,t),er(e,!0),x&&i){var O=function(){e.subTree=ie(e),i(x,e.subTree,e,a,null)};C?t.type.__asyncLoader().then((function(){return!e.isUnmounted&&O()})):O()}else{0;var R=e.subTree=ie(e);0,k(null,R,n,r,e,a,o),t.el=R.el}if(T&&Yn(T,a),!C&&(b=E&&E.onVnodeMounted)){var N=t;Yn((function(){return Hr(b,S,N)}),a)}(256&t.shapeFlag||S&&ot(S.vnode)&&256&S.vnode.shapeFlag)&&e.a&&Yn(e.a,a),e.isMounted=!0,t=n=r=null}},f=e.effect=new c.X2(s,l.tE,(function(){return M(h)}),e.scope),h=e.update=function(){f.dirty&&f.run()};h.id=e.uid,er(e,!0),h()},z=function(e,t,n){t.component=e;var r=e.vnode.props;e.vnode=t,e.next=null,In(e,t.props,r,n),jn(e,t.children,n),(0,c.C4)(),j(e),(0,c.bl)()},K=function(e,t,n,r,i,a,o,u){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=e&&e.children,l=e?e.shapeFlag:0,f=t.children,h=t.patchFlag,d=t.shapeFlag;if(h>0){if(128&h)return void H(c,f,n,r,i,a,o,u,s);if(256&h)return void G(c,f,n,r,i,a,o,u,s)}8&d?(16&l&&J(c,i,a),f!==c&&p(n,f)):16&l?16&d?H(c,f,n,r,i,a,o,u,s):J(c,i,a,!0):(8&l&&p(n,""),16&d&&O(f,n,r,i,a,o,u,s))},G=function(e,t,n,r,i,a,o,u,s){e=e||l.Oj,t=t||l.Oj;var c,f=e.length,h=t.length,d=Math.min(f,h);for(c=0;c<d;c++){var v=t[c]=s?zr(t[c]):qr(t[c]);k(e[c],v,n,null,i,a,o,u,s)}f>h?J(e,i,a,!0,!1,d):O(t,n,r,i,a,o,u,s,d)},H=function(e,t,n,r,i,a,o,u,s){var c=0,f=t.length,h=e.length-1,d=f-1;while(c<=h&&c<=d){var v=e[c],p=t[c]=s?zr(t[c]):qr(t[c]);if(!Cr(v,p))break;k(v,p,n,null,i,a,o,u,s),c++}while(c<=h&&c<=d){var y=e[h],g=t[d]=s?zr(t[d]):qr(t[d]);if(!Cr(y,g))break;k(y,g,n,null,i,a,o,u,s),h--,d--}if(c>h){if(c<=d){var m=d+1,A=m<f?t[m].el:r;while(c<=d)k(null,t[c]=s?zr(t[c]):qr(t[c]),n,A,i,a,o,u,s),c++}}else if(c>d)while(c<=h)Q(e[c],i,a,!0),c++;else{var w,b=c,_=c,x=new Map;for(c=_;c<=d;c++){var E=t[c]=s?zr(t[c]):qr(t[c]);null!=E.key&&x.set(E.key,c)}var I=0,T=d-_+1,S=!1,C=0,O=new Array(T);for(c=0;c<T;c++)O[c]=0;for(c=b;c<=h;c++){var R=e[c];if(I>=T)Q(R,i,a,!0);else{var N=void 0;if(null!=R.key)N=x.get(R.key);else for(w=_;w<=d;w++)if(0===O[w-_]&&Cr(R,t[w])){N=w;break}void 0===N?Q(R,i,a,!0):(O[N-_]=c+1,N>=C?C=N:S=!0,k(R,t[N],n,null,i,a,o,u,s),I++)}}var D=S?rr(O):l.Oj;for(w=D.length-1,c=T-1;c>=0;c--){var P=_+c,L=t[P],M=P+1<f?t[P+1].el:r;0===O[c]?k(null,L,n,M,i,a,o,u,s):S&&(w<0||c!==D[w]?W(L,n,M,2):w--)}}},W=function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=t.el,s=t.type,c=t.transition,l=t.children,f=t.shapeFlag;if(6&f)e(t.component.subTree,n,r,i);else if(128&f)t.suspense.move(n,r,i);else if(64&f)s.move(t,n,r,ne);else if(s!==pr)if(s!==mr){var h=2!==i&&1&f&&c;if(h)if(0===i)c.beforeEnter(u),o(u,n,r),Yn((function(){return c.enter(u)}),a);else{var d=c.leave,v=c.delayLeave,p=c.afterLeave,y=function(){return o(u,n,r)},g=function(){d(u,(function(){y(),p&&p()}))};v?v(u,y,g):g()}else o(u,n,r)}else E(t,n,r);else{o(u,n,r);for(var m=0;m<l.length;m++)e(l[m],n,r,i);o(t.anchor,n,r)}},Q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.type,o=e.props,u=e.ref,s=e.children,c=e.dynamicChildren,l=e.shapeFlag,f=e.patchFlag,h=e.dirs;if(null!=u&&Bn(u,null,n,e,!0),256&l)t.ctx.deactivate(e);else{var d,v=1&l&&h,p=!ot(e);if(p&&(d=o&&o.onVnodeBeforeUnmount)&&Hr(d,t,e),6&l)X(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);v&&Ge(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,i,ne,r):c&&(a!==pr||f>0&&64&f)?J(c,t,n,!1,!0):(a===pr&&384&f||!i&&16&l)&&J(s,t,n),r&&Y(e)}(p&&(d=o&&o.onVnodeUnmounted)||v)&&Yn((function(){d&&Hr(d,t,e),v&&Ge(e,null,t,"unmounted")}),n)}},Y=function(e){var t=e.type,n=e.el,r=e.anchor,i=e.transition;if(t!==pr)if(t!==mr){var a=function(){u(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){var o=i.leave,s=i.delayLeave,c=function(){return o(n,a)};s?s(e.el,a,c):c()}else a()}else I(e);else $(n,r)},$=function(e,t){var n;while(e!==t)n=g(e),u(e),e=n;u(t)},X=function(e,t,n){var r=e.bum,i=e.scope,a=e.update,o=e.subTree,u=e.um;r&&(0,l.DY)(r),i.stop(),a&&(a.active=!1,Q(o,e,t,n)),u&&Yn(u,t),Yn((function(){e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=a;o<e.length;o++)Q(e[o],t,n,r,i)},Z=function e(t){return 6&t.shapeFlag?e(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el)},ee=!1,te=function(e,t,n){null==e?t._vnode&&Q(t._vnode,null,null,!0):k(t._vnode||null,e,t,null,null,null,n),ee||(ee=!0,j(),B(),ee=!1),t._vnode=e},ne={p:k,um:Q,m:W,r:Y,mt:F,mc:O,pc:K,pbc:N,n:Z,o:e};if(t){var re=t(ne),ae=(0,a.A)(re,2);r=ae[0],i=ae[1]}return{render:te,hydrate:r,createApp:wn(te,r)}}function Zn(e,t){var n=e.type,r=e.props;return"svg"===t&&"foreignObject"===n||"mathml"===t&&"annotation-xml"===n&&r&&r.encoding&&r.encoding.includes("html")?void 0:t}function er(e,t){var n=e.effect,r=e.update;n.allowRecurse=r.allowRecurse=t}function tr(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function nr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.children,i=t.children;if((0,l.cy)(r)&&(0,l.cy)(i))for(var a=0;a<r.length;a++){var o=r[a],u=i[a];1&u.shapeFlag&&!u.dynamicChildren&&((u.patchFlag<=0||32===u.patchFlag)&&(u=i[a]=zr(i[a]),u.el=o.el),n||nr(o,u)),u.type===yr&&(u.el=o.el)}}function rr(e){var t,n,r,i,a,o=e.slice(),u=[0],s=e.length;for(t=0;t<s;t++){var c=e[t];if(0!==c){if(n=u[u.length-1],e[n]<c){o[t]=n,u.push(t);continue}r=0,i=u.length-1;while(r<i)a=r+i>>1,e[u[a]]<c?r=a+1:i=a;c<e[u[r]]&&(r>0&&(o[t]=u[r-1]),u[r]=t)}}r=u.length,i=u[r-1];while(r-- >0)u[r]=i,i=o[i];return u}function ir(e){var t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ir(t)}var ar=function(e){return e.__isTeleport},or=function(e){return e&&(e.disabled||""===e.disabled)},ur=function(e){return"undefined"!==typeof SVGElement&&e instanceof SVGElement},sr=function(e){return"function"===typeof MathMLElement&&e instanceof MathMLElement},cr=function(e,t){var n=e&&e.to;if((0,l.Kg)(n)){if(t){var r=t(n);return r}return null}return n},lr={name:"Teleport",__isTeleport:!0,process:function(e){function t(t,n,r,i,a,o,u,s,c,l){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n,r,i,a,o,u,s,c){var l=c.mc,f=c.pc,h=c.pbc,d=c.o,v=d.insert,p=d.querySelector,y=d.createText,g=(d.createComment,or(t.props)),m=t.shapeFlag,A=t.children,w=t.dynamicChildren;if(null==e){var k=t.el=y(""),b=t.anchor=y("");v(k,n,r),v(b,n,r);var _=t.target=cr(t.props,p),x=t.targetAnchor=y("");_&&(v(x,_),"svg"===o||ur(_)?o="svg":("mathml"===o||sr(_))&&(o="mathml"));var E=function(e,t){16&m&&l(A,e,t,i,a,o,u,s)};g?E(n,b):_&&E(_,x)}else{t.el=e.el;var I=t.anchor=e.anchor,T=t.target=e.target,S=t.targetAnchor=e.targetAnchor,C=or(e.props),O=C?n:T,R=C?I:S;if("svg"===o||ur(T)?o="svg":("mathml"===o||sr(T))&&(o="mathml"),w?(h(e.dynamicChildren,w,O,i,a,o,u),nr(e,t,!0)):s||f(e,t,O,R,i,a,o,u,!1),g)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):fr(t,n,I,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){var N=t.target=cr(t.props,p);N&&fr(t,N,null,c,0)}else C&&fr(t,T,S,c,1)}vr(t)})),remove:function(e,t,n,r,i,a){var o=i.um,u=i.o.remove,s=e.shapeFlag,c=e.children,l=e.anchor,f=e.targetAnchor,h=e.target,d=e.props;if(h&&u(f),a&&u(l),16&s)for(var v=a||!or(d),p=0;p<c.length;p++){var y=c[p];o(y,t,n,v,!!y.dynamicChildren)}},move:fr,hydrate:hr};function fr(e,t,n,r){var i=r.o.insert,a=r.m,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;0===o&&i(e.targetAnchor,t,n);var u=e.el,s=e.anchor,c=e.shapeFlag,l=e.children,f=e.props,h=2===o;if(h&&i(u,t,n),(!h||or(f))&&16&c)for(var d=0;d<l.length;d++)a(l[d],t,n,2);h&&i(s,t,n)}function hr(e,t,n,r,i,a,o,u){var s=o.o,c=s.nextSibling,l=s.parentNode,f=s.querySelector,h=t.target=cr(t.props,f);if(h){var d=h._lpa||h.firstChild;if(16&t.shapeFlag)if(or(t.props))t.anchor=u(c(e),t,l(e),n,r,i,a),t.targetAnchor=d;else{t.anchor=c(e);var v=d;while(v)if(v=c(v),v&&8===v.nodeType&&"teleport anchor"===v.data){t.targetAnchor=v,h._lpa=t.targetAnchor&&c(t.targetAnchor);break}u(d,t,h,n,r,i,a)}vr(t)}return t.anchor&&c(t.anchor)}var dr=lr;function vr(e){var t=e.ctx;if(t&&t.ut){var n=e.children[0].el;while(n&&n!==e.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}var pr=Symbol["for"]("v-fgt"),yr=Symbol["for"]("v-txt"),gr=Symbol["for"]("v-cmt"),mr=Symbol["for"]("v-stc"),Ar=[],wr=null;function kr(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ar.push(wr=e?null:[])}function br(){Ar.pop(),wr=Ar[Ar.length-1]||null}var _r=1;function xr(e){_r+=e}function Er(e){return e.dynamicChildren=_r>0?wr||l.Oj:null,br(),_r>0&&wr&&wr.push(e),e}function Ir(e,t,n,r,i,a){return Er(Pr(e,t,n,r,i,a,!0))}function Tr(e,t,n,r,i){return Er(Lr(e,t,n,r,i,!0))}function Sr(e){return!!e&&!0===e.__v_isVNode}function Cr(e,t){return e.type===t.type&&e.key===t.key}function Or(e){e}var Rr="__vInternal",Nr=function(e){var t=e.key;return null!=t?t:null},Dr=function(e){var t=e.ref,n=e.ref_key,r=e.ref_for;return"number"===typeof t&&(t=""+t),null!=t?(0,l.Kg)(t)||(0,c.i9)(t)||(0,l.Tn)(t)?{i:X,r:t,k:n,f:!!r}:t:null};function Pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e===pr?0:1,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nr(t),ref:t&&Dr(t),scopeId:J,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:X};return u?(Kr(s,n),128&a&&e.normalize(s)):n&&(s.shapeFlag|=(0,l.Kg)(n)?8:16),_r>0&&!o&&wr&&(s.patchFlag>0||6&a)&&32!==s.patchFlag&&wr.push(s),s}var Lr=Mr;function Mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&e!==ve||(e=gr),Sr(e)){var o=Ur(e,t,!0);return n&&Kr(o,n),_r>0&&!a&&wr&&(6&o.shapeFlag?wr[wr.indexOf(e)]=o:wr.push(o)),o.patchFlag|=-2,o}if(ki(e)&&(e=e.__vccOpts),t){t=Fr(t);var u=t,s=u["class"],f=u.style;s&&!(0,l.Kg)(s)&&(t["class"]=(0,l.C4)(s)),(0,l.Gv)(f)&&((0,c.ju)(f)&&!(0,l.cy)(f)&&(f=(0,l.X$)({},f)),t.style=(0,l.Tr)(f))}var h=(0,l.Kg)(e)?1:Ae(e)?128:ar(e)?64:(0,l.Gv)(e)?4:(0,l.Tn)(e)?2:0;return Pr(e,t,n,r,i,h,a,!0)}function Fr(e){return e?(0,c.ju)(e)||Rr in e?(0,l.X$)({},e):e:null}function Ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.props,i=e.ref,a=e.patchFlag,o=e.children,u=t?Gr(r||{},t):r,s={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Nr(u),ref:t&&t.ref?n&&i?(0,l.cy)(i)?i.concat(Dr(t)):[i,Dr(t)]:Dr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pr?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ur(e.ssContent),ssFallback:e.ssFallback&&Ur(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return s}function Vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Lr(yr,null,e,t)}function jr(e,t){var n=Lr(mr,null,e);return n.staticCount=t,n}function Br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?(kr(),Tr(gr,null,e)):Lr(gr,null,e)}function qr(e){return null==e||"boolean"===typeof e?Lr(gr):(0,l.cy)(e)?Lr(pr,null,e.slice()):"object"===(0,i.A)(e)?zr(e):Lr(yr,null,String(e))}function zr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Ur(e)}function Kr(e,t){var n=0,r=e.shapeFlag;if(null==t)t=null;else if((0,l.cy)(t))n=16;else if("object"===(0,i.A)(t)){if(65&r){var a=t["default"];return void(a&&(a._c&&(a._d=!1),Kr(e,a()),a._c&&(a._d=!0)))}n=32;var o=t._;o||Rr in t?3===o&&X&&(1===X.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=X}else(0,l.Tn)(t)?(t={default:t,_ctx:X},n=32):(t=String(t),64&r?(n=16,t=[Vr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Gr(){for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var r in n)if("class"===r)e["class"]!==n["class"]&&(e["class"]=(0,l.C4)([e["class"],n["class"]]));else if("style"===r)e.style=(0,l.Tr)([e.style,n.style]);else if((0,l.Mp)(r)){var i=e[r],a=n[r];!a||i===a||(0,l.cy)(i)&&i.includes(a)||(e[r]=i?[].concat(i,a):a)}else""!==r&&(e[r]=n[r])}return e}function Hr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;b(e,t,7,[n,r])}var Wr=mn(),Qr=0;function Yr(e,t,n){var r=e.type,i=(t?t.appContext:e.appContext)||Wr,a={uid:Qr++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new c.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cn(r,i),emitsOptions:Y(r,i),emit:null,emitted:null,propsDefaults:l.MZ,inheritAttrs:r.inheritAttrs,ctx:l.MZ,data:l.MZ,props:l.MZ,attrs:l.MZ,slots:l.MZ,refs:l.MZ,setupState:l.MZ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Q.bind(null,a),e.ce&&e.ce(a),a}var $r,Xr,Jr=null,Zr=function(){return Jr||X},ei=(0,l.We)(),ti=function(e,t){var n;return(n=ei[e])||(n=ei[e]=[]),n.push(t),function(e){n.length>1?n.forEach((function(t){return t(e)})):n[0](e)}};$r=ti("__VUE_INSTANCE_SETTERS__",(function(e){return Jr=e})),Xr=ti("__VUE_SSR_SETTERS__",(function(e){return ui=e}));var ni=function(e){var t=Jr;return $r(e),e.scope.on(),function(){e.scope.off(),$r(t)}},ri=function(){Jr&&Jr.scope.off(),$r(null)};function ii(e){return 4&e.vnode.shapeFlag}var ai,oi,ui=!1;function si(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&Xr(t);var n=e.vnode,r=n.props,i=n.children,a=ii(e);En(e,r,a,t),Vn(e,i);var o=a?ci(e,t):void 0;return t&&Xr(!1),o}function ci(e,t){var n=e.type;e.accessCache=Object.create(null),e.proxy=(0,c.IG)(new Proxy(e.ctx,Vt));var r=n.setup;if(r){var i=e.setupContext=r.length>1?pi(e):null,a=ni(e);(0,c.C4)();var o=k(r,e,0,[e.props,i]);if((0,c.bl)(),a(),(0,l.yL)(o)){if(o.then(ri,ri),t)return o.then((function(n){li(e,n,t)}))["catch"]((function(t){_(t,e,0)}));e.asyncDep=o}else li(e,o,t)}else di(e,t)}function li(e,t,n){(0,l.Tn)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,l.Gv)(t)&&(e.setupState=(0,c.Pr)(t)),di(e,n)}function fi(e){ai=e,oi=function(e){e.render._rc&&(e.withProxy=new Proxy(e.ctx,jt))}}var hi=function(){return!ai};function di(e,t,n){var r=e.type;if(!e.render){if(!t&&ai&&!r.render){var i=r.template||sn(e).template;if(i){0;var a=e.appContext.config,o=a.isCustomElement,u=a.compilerOptions,s=r.delimiters,f=r.compilerOptions,h=(0,l.X$)((0,l.X$)({isCustomElement:o,delimiters:s},u),f);r.render=ai(i,h)}}e.render=r.render||l.tE,oi&&oi(e)}var d=ni(e);(0,c.C4)();try{rn(e)}finally{(0,c.bl)(),d()}}function vi(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:function(t,n){return(0,c.u4)(e,"get","$attrs"),t[n]}}))}function pi(e){var t=function(t){e.exposed=t||{}};return{get attrs(){return vi(e)},slots:e.slots,emit:e.emit,expose:t}}function yi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,c.Pr)((0,c.IG)(e.exposed)),{get:function(t,n){return n in t?t[n]:n in Ft?Ft[n](e):void 0},has:function(e,t){return t in e||t in Ft}}))}var gi=/(?:^|[-_])(\w)/g,mi=function(e){return e.replace(gi,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")};function Ai(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,l.Tn)(e)?e.displayName||e.name:e.name||t&&e.__name}function wi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ai(t);if(!r&&t.__file){var i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&e&&e.parent){var a=function(e){for(var n in e)if(e[n]===t)return n};r=a(e.components||e.parent.type.components)||a(e.appContext.components)}return r?mi(r):n?"App":"Anonymous"}function ki(e){return(0,l.Tn)(e)&&"__vccOpts"in e}var bi=function(e,t){var n=(0,c.EW)(e,t,ui);return n};function _i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.MZ,r=Zr();var i=(0,l.PT)(t),a=(0,l.Tg)(t),o=(0,c.rY)((function(o,u){var s;return Fe((function(){var n=e[t];(0,l.$H)(s,n)&&(s=n,u())})),{get:function(){return o(),n.get?n.get(s):s},set:function(e){var o=r.vnode.props;o&&(t in o||i in o||a in o)&&("onUpdate:".concat(t)in o||"onUpdate:".concat(i)in o||"onUpdate:".concat(a)in o)||!(0,l.$H)(e,s)||(s=e,u()),r.emit("update:".concat(t),n.set?n.set(e):e)}}})),u="modelValue"===t?"modelModifiers":"".concat(t,"Modifiers");return o[Symbol.iterator]=function(){var t=0;return{next:function(){return t<2?{value:t++?e[u]||{}:o,done:!1}:{done:!0}}}},o}function xi(e,t,n){var r=arguments.length;return 2===r?(0,l.Gv)(t)&&!(0,l.cy)(t)?Sr(t)?Lr(e,null,[t]):Lr(e,t):Lr(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Sr(n)&&(n=[n]),Lr(e,t,n))}function Ei(){return void 0}function Ii(e,t,n,r){var i=n[r];if(i&&Ti(i,e))return i;var a=t();return a.memo=e.slice(),n[r]=a}function Ti(e,t){var n=e.memo;if(n.length!=t.length)return!1;for(var r=0;r<n.length;r++)if((0,l.$H)(n[r],t[r]))return!1;return _r>0&&wr&&wr.push(e),!0}var Si="3.4.21",Ci=l.tE,Oi=w,Ri=G,Ni=W,Di={createComponentInstance:Yr,setupComponent:si,renderComponentRoot:ie,setCurrentRenderingInstance:Z,isVNode:Sr,normalizeVNode:qr},Pi=Di,Li=null,Mi=null,Fi=null},45130:(e,t,n)=>{"use strict";n.d(t,{$9:()=>H,$V:()=>f.$V,$u:()=>f.$u,$y:()=>f.$y,BA:()=>f.BA,Bs:()=>f.Bs,C4:()=>f.C4,CE:()=>f.CE,D:()=>_e,D$:()=>Ze,Df:()=>f.Df,Dl:()=>f.Dl,E:()=>f.E,E3:()=>f.E3,EW:()=>f.EW,EY:()=>f.EY,Ef:()=>st,F:()=>Ce,FK:()=>f.FK,Fv:()=>f.Fv,Fw:()=>f.Fw,GM:()=>f.GM,Gc:()=>f.Gc,Gt:()=>f.Gt,Gw:()=>f.Gw,Gy:()=>f.Gy,H4:()=>f.H4,HF:()=>f.HF,Ht:()=>f.Ht,IG:()=>f.IG,IJ:()=>f.IJ,Ib:()=>dt,Ic:()=>f.Ic,Im:()=>f.Im,Jo:()=>Ue,K9:()=>f.K9,KC:()=>f.KC,KR:()=>f.KR,Kh:()=>f.Kh,LJ:()=>f.LJ,LM:()=>f.LM,Lk:()=>f.Lk,Lu:()=>f.Lu,MZ:()=>f.MZ,Mw:()=>f.Mw,NP:()=>f.NP,Ng:()=>f.Ng,OA:()=>f.OA,OW:()=>f.OW,PP:()=>f.PP,PR:()=>f.PR,PS:()=>f.PS,PT:()=>f.PT,Po:()=>we,Pr:()=>f.Pr,Q3:()=>f.Q3,QP:()=>f.QP,QW:()=>f.QW,QZ:()=>f.QZ,Qi:()=>f.Qi,Qv:()=>ut,R1:()=>f.R1,R8:()=>f.R8,RG:()=>f.RG,SS:()=>f.SS,Tb:()=>f.Tb,Tm:()=>f.Tm,Tr:()=>f.Tr,U4:()=>f.U4,U_:()=>f.U_,Ul:()=>f.Ul,Vq:()=>f.Vq,Vy:()=>be,WQ:()=>f.WQ,Wv:()=>f.Wv,X2:()=>f.X2,XL:()=>Be,XX:()=>ot,Xq:()=>Ae,Y4:()=>f.Y4,Y5:()=>f.Y5,YY:()=>f.YY,Yj:()=>f.Yj,ZH:()=>f.ZH,ZQ:()=>f.ZQ,_B:()=>f._B,aG:()=>q,aT:()=>f.aT,bF:()=>f.bF,bU:()=>f.bU,bj:()=>f.bj,bn:()=>f.bn,bo:()=>f.bo,ci:()=>f.ci,dA:()=>f.dA,dY:()=>f.dY,ds:()=>f.ds,eB:()=>b,eW:()=>f.eW,eX:()=>f.eX,fE:()=>f.fE,fn:()=>f.fn,g2:()=>f.g2,g8:()=>f.g8,gN:()=>f.gN,gW:()=>f.gW,gh:()=>f.gh,h:()=>f.h,hi:()=>f.hi,hp:()=>He,i9:()=>f.i9,iD:()=>f.iD,jC:()=>f.jC,jR:()=>tt,jr:()=>f.jr,jt:()=>f.jt,ju:()=>f.ju,k6:()=>f.k6,lH:()=>Ve,lW:()=>f.lW,lt:()=>f.lt,m1:()=>ct,mu:()=>f.mu,n:()=>f.n,nD:()=>f.nD,nI:()=>f.nI,nT:()=>f.nT,o5:()=>f.o5,p9:()=>f.p9,pI:()=>f.pI,pM:()=>f.pM,pR:()=>f.pR,qG:()=>f.qG,qL:()=>f.qL,qP:()=>f.qP,qR:()=>f.qR,rE:()=>f.rE,rO:()=>f.rO,rU:()=>f.rU,rY:()=>f.rY,sV:()=>f.sV,tB:()=>f.tB,tC:()=>f.tC,tG:()=>f.tG,tY:()=>f.tY,u1:()=>qe,uX:()=>f.uX,uY:()=>f.uY,ux:()=>f.ux,v6:()=>f.v6,v_:()=>f.v_,vv:()=>f.vv,wB:()=>f.wB,wk:()=>f.wk,xo:()=>f.xo,y$:()=>f.y$,yC:()=>f.yC,zz:()=>f.zz});var r=n(69492),i=n(25026),a=n(25335),o=n(28578),u=n(78676),s=n(54119),c=n(3604),l=n(59258),f=(n(52675),n(89463),n(76918),n(28706),n(2008),n(51629),n(23418),n(74423),n(25276),n(48598),n(62062),n(44114),n(34782),n(15086),n(54554),n(59089),n(23288),n(62010),n(2892),n(59904),n(84185),n(79432),n(26099),n(27495),n(90906),n(38781),n(31415),n(21699),n(47764),n(71761),n(25440),n(90744),n(11392),n(42762),n(89907),n(73772),n(23500),n(62953),n(76031),n(56768)),h=n(24232),d=n(90144),v="http://www.w3.org/2000/svg",p="http://www.w3.org/1998/Math/MathML",y="undefined"!==typeof document?document:null,g=y&&y.createElement("template"),m={insert:function(e,t,n){t.insertBefore(e,n||null)},remove:function(e){var t=e.parentNode;t&&t.removeChild(e)},createElement:function(e,t,n,r){var i="svg"===t?y.createElementNS(v,e):"mathml"===t?y.createElementNS(p,e):y.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:function(e){return y.createTextNode(e)},createComment:function(e){return y.createComment(e)},setText:function(e,t){e.nodeValue=t},setElementText:function(e,t){e.textContent=t},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},querySelector:function(e){return y.querySelector(e)},setScopeId:function(e,t){e.setAttribute(t,"")},insertStaticContent:function(e,t,n,r,i,a){var o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===a||!(i=i.nextSibling))break}else{g.innerHTML="svg"===r?"<svg>".concat(e,"</svg>"):"mathml"===r?"<math>".concat(e,"</math>"):e;var u=g.content;if("svg"===r||"mathml"===r){var s=u.firstChild;while(s.firstChild)u.appendChild(s.firstChild);u.removeChild(s)}t.insertBefore(u,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},A="transition",w="animation",k=Symbol("_vtc"),b=function(e,t){var n=t.slots;return(0,f.h)(f.pR,T(e),n)};b.displayName="Transition";var _={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},x=b.props=(0,h.X$)({},f.QP,_),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,h.cy)(e)?e.forEach((function(e){return e.apply(void 0,(0,l.A)(t))})):e&&e.apply(void 0,(0,l.A)(t))},I=function(e){return!!e&&((0,h.cy)(e)?e.some((function(e){return e.length>1})):e.length>1)};function T(e){var t={};for(var n in e)n in _||(t[n]=e[n]);if(!1===e.css)return t;var r=e.name,i=void 0===r?"v":r,a=e.type,o=e.duration,u=e.enterFromClass,s=void 0===u?"".concat(i,"-enter-from"):u,c=e.enterActiveClass,l=void 0===c?"".concat(i,"-enter-active"):c,f=e.enterToClass,d=void 0===f?"".concat(i,"-enter-to"):f,v=e.appearFromClass,p=void 0===v?s:v,y=e.appearActiveClass,g=void 0===y?l:y,m=e.appearToClass,A=void 0===m?d:m,w=e.leaveFromClass,k=void 0===w?"".concat(i,"-leave-from"):w,b=e.leaveActiveClass,x=void 0===b?"".concat(i,"-leave-active"):b,T=e.leaveToClass,C=void 0===T?"".concat(i,"-leave-to"):T,D=S(o),L=D&&D[0],M=D&&D[1],F=t.onBeforeEnter,V=t.onEnter,j=t.onEnterCancelled,B=t.onLeave,q=t.onLeaveCancelled,z=t.onBeforeAppear,K=void 0===z?F:z,G=t.onAppear,H=void 0===G?V:G,W=t.onAppearCancelled,Q=void 0===W?j:W,Y=function(e,t,n){R(e,t?A:d),R(e,t?g:l),n&&n()},$=function(e,t){e._isLeaving=!1,R(e,k),R(e,C),R(e,x),t&&t()},X=function(e){return function(t,n){var r=e?H:V,i=function(){return Y(t,e,n)};E(r,[t,i]),N((function(){R(t,e?p:s),O(t,e?A:d),I(r)||P(t,a,L,i)}))}};return(0,h.X$)(t,{onBeforeEnter:function(e){E(F,[e]),O(e,s),O(e,l)},onBeforeAppear:function(e){E(K,[e]),O(e,p),O(e,g)},onEnter:X(!1),onAppear:X(!0),onLeave:function(e,t){e._isLeaving=!0;var n=function(){return $(e,t)};O(e,k),U(),O(e,x),N((function(){e._isLeaving&&(R(e,k),O(e,C),I(B)||P(e,a,M,n))})),E(B,[e,n])},onEnterCancelled:function(e){Y(e,!1),E(j,[e])},onAppearCancelled:function(e){Y(e,!0),E(Q,[e])},onLeaveCancelled:function(e){$(e),E(q,[e])}})}function S(e){if(null==e)return null;if((0,h.Gv)(e))return[C(e.enter),C(e.leave)];var t=C(e);return[t,t]}function C(e){var t=(0,h.Ro)(e);return t}function O(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.add(t)})),(e[k]||(e[k]=new Set)).add(t)}function R(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.remove(t)}));var n=e[k];n&&(n["delete"](t),n.size||(e[k]=void 0))}function N(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}var D=0;function P(e,t,n,r){var i=e._endId=++D,a=function(){i===e._endId&&r()};if(n)return setTimeout(a,n);var o=L(e,t),u=o.type,s=o.timeout,c=o.propCount;if(!u)return r();var l=u+"end",f=0,h=function(){e.removeEventListener(l,d),a()},d=function(t){t.target===e&&++f>=c&&h()};setTimeout((function(){f<c&&h()}),s+1),e.addEventListener(l,d)}function L(e,t){var n=window.getComputedStyle(e),r=function(e){return(n[e]||"").split(", ")},i=r("".concat(A,"Delay")),a=r("".concat(A,"Duration")),o=M(i,a),u=r("".concat(w,"Delay")),s=r("".concat(w,"Duration")),c=M(u,s),l=null,f=0,h=0;t===A?o>0&&(l=A,f=o,h=a.length):t===w?c>0&&(l=w,f=c,h=s.length):(f=Math.max(o,c),l=f>0?o>c?A:w:null,h=l?l===A?a.length:s.length:0);var d=l===A&&/\b(transform|all)(,|$)/.test(r("".concat(A,"Property")).toString());return{type:l,timeout:f,propCount:h,hasTransform:d}}function M(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(Math,(0,l.A)(t.map((function(t,n){return F(t)+F(e[n])}))))}function F(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function U(){return document.body.offsetHeight}function V(e,t,n){var r=e[k];r&&(t=(t?[t].concat((0,l.A)(r)):(0,l.A)(r)).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}var j=Symbol("_vod"),B=Symbol("_vsh"),q={beforeMount:function(e,t,n){var r=t.value,i=n.transition;e[j]="none"===e.style.display?"":e.style.display,i&&r?i.beforeEnter(e):z(e,r)},mounted:function(e,t,n){var r=t.value,i=n.transition;i&&r&&i.enter(e)},updated:function(e,t,n){var r=t.value,i=t.oldValue,a=n.transition;!r!==!i&&(a?r?(a.beforeEnter(e),z(e,!0),a.enter(e)):a.leave(e,(function(){z(e,!1)})):z(e,r))},beforeUnmount:function(e,t){var n=t.value;z(e,n)}};function z(e,t){e.style.display=t?e[j]:"none",e[B]=!t}function K(){q.getSSRProps=function(e){var t=e.value;if(!t)return{style:{display:"none"}}}}var G=Symbol("");function H(e){var t=(0,f.nI)();if(t){var n=t.ut=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(t.proxy);Array.from(document.querySelectorAll('[data-v-owner="'.concat(t.uid,'"]'))).forEach((function(e){return Q(e,n)}))};0;var r=function(){var r=e(t.proxy);W(t.subTree,r),n(r)};(0,f.p9)(r),(0,f.sV)((function(){var e=new MutationObserver(r);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,f.hi)((function(){return e.disconnect()}))}))}}function W(e,t){if(128&e.shapeFlag){var n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((function(){W(n.activeBranch,t)}))}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)Q(e.el,t);else if(e.type===f.FK)e.children.forEach((function(e){return W(e,t)}));else if(e.type===f.jC){var r=e,i=r.el,a=r.anchor;while(i){if(Q(i,t),i===a)break;i=i.nextSibling}}}function Q(e,t){if(1===e.nodeType){var n=e.style,r="";for(var i in t)n.setProperty("--".concat(i),t[i]),r+="--".concat(i,": ").concat(t[i],";");n[G]=r}}var Y=/(^|;)\s*display\s*:/;function $(e,t,n){var r=e.style,i=(0,h.Kg)(n),a=!1;if(n&&!i){if(t)if((0,h.Kg)(t)){var o,u=(0,c.A)(t.split(";"));try{for(u.s();!(o=u.n()).done;){var s=o.value,l=s.slice(0,s.indexOf(":")).trim();null==n[l]&&J(r,l,"")}}catch(p){u.e(p)}finally{u.f()}}else for(var f in t)null==n[f]&&J(r,f,"");for(var d in n)"display"===d&&(a=!0),J(r,d,n[d])}else if(i){if(t!==n){var v=r[G];v&&(n+=";"+v),r.cssText=n,a=Y.test(n)}}else t&&e.removeAttribute("style");j in e&&(e[j]=a?r.display:"",e[B]&&(r.display="none"))}var X=/\s*!important$/;function J(e,t,n){if((0,h.cy)(n))n.forEach((function(n){return J(e,t,n)}));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{var r=te(e,t);X.test(n)?e.setProperty((0,h.Tg)(r),n.replace(X,""),"important"):e[r]=n}}var Z=["Webkit","Moz","ms"],ee={};function te(e,t){var n=ee[t];if(n)return n;var r=(0,h.PT)(t);if("filter"!==r&&r in e)return ee[t]=r;r=(0,h.ZH)(r);for(var i=0;i<Z.length;i++){var a=Z[i]+r;if(a in e)return ee[t]=a}return t}var ne="http://www.w3.org/1999/xlink";function re(e,t,n,r,i){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(ne,t.slice(6,t.length)):e.setAttributeNS(ne,t,n);else{var a=(0,h.J$)(t);null==n||a&&!(0,h.Y2)(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function ie(e,t,n,r,i,a,o){if("innerHTML"===t||"textContent"===t)return r&&o(r,i,a),void(e[t]=null==n?"":n);var u=e.tagName;if("value"===t&&"PROGRESS"!==u&&!u.includes("-")){var c="OPTION"===u?e.getAttribute("value")||"":e.value,l=null==n?"":n;return c===l&&"_value"in e||(e.value=l),null==n&&e.removeAttribute(t),void(e._value=n)}var f=!1;if(""===n||null==n){var d=(0,s.A)(e[t]);"boolean"===d?n=(0,h.Y2)(n):null==n&&"string"===d?(n="",f=!0):"number"===d&&(n=0,f=!0)}try{e[t]=n}catch(v){0}f&&e.removeAttribute(t)}function ae(e,t,n,r){e.addEventListener(t,n,r)}function oe(e,t,n,r){e.removeEventListener(t,n,r)}var ue=Symbol("_vei");function se(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=e[ue]||(e[ue]={}),o=a[t];if(r&&o)o.value=r;else{var s=le(t),c=(0,u.A)(s,2),l=c[0],f=c[1];if(r){var h=a[t]=ve(r,i);ae(e,l,h,f)}else o&&(oe(e,l,o,f),a[t]=void 0)}}var ce=/(?:Once|Passive|Capture)$/;function le(e){var t;if(ce.test(e)){var n;t={};while(n=e.match(ce))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}var r=":"===e[2]?e.slice(3):(0,h.Tg)(e.slice(2));return[r,t]}var fe=0,he=Promise.resolve(),de=function(){return fe||(he.then((function(){return fe=0})),fe=Date.now())};function ve(e,t){var n=function e(n){if(n._vts){if(n._vts<=e.attached)return}else n._vts=Date.now();(0,f.qL)(pe(n,e.value),t,5,[n])};return n.value=e,n.attached=de(),n}function pe(e,t){if((0,h.cy)(t)){var n=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){n.call(e),e._stopped=!0},t.map((function(e){return function(t){return!t._stopped&&e&&e(t)}}))}return t}var ye=function(e){return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123},ge=function(e,t,n,r,i,a,o,u,s){var c="svg"===i;"class"===t?V(e,r,c):"style"===t?$(e,n,r):(0,h.Mp)(t)?(0,h.CP)(t)||se(e,t,n,r,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):me(e,t,r,c))?ie(e,t,r,a,o,u,s):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),re(e,t,r,c))};function me(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&ye(t)&&(0,h.Tn)(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){var i=e.tagName;if("IMG"===i||"VIDEO"===i||"CANVAS"===i||"SOURCE"===i)return!1}return(!ye(t)||!(0,h.Kg)(n))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */function Ae(e,t){var n=(0,f.pM)(e),u=function(e){function u(e){return(0,i.A)(this,u),(0,a.A)(this,u,[n,e,t])}return(0,o.A)(u,e),(0,r.A)(u)}(be);return u.def=n,u}
/*! #__NO_SIDE_EFFECTS__ */var we=function(e){return Ae(e,ut)},ke="undefined"!==typeof HTMLElement?HTMLElement:function(){function e(){(0,i.A)(this,e)}return(0,r.A)(e)}(),be=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return(0,i.A)(this,t),n=(0,a.A)(this,t),n._def=e,n._props=r,n._instance=null,n._connected=!1,n._resolved=!1,n._numberProps=null,n._ob=null,n.shadowRoot&&o?o(n._createVNode(),n.shadowRoot):(n.attachShadow({mode:"open"}),n._def.__asyncLoader||n._resolveProps(n._def)),n}return(0,o.A)(t,e),(0,r.A)(t,[{key:"connectedCallback",value:function(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}},{key:"disconnectedCallback",value:function(){var e=this;this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),(0,f.dY)((function(){e._connected||(ot(null,e.shadowRoot),e._instance=null)}))}},{key:"_resolveDef",value:function(){var e=this;this._resolved=!0;for(var t=0;t<this.attributes.length;t++)this._setAttr(this.attributes[t].name);this._ob=new MutationObserver((function(t){var n,r=(0,c.A)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e._setAttr(i.attributeName)}}catch(a){r.e(a)}finally{r.f()}})),this._ob.observe(this,{attributes:!0});var n=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.props,a=t.styles;if(i&&!(0,h.cy)(i))for(var o in i){var u=i[o];(u===Number||u&&u.type===Number)&&(o in e._props&&(e._props[o]=(0,h.Ro)(e._props[o])),(n||(n=Object.create(null)))[(0,h.PT)(o)]=!0)}e._numberProps=n,r&&e._resolveProps(t),e._applyStyles(a),e._update()},r=this._def.__asyncLoader;r?r().then((function(e){return n(e,!0)})):n(this._def)}},{key:"_resolveProps",value:function(e){for(var t=this,n=e.props,r=(0,h.cy)(n)?n:Object.keys(n||{}),i=0,a=Object.keys(this);i<a.length;i++){var o=a[i];"_"!==o[0]&&r.includes(o)&&this._setProp(o,this[o],!0,!1)}var u,s=(0,c.A)(r.map(h.PT));try{var l=function(){var e=u.value;Object.defineProperty(t,e,{get:function(){return this._getProp(e)},set:function(t){this._setProp(e,t)}})};for(s.s();!(u=s.n()).done;)l()}catch(f){s.e(f)}finally{s.f()}}},{key:"_setAttr",value:function(e){var t=this.getAttribute(e),n=(0,h.PT)(e);this._numberProps&&this._numberProps[n]&&(t=(0,h.Ro)(t)),this._setProp(n,t,!1)}},{key:"_getProp",value:function(e){return this._props[e]}},{key:"_setProp",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t!==this._props[e]&&(this._props[e]=t,r&&this._instance&&this._update(),n&&(!0===t?this.setAttribute((0,h.Tg)(e),""):"string"===typeof t||"number"===typeof t?this.setAttribute((0,h.Tg)(e),t+""):t||this.removeAttribute((0,h.Tg)(e))))}},{key:"_update",value:function(){ot(this._createVNode(),this.shadowRoot)}},{key:"_createVNode",value:function(){var e=this,n=(0,f.bF)(this._def,(0,h.X$)({},this._props));return this._instance||(n.ce=function(n){e._instance=n,n.isCE=!0;var r=function(t,n){e.dispatchEvent(new CustomEvent(t,{detail:n}))};n.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r(e,n),(0,h.Tg)(e)!==e&&r((0,h.Tg)(e),n)};var i=e;while(i=i&&(i.parentNode||i.host))if(i instanceof t){n.parent=i._instance,n.provides=i._instance.provides;break}}),n}},{key:"_applyStyles",value:function(e){var t=this;e&&e.forEach((function(e){var n=document.createElement("style");n.textContent=e,t.shadowRoot.appendChild(n)}))}}])}(ke);function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$style",t=(0,f.nI)();if(!t)return h.MZ;var n=t.type.__cssModules;if(!n)return h.MZ;var r=n[e];return r||h.MZ}var xe=new WeakMap,Ee=new WeakMap,Ie=Symbol("_moveCb"),Te=Symbol("_enterCb"),Se={name:"TransitionGroup",props:(0,h.X$)({},x,{tag:String,moveClass:String}),setup:function(e,t){var n,r,i=t.slots,a=(0,f.nI)(),o=(0,f.Gy)();return(0,f.$u)((function(){if(n.length){var t=e.moveClass||"".concat(e.name||"v","-move");if(De(n[0].el,a.vnode.el,t)){n.forEach(Oe),n.forEach(Re);var r=n.filter(Ne);U(),r.forEach((function(e){var n=e.el,r=n.style;O(n,t),r.transform=r.webkitTransform=r.transitionDuration="";var i=n[Ie]=function(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n[Ie]=null,R(n,t))};n.addEventListener("transitionend",i)}))}}})),function(){var t=(0,d.ux)(e),u=T(t),s=t.tag||f.FK;n=r,r=i["default"]?(0,f.Df)(i["default"]()):[];for(var c=0;c<r.length;c++){var l=r[c];null!=l.key&&(0,f.MZ)(l,(0,f.OW)(l,u,o,a))}if(n)for(var h=0;h<n.length;h++){var v=n[h];(0,f.MZ)(v,(0,f.OW)(v,u,o,a)),xe.set(v,v.el.getBoundingClientRect())}return(0,f.bF)(s,null,r)}}};Se.props;var Ce=Se;function Oe(e){var t=e.el;t[Ie]&&t[Ie](),t[Te]&&t[Te]()}function Re(e){Ee.set(e,e.el.getBoundingClientRect())}function Ne(e){var t=xe.get(e),n=Ee.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){var a=e.el.style;return a.transform=a.webkitTransform="translate(".concat(r,"px,").concat(i,"px)"),a.transitionDuration="0s",e}}function De(e,t,n){var r=e.cloneNode(),i=e[k];i&&i.forEach((function(e){e.split(/\s+/).forEach((function(e){return e&&r.classList.remove(e)}))})),n.split(/\s+/).forEach((function(e){return e&&r.classList.add(e)})),r.style.display="none";var a=1===t.nodeType?t:t.parentNode;a.appendChild(r);var o=L(r),u=o.hasTransform;return a.removeChild(r),u}var Pe=function(e){var t=e.props["onUpdate:modelValue"]||!1;return(0,h.cy)(t)?function(e){return(0,h.DY)(t,e)}:t};function Le(e){e.target.composing=!0}function Me(e){var t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}var Fe=Symbol("_assign"),Ue={created:function(e,t,n){var r=t.modifiers,i=r.lazy,a=r.trim,o=r.number;e[Fe]=Pe(n);var u=o||n.props&&"number"===n.props.type;ae(e,i?"change":"input",(function(t){if(!t.target.composing){var n=e.value;a&&(n=n.trim()),u&&(n=(0,h.bB)(n)),e[Fe](n)}})),a&&ae(e,"change",(function(){e.value=e.value.trim()})),i||(ae(e,"compositionstart",Le),ae(e,"compositionend",Me),ae(e,"change",Me))},mounted:function(e,t){var n=t.value;e.value=null==n?"":n},beforeUpdate:function(e,t,n){var r=t.value,i=t.modifiers,a=i.lazy,o=i.trim,u=i.number;if(e[Fe]=Pe(n),!e.composing){var s=u||"number"===e.type?(0,h.bB)(e.value):e.value,c=null==r?"":r;if(s!==c){if(document.activeElement===e&&"range"!==e.type){if(a)return;if(o&&e.value.trim()===c)return}e.value=c}}}},Ve={deep:!0,created:function(e,t,n){e[Fe]=Pe(n),ae(e,"change",(function(){var t=e._modelValue,n=Ke(e),r=e.checked,i=e[Fe];if((0,h.cy)(t)){var a=(0,h.u3)(t,n),o=-1!==a;if(r&&!o)i(t.concat(n));else if(!r&&o){var u=(0,l.A)(t);u.splice(a,1),i(u)}}else if((0,h.vM)(t)){var s=new Set(t);r?s.add(n):s["delete"](n),i(s)}else i(Ge(e,r))}))},mounted:je,beforeUpdate:function(e,t,n){e[Fe]=Pe(n),je(e,t,n)}};function je(e,t,n){var r=t.value,i=t.oldValue;e._modelValue=r,(0,h.cy)(r)?e.checked=(0,h.u3)(r,n.props.value)>-1:(0,h.vM)(r)?e.checked=r.has(n.props.value):r!==i&&(e.checked=(0,h.BX)(r,Ge(e,!0)))}var Be={created:function(e,t,n){var r=t.value;e.checked=(0,h.BX)(r,n.props.value),e[Fe]=Pe(n),ae(e,"change",(function(){e[Fe](Ke(e))}))},beforeUpdate:function(e,t,n){var r=t.value,i=t.oldValue;e[Fe]=Pe(n),r!==i&&(e.checked=(0,h.BX)(r,n.props.value))}},qe={deep:!0,created:function(e,t,n){var r=t.value,i=t.modifiers.number,a=(0,h.vM)(r);ae(e,"change",(function(){var t=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return i?(0,h.bB)(Ke(e)):Ke(e)}));e[Fe](e.multiple?a?new Set(t):t:t[0]),e._assigning=!0,(0,f.dY)((function(){e._assigning=!1}))})),e[Fe]=Pe(n)},mounted:function(e,t){var n=t.value,r=t.modifiers.number;ze(e,n,r)},beforeUpdate:function(e,t,n){e[Fe]=Pe(n)},updated:function(e,t){var n=t.value,r=t.modifiers.number;e._assigning||ze(e,n,r)}};function ze(e,t,n){var r=e.multiple,i=(0,h.cy)(t);if(!r||i||(0,h.vM)(t)){for(var a=0,o=e.options.length;a<o;a++){var u=e.options[a],c=Ke(u);if(r)if(i){var l=(0,s.A)(c);u.selected="string"===l||"number"===l?t.includes(n?(0,h.bB)(c):c):(0,h.u3)(t,c)>-1}else u.selected=t.has(c);else if((0,h.BX)(Ke(u),t))return void(e.selectedIndex!==a&&(e.selectedIndex=a))}r||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Ke(e){return"_value"in e?e._value:e.value}function Ge(e,t){var n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}var He={created:function(e,t,n){Qe(e,t,n,null,"created")},mounted:function(e,t,n){Qe(e,t,n,null,"mounted")},beforeUpdate:function(e,t,n,r){Qe(e,t,n,r,"beforeUpdate")},updated:function(e,t,n,r){Qe(e,t,n,r,"updated")}};function We(e,t){switch(e){case"SELECT":return qe;case"TEXTAREA":return Ue;default:switch(t){case"checkbox":return Ve;case"radio":return Be;default:return Ue}}}function Qe(e,t,n,r,i){var a=We(e.tagName,n.props&&n.props.type),o=a[i];o&&o(e,t,n,r)}function Ye(){Ue.getSSRProps=function(e){var t=e.value;return{value:t}},Be.getSSRProps=function(e,t){var n=e.value;if(t.props&&(0,h.BX)(t.props.value,n))return{checked:!0}},Ve.getSSRProps=function(e,t){var n=e.value;if((0,h.cy)(n)){if(t.props&&(0,h.u3)(n,t.props.value)>-1)return{checked:!0}}else if((0,h.vM)(n)){if(t.props&&n.has(t.props.value))return{checked:!0}}else if(n)return{checked:!0}},He.getSSRProps=function(e,t){if("string"===typeof t.type){var n=We(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0}}}var $e,Xe=["ctrl","shift","alt","meta"],Je={stop:function(e){return e.stopPropagation()},prevent:function(e){return e.preventDefault()},self:function(e){return e.target!==e.currentTarget},ctrl:function(e){return!e.ctrlKey},shift:function(e){return!e.shiftKey},alt:function(e){return!e.altKey},meta:function(e){return!e.metaKey},left:function(e){return"button"in e&&0!==e.button},middle:function(e){return"button"in e&&1!==e.button},right:function(e){return"button"in e&&2!==e.button},exact:function(e,t){return Xe.some((function(n){return e["".concat(n,"Key")]&&!t.includes(n)}))}},Ze=function(e,t){var n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=function(n){for(var r=0;r<t.length;r++){var i=Je[t[r]];if(i&&i(n,t))return}for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];return e.apply(void 0,[n].concat(o))})},et={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},tt=function(e,t){var n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=function(n){if("key"in n){var r=(0,h.Tg)(n.key);return t.some((function(e){return e===r||et[e]===r}))?e(n):void 0}})},nt=(0,h.X$)({patchProp:ge},m),rt=!1;function it(){return $e||($e=(0,f.K9)(nt))}function at(){return $e=rt?$e:(0,f.ci)(nt),rt=!0,$e}var ot=function(){var e;(e=it()).render.apply(e,arguments)},ut=function(){var e;(e=at()).hydrate.apply(e,arguments)},st=function(){var e,t=(e=it()).createApp.apply(e,arguments);var n=t.mount;return t.mount=function(e){var r=ft(e);if(r){var i=t._component;(0,h.Tn)(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";var a=n(r,!1,lt(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a}},t},ct=function(){var e,t=(e=at()).createApp.apply(e,arguments);var n=t.mount;return t.mount=function(e){var t=ft(e);if(t)return n(t,!0,lt(t))},t};function lt(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function ft(e){if((0,h.Kg)(e)){var t=document.querySelector(e);return t}return e}var ht=!1,dt=function(){ht||(ht=!0,Ye(),K())}},24232:(e,t,n)=>{"use strict";n.d(t,{$3:()=>A,$H:()=>z,BH:()=>$,BX:()=>se,Bm:()=>T,C4:()=>ne,CE:()=>k,CP:()=>p,DY:()=>K,Gv:()=>S,J$:()=>ae,Kg:()=>I,MZ:()=>l,Mp:()=>v,NO:()=>d,Oj:()=>f,PT:()=>U,Qd:()=>D,Ro:()=>W,SU:()=>L,TF:()=>g,Tg:()=>j,Tn:()=>E,Tr:()=>X,We:()=>Q,X$:()=>y,Y2:()=>oe,ZH:()=>B,Zf:()=>N,_B:()=>re,bB:()=>H,cy:()=>w,gd:()=>x,pD:()=>s,rU:()=>q,tE:()=>h,u3:()=>ce,vM:()=>b,v_:()=>le,yI:()=>P,yL:()=>C,yQ:()=>G});var r,i=n(78676),a=n(59258),o=n(23772),u=n(54119);n(52675),n(89463),n(76918),n(28706),n(2008),n(48980),n(51629),n(25276),n(64346),n(48598),n(62062),n(44114),n(72712),n(34782),n(54554),n(60739),n(23288),n(55081),n(33110),n(2892),n(59904),n(84185),n(52811),n(29908),n(79432),n(26099),n(78459),n(58940),n(27495),n(90906),n(38781),n(31415),n(47764),n(42781),n(25440),n(90744),n(11392),n(42762),n(23500),n(62953),n(13611);
/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function s(e,t){var n=new Set(e.split(","));return t?function(e){return n.has(e.toLowerCase())}:function(e){return n.has(e)}}var c,l={},f=[],h=function(){},d=function(){return!1},v=function(e){return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)},p=function(e){return e.startsWith("onUpdate:")},y=Object.assign,g=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},m=Object.prototype.hasOwnProperty,A=function(e,t){return m.call(e,t)},w=Array.isArray,k=function(e){return"[object Map]"===R(e)},b=function(e){return"[object Set]"===R(e)},_=function(e){return"[object Date]"===R(e)},x=function(e){return"[object RegExp]"===R(e)},E=function(e){return"function"===typeof e},I=function(e){return"string"===typeof e},T=function(e){return"symbol"===(0,u.A)(e)},S=function(e){return null!==e&&"object"===(0,u.A)(e)},C=function(e){return(S(e)||E(e))&&E(e.then)&&E(e["catch"])},O=Object.prototype.toString,R=function(e){return O.call(e)},N=function(e){return R(e).slice(8,-1)},D=function(e){return"[object Object]"===R(e)},P=function(e){return I(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e},L=s(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M=function(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}},F=/-(\w)/g,U=M((function(e){return e.replace(F,(function(e,t){return t?t.toUpperCase():""}))})),V=/\B([A-Z])/g,j=M((function(e){return e.replace(V,"-$1").toLowerCase()})),B=M((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),q=M((function(e){var t=e?"on".concat(B(e)):"";return t})),z=function(e,t){return!Object.is(e,t)},K=function(e,t){for(var n=0;n<e.length;n++)e[n](t)},G=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},H=function(e){var t=parseFloat(e);return isNaN(t)?e:t},W=function(e){var t=I(e)?Number(e):NaN;return isNaN(t)?e:t},Q=function(){return c||(c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})};r={},(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)(r,1,"TEXT"),2,"CLASS"),4,"STYLE"),8,"PROPS"),16,"FULL_PROPS"),32,"NEED_HYDRATION"),64,"STABLE_FRAGMENT"),128,"KEYED_FRAGMENT"),256,"UNKEYED_FRAGMENT"),512,"NEED_PATCH"),(0,o.A)((0,o.A)((0,o.A)((0,o.A)(r,1024,"DYNAMIC_SLOTS"),2048,"DEV_ROOT_FRAGMENT"),-1,"HOISTED"),-2,"BAIL"),(0,o.A)((0,o.A)((0,o.A)({},1,"STABLE"),2,"DYNAMIC"),3,"FORWARDED");var Y="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",$=s(Y);function X(e){if(w(e)){for(var t={},n=0;n<e.length;n++){var r=e[n],i=I(r)?te(r):X(r);if(i)for(var a in i)t[a]=i[a]}return t}if(I(e)||S(e))return e}var J=/;(?![^(]*\))/g,Z=/:([^]+)/,ee=/\/\*[^]*?\*\//g;function te(e){var t={};return e.replace(ee,"").split(J).forEach((function(e){if(e){var n=e.split(Z);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function ne(e){var t="";if(I(e))t=e;else if(w(e))for(var n=0;n<e.length;n++){var r=ne(e[n]);r&&(t+=r+" ")}else if(S(e))for(var i in e)e[i]&&(t+=i+" ");return t.trim()}function re(e){if(!e)return null;var t=e["class"],n=e.style;return t&&!I(t)&&(e["class"]=ne(t)),n&&(e.style=X(n)),e}var ie="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ae=s(ie);function oe(e){return!!e||""===e}function ue(e,t){if(e.length!==t.length)return!1;for(var n=!0,r=0;n&&r<e.length;r++)n=se(e[r],t[r]);return n}function se(e,t){if(e===t)return!0;var n=_(e),r=_(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=T(e),r=T(t),n||r)return e===t;if(n=w(e),r=w(t),n||r)return!(!n||!r)&&ue(e,t);if(n=S(e),r=S(t),n||r){if(!n||!r)return!1;var i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(var o in e){var u=e.hasOwnProperty(o),s=t.hasOwnProperty(o);if(u&&!s||!u&&s||!se(e[o],t[o]))return!1}}return String(e)===String(t)}function ce(e,t){return e.findIndex((function(e){return se(e,t)}))}var le=function(e){return I(e)?e:null==e?"":w(e)||S(e)&&(e.toString===O||!E(e.toString))?JSON.stringify(e,fe,2):String(e)},fe=function e(t,n){return n&&n.__v_isRef?e(t,n.value):k(n)?(0,o.A)({},"Map(".concat(n.size,")"),(0,a.A)(n.entries()).reduce((function(e,t,n){var r=(0,i.A)(t,2),a=r[0],o=r[1];return e[he(a,n)+" =>"]=o,e}),{})):b(n)?(0,o.A)({},"Set(".concat(n.size,")"),(0,a.A)(n.values()).map((function(e){return he(e)}))):T(n)?he(n):!S(n)||w(n)||D(n)?n:String(n)},he=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return T(e)?"Symbol(".concat(null!=(t=e.description)?t:n,")"):e}},71241:(e,t,n)=>{"use strict";var r=n(63686)["default"],i=n(93794)["default"];n(84185),t.A=function(e,t){var n,a=e.__vccOpts||e,o=i(t);try{for(o.s();!(n=o.n()).done;){var u=r(n.value,2),s=u[0],c=u[1];a[s]=c}}catch(l){o.e(l)}finally{o.f()}return a}},79306:(e,t,n)=>{"use strict";var r=n(94901),i=n(16823),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not a function")}},35548:(e,t,n)=>{"use strict";var r=n(33517),i=n(16823),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not a constructor")}},73506:(e,t,n)=>{"use strict";var r=n(13925),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},6469:(e,t,n)=>{"use strict";var r=n(78227),i=n(2360),a=n(24913).f,o=r("unscopables"),u=Array.prototype;void 0===u[o]&&a(u,o,{configurable:!0,value:i(null)}),e.exports=function(e){u[o][e]=!0}},57829:(e,t,n)=>{"use strict";var r=n(68183).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},90679:(e,t,n)=>{"use strict";var r=n(1625),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},28551:(e,t,n)=>{"use strict";var r=n(20034),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not an object")}},77811:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},67394:(e,t,n)=>{"use strict";var r=n(46706),i=n(44576),a=TypeError;e.exports=r(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==i(e))throw new a("ArrayBuffer expected");return e.byteLength}},3238:(e,t,n)=>{"use strict";var r=n(79504),i=n(67394),a=r(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==i(e))return!1;try{return a(e,0,0),!1}catch(t){return!0}}},15652:(e,t,n)=>{"use strict";var r=n(79039);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},73255:(e,t,n)=>{"use strict";var r=n(24475),i=n(79504),a=n(46706),o=n(57696),u=n(3238),s=n(67394),c=n(94483),l=n(1548),f=r.structuredClone,h=r.ArrayBuffer,d=r.DataView,v=r.TypeError,p=Math.min,y=h.prototype,g=d.prototype,m=i(y.slice),A=a(y,"resizable","get"),w=a(y,"maxByteLength","get"),k=i(g.getInt8),b=i(g.setInt8);e.exports=(l||c)&&function(e,t,n){var r,i=s(e),a=void 0===t?i:o(t),y=!A||!A(e);if(u(e))throw new v("ArrayBuffer is detached");if(l&&(e=f(e,{transfer:[e]}),i===a&&(n||y)))return e;if(i>=a&&(!n||y))r=m(e,0,a);else{var g=n&&!y&&w?{maxByteLength:w(e)}:void 0;r=new h(a,g);for(var _=new d(e),x=new d(r),E=p(a,i),I=0;I<E;I++)b(x,I,k(_,I))}return l||c(e),r}},94644:(e,t,n)=>{"use strict";var r,i,a,o=n(77811),u=n(43724),s=n(24475),c=n(94901),l=n(20034),f=n(39297),h=n(36955),d=n(16823),v=n(66699),p=n(36840),y=n(62106),g=n(1625),m=n(42787),A=n(52967),w=n(78227),k=n(33392),b=n(91181),_=b.enforce,x=b.get,E=s.Int8Array,I=E&&E.prototype,T=s.Uint8ClampedArray,S=T&&T.prototype,C=E&&m(E),O=I&&m(I),R=Object.prototype,N=s.TypeError,D=w("toStringTag"),P=k("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",M=o&&!!A&&"Opera"!==h(s.opera),F=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},V={BigInt64Array:8,BigUint64Array:8},j=function(e){if(!l(e))return!1;var t=h(e);return"DataView"===t||f(U,t)||f(V,t)},B=function(e){var t=m(e);if(l(t)){var n=x(t);return n&&f(n,L)?n[L]:B(t)}},q=function(e){if(!l(e))return!1;var t=h(e);return f(U,t)||f(V,t)},z=function(e){if(q(e))return e;throw new N("Target is not a typed array")},K=function(e){if(c(e)&&(!A||g(C,e)))return e;throw new N(d(e)+" is not a typed array constructor")},G=function(e,t,n,r){if(u){if(n)for(var i in U){var a=s[i];if(a&&f(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(c){}}}O[e]&&!n||p(O,e,n?t:M&&I[e]||t,r)}},H=function(e,t,n){var r,i;if(u){if(A){if(n)for(r in U)if(i=s[r],i&&f(i,e))try{delete i[e]}catch(a){}if(C[e]&&!n)return;try{return p(C,e,n?t:M&&C[e]||t)}catch(a){}}for(r in U)i=s[r],!i||i[e]&&!n||p(i,e,t)}};for(r in U)i=s[r],a=i&&i.prototype,a?_(a)[L]=i:M=!1;for(r in V)i=s[r],a=i&&i.prototype,a&&(_(a)[L]=i);if((!M||!c(C)||C===Function.prototype)&&(C=function(){throw new N("Incorrect invocation")},M))for(r in U)s[r]&&A(s[r],C);if((!M||!O||O===R)&&(O=C.prototype,M))for(r in U)s[r]&&A(s[r].prototype,O);if(M&&m(S)!==O&&A(S,O),u&&!f(O,D))for(r in F=!0,y(O,D,{configurable:!0,get:function(){return l(this)?this[P]:void 0}}),U)s[r]&&v(s[r],P,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:F&&P,aTypedArray:z,aTypedArrayConstructor:K,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:H,getTypedArrayConstructor:B,isView:j,isTypedArray:q,TypedArray:C,TypedArrayPrototype:O}},66346:(e,t,n)=>{"use strict";var r=n(24475),i=n(79504),a=n(43724),o=n(77811),u=n(10350),s=n(66699),c=n(62106),l=n(56279),f=n(79039),h=n(90679),d=n(91291),v=n(18014),p=n(57696),y=n(15617),g=n(88490),m=n(42787),A=n(52967),w=n(84373),k=n(67680),b=n(23167),_=n(77740),x=n(10687),E=n(91181),I=u.PROPER,T=u.CONFIGURABLE,S="ArrayBuffer",C="DataView",O="prototype",R="Wrong length",N="Wrong index",D=E.getterFor(S),P=E.getterFor(C),L=E.set,M=r[S],F=M,U=F&&F[O],V=r[C],j=V&&V[O],B=Object.prototype,q=r.Array,z=r.RangeError,K=i(w),G=i([].reverse),H=g.pack,W=g.unpack,Q=function(e){return[255&e]},Y=function(e){return[255&e,e>>8&255]},$=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},X=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},J=function(e){return H(y(e),23,4)},Z=function(e){return H(e,52,8)},ee=function(e,t,n){c(e[O],t,{configurable:!0,get:function(){return n(this)[t]}})},te=function(e,t,n,r){var i=P(e),a=p(n),o=!!r;if(a+t>i.byteLength)throw new z(N);var u=i.bytes,s=a+i.byteOffset,c=k(u,s,s+t);return o?c:G(c)},ne=function(e,t,n,r,i,a){var o=P(e),u=p(n),s=r(+i),c=!!a;if(u+t>o.byteLength)throw new z(N);for(var l=o.bytes,f=u+o.byteOffset,h=0;h<t;h++)l[f+h]=s[c?h:t-h-1]};if(o){var re=I&&M.name!==S;f((function(){M(1)}))&&f((function(){new M(-1)}))&&!f((function(){return new M,new M(1.5),new M(NaN),1!==M.length||re&&!T}))?re&&T&&s(M,"name",S):(F=function(e){return h(this,U),b(new M(p(e)),this,F)},F[O]=U,U.constructor=F,_(F,M)),A&&m(j)!==B&&A(j,B);var ie=new V(new F(2)),ae=i(j.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||l(j,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else F=function(e){h(this,U);var t=p(e);L(this,{type:S,bytes:K(q(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)},U=F[O],V=function(e,t,n){h(this,j),h(e,U);var r=D(e),i=r.byteLength,o=d(t);if(o<0||o>i)throw new z("Wrong offset");if(n=void 0===n?i-o:v(n),o+n>i)throw new z(R);L(this,{type:C,buffer:e,byteLength:n,byteOffset:o,bytes:r.bytes}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},j=V[O],a&&(ee(F,"byteLength",D),ee(V,"buffer",P),ee(V,"byteLength",P),ee(V,"byteOffset",P)),l(j,{getInt8:function(e){return te(this,1,e)[0]<<24>>24},getUint8:function(e){return te(this,1,e)[0]},getInt16:function(e){var t=te(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=te(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return X(te(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return X(te(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return W(te(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return W(te(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){ne(this,1,e,Q,t)},setUint8:function(e,t){ne(this,1,e,Q,t)},setInt16:function(e,t){ne(this,2,e,Y,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){ne(this,2,e,Y,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){ne(this,4,e,$,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){ne(this,4,e,$,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){ne(this,4,e,J,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){ne(this,8,e,Z,t,arguments.length>2&&arguments[2])}});x(F,S),x(V,C),e.exports={ArrayBuffer:F,DataView:V}},57029:(e,t,n)=>{"use strict";var r=n(48981),i=n(35610),a=n(26198),o=n(84606),u=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=a(n),c=i(e,s),l=i(t,s),f=arguments.length>2?arguments[2]:void 0,h=u((void 0===f?s:i(f,s))-l,s-c),d=1;l<c&&c<l+h&&(d=-1,l+=h-1,c+=h-1);while(h-- >0)l in n?n[c]=n[l]:o(n,c),c+=d,l+=d;return n}},84373:(e,t,n)=>{"use strict";var r=n(48981),i=n(35610),a=n(26198);e.exports=function(e){var t=r(this),n=a(t),o=arguments.length,u=i(o>1?arguments[1]:void 0,n),s=o>2?arguments[2]:void 0,c=void 0===s?n:i(s,n);while(c>u)t[u++]=e;return t}},90235:(e,t,n)=>{"use strict";var r=n(59213).forEach,i=n(34598),a=i("forEach");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},35370:(e,t,n)=>{"use strict";var r=n(26198);e.exports=function(e,t,n){var i=0,a=arguments.length>2?n:r(t),o=new e(a);while(a>i)o[i]=t[i++];return o}},97916:(e,t,n)=>{"use strict";var r=n(76080),i=n(69565),a=n(48981),o=n(96319),u=n(44209),s=n(33517),c=n(26198),l=n(97040),f=n(70081),h=n(50851),d=Array;e.exports=function(e){var t=a(e),n=s(this),v=arguments.length,p=v>1?arguments[1]:void 0,y=void 0!==p;y&&(p=r(p,v>2?arguments[2]:void 0));var g,m,A,w,k,b,_=h(t),x=0;if(!_||this===d&&u(_))for(g=c(t),m=n?new this(g):d(g);g>x;x++)b=y?p(t[x],x):t[x],l(m,x,b);else for(m=n?new this:[],w=f(t,_),k=w.next;!(A=i(k,w)).done;x++)b=y?o(w,p,[A.value,x],!0):A.value,l(m,x,b);return m.length=x,m}},19617:(e,t,n)=>{"use strict";var r=n(25397),i=n(35610),a=n(26198),o=function(e){return function(t,n,o){var u=r(t),s=a(u);if(0===s)return!e&&-1;var c,l=i(o,s);if(e&&n!==n){while(s>l)if(c=u[l++],c!==c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},43839:(e,t,n)=>{"use strict";var r=n(76080),i=n(47055),a=n(48981),o=n(26198),u=function(e){var t=1===e;return function(n,u,s){var c,l,f=a(n),h=i(f),d=o(h),v=r(u,s);while(d-- >0)if(c=h[d],l=v(c,d,f),l)switch(e){case 0:return c;case 1:return d}return t?-1:void 0}};e.exports={findLast:u(0),findLastIndex:u(1)}},59213:(e,t,n)=>{"use strict";var r=n(76080),i=n(79504),a=n(47055),o=n(48981),u=n(26198),s=n(1469),c=i([].push),l=function(e){var t=1===e,n=2===e,i=3===e,l=4===e,f=6===e,h=7===e,d=5===e||f;return function(v,p,y,g){for(var m,A,w=o(v),k=a(w),b=u(k),_=r(p,y),x=0,E=g||s,I=t?E(v,b):n||h?E(v,0):void 0;b>x;x++)if((d||x in k)&&(m=k[x],A=_(m,x,w),e))if(t)I[x]=A;else if(A)switch(e){case 3:return!0;case 5:return m;case 6:return x;case 2:c(I,m)}else switch(e){case 4:return!1;case 7:c(I,m)}return f?-1:i||l?l:I}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},8379:(e,t,n)=>{"use strict";var r=n(18745),i=n(25397),a=n(91291),o=n(26198),u=n(34598),s=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=u("lastIndexOf"),h=l||!f;e.exports=h?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=o(t);if(0===n)return-1;var u=n-1;for(arguments.length>1&&(u=s(u,a(arguments[1]))),u<0&&(u=n+u);u>=0;u--)if(u in t&&t[u]===e)return u||0;return-1}:c},70597:(e,t,n)=>{"use strict";var r=n(79039),i=n(78227),a=n(77388),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},34598:(e,t,n)=>{"use strict";var r=n(79039);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},80926:(e,t,n)=>{"use strict";var r=n(79306),i=n(48981),a=n(47055),o=n(26198),u=TypeError,s="Reduce of empty array with no initial value",c=function(e){return function(t,n,c,l){var f=i(t),h=a(f),d=o(f);if(r(n),0===d&&c<2)throw new u(s);var v=e?d-1:0,p=e?-1:1;if(c<2)while(1){if(v in h){l=h[v],v+=p;break}if(v+=p,e?v<0:d<=v)throw new u(s)}for(;e?v>=0:d>v;v+=p)v in h&&(l=n(l,h[v],v,f));return l}};e.exports={left:c(!1),right:c(!0)}},34527:(e,t,n)=>{"use strict";var r=n(43724),i=n(34376),a=TypeError,o=Object.getOwnPropertyDescriptor,u=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=u?function(e,t){if(i(e)&&!o(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},67680:(e,t,n)=>{"use strict";var r=n(79504);e.exports=r([].slice)},74488:(e,t,n)=>{"use strict";var r=n(67680),i=Math.floor,a=function(e,t){var n=e.length;if(n<8){var o,u,s=1;while(s<n){u=s,o=e[s];while(u&&t(e[u-1],o)>0)e[u]=e[--u];u!==s++&&(e[u]=o)}}else{var c=i(n/2),l=a(r(e,0,c),t),f=a(r(e,c),t),h=l.length,d=f.length,v=0,p=0;while(v<h||p<d)e[v+p]=v<h&&p<d?t(l[v],f[p])<=0?l[v++]:f[p++]:v<h?l[v++]:f[p++]}return e};e.exports=a},87433:(e,t,n)=>{"use strict";var r=n(34376),i=n(33517),a=n(20034),o=n(78227),u=o("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,i(t)&&(t===s||r(t.prototype))?t=void 0:a(t)&&(t=t[u],null===t&&(t=void 0))),void 0===t?s:t}},1469:(e,t,n)=>{"use strict";var r=n(87433);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},37628:(e,t,n)=>{"use strict";var r=n(26198);e.exports=function(e,t){for(var n=r(e),i=new t(n),a=0;a<n;a++)i[a]=e[n-a-1];return i}},39928:(e,t,n)=>{"use strict";var r=n(26198),i=n(91291),a=RangeError;e.exports=function(e,t,n,o){var u=r(e),s=i(n),c=s<0?u+s:s;if(c>=u||c<0)throw new a("Incorrect index");for(var l=new t(u),f=0;f<u;f++)l[f]=f===c?o:e[f];return l}},92804:e=>{"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t+"+/",r=t+"-_",i=function(e){for(var t={},n=0;n<64;n++)t[e.charAt(n)]=n;return t};e.exports={i2c:n,c2i:i(n),i2cUrl:r,c2iUrl:i(r)}},96319:(e,t,n)=>{"use strict";var r=n(28551),i=n(9539);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},84428:(e,t,n)=>{"use strict";var r=n(78227),i=r("iterator"),a=!1;try{var o=0,u={next:function(){return{done:!!o++}},return:function(){a=!0}};u[i]=function(){return this},Array.from(u,(function(){throw 2}))}catch(s){}e.exports=function(e,t){try{if(!t&&!a)return!1}catch(s){return!1}var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(s){}return n}},44576:(e,t,n)=>{"use strict";var r=n(79504),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},36955:(e,t,n)=>{"use strict";var r=n(92140),i=n(94901),a=n(44576),o=n(78227),u=o("toStringTag"),s=Object,c="Arguments"===a(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=s(e),u))?n:c?a(t):"Object"===(r=a(t))&&i(t.callee)?"Arguments":r}},86938:(e,t,n)=>{"use strict";var r=n(2360),i=n(62106),a=n(56279),o=n(76080),u=n(90679),s=n(64117),c=n(72652),l=n(51088),f=n(62529),h=n(87633),d=n(43724),v=n(3451).fastKey,p=n(91181),y=p.set,g=p.getterFor;e.exports={getConstructor:function(e,t,n,l){var f=e((function(e,i){u(e,h),y(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),d||(e.size=0),s(i)||c(i,e[l],{that:e,AS_ENTRIES:n})})),h=f.prototype,p=g(t),m=function(e,t,n){var r,i,a=p(e),o=A(e,t);return o?o.value=n:(a.last=o={index:i=v(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),d?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},A=function(e,t){var n,r=p(e),i=v(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===t)return n};return a(h,{clear:function(){var e=this,t=p(e),n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),n=n.next;t.first=t.last=void 0,t.index=r(null),d?t.size=0:e.size=0},delete:function(e){var t=this,n=p(t),r=A(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first===r&&(n.first=i),n.last===r&&(n.last=a),d?n.size--:t.size--}return!!r},forEach:function(e){var t,n=p(this),r=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!A(this,e)}}),a(h,n?{get:function(e){var t=A(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&i(h,"size",{configurable:!0,get:function(){return p(this).size}}),f},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);l(e,t,(function(e,t){y(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?f("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),h(t)}}},91625:(e,t,n)=>{"use strict";var r=n(79504),i=n(56279),a=n(3451).getWeakData,o=n(90679),u=n(28551),s=n(64117),c=n(20034),l=n(72652),f=n(59213),h=n(39297),d=n(91181),v=d.set,p=d.getterFor,y=f.find,g=f.findIndex,m=r([].splice),A=0,w=function(e){return e.frozen||(e.frozen=new k)},k=function(){this.entries=[]},b=function(e,t){return y(e.entries,(function(e){return e[0]===t}))};k.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&m(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var f=e((function(e,i){o(e,d),v(e,{type:t,id:A++,frozen:void 0}),s(i)||l(i,e[r],{that:e,AS_ENTRIES:n})})),d=f.prototype,y=p(t),g=function(e,t,n){var r=y(e),i=a(u(t),!0);return!0===i?w(r).set(t,n):i[r.id]=n,e};return i(d,{delete:function(e){var t=y(this);if(!c(e))return!1;var n=a(e);return!0===n?w(t)["delete"](e):n&&h(n,t.id)&&delete n[t.id]},has:function(e){var t=y(this);if(!c(e))return!1;var n=a(e);return!0===n?w(t).has(e):n&&h(n,t.id)}}),i(d,n?{get:function(e){var t=y(this);if(c(e)){var n=a(e);return!0===n?w(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),f}}},16468:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(79504),o=n(92796),u=n(36840),s=n(3451),c=n(72652),l=n(90679),f=n(94901),h=n(64117),d=n(20034),v=n(79039),p=n(84428),y=n(10687),g=n(23167);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),A=-1!==e.indexOf("Weak"),w=m?"set":"add",k=i[e],b=k&&k.prototype,_=k,x={},E=function(e){var t=a(b[e]);u(b,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(A&&!d(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return A&&!d(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(A&&!d(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},I=o(e,!f(k)||!(A||b.forEach&&!v((function(){(new k).entries().next()}))));if(I)_=n.getConstructor(t,e,m,w),s.enable();else if(o(e,!0)){var T=new _,S=T[w](A?{}:-0,1)!==T,C=v((function(){T.has(1)})),O=p((function(e){new k(e)})),R=!A&&v((function(){var e=new k,t=5;while(t--)e[w](t,t);return!e.has(-0)}));O||(_=t((function(e,t){l(e,b);var n=g(new k,e,_);return h(t)||c(t,n[w],{that:n,AS_ENTRIES:m}),n})),_.prototype=b,b.constructor=_),(C||R)&&(E("delete"),E("has"),m&&E("get")),(R||S)&&E(w),A&&b.clear&&delete b.clear}return x[e]=_,r({global:!0,constructor:!0,forced:_!==k},x),y(_,e),A||n.setStrong(_,e,m),_}},77740:(e,t,n)=>{"use strict";var r=n(39297),i=n(35031),a=n(77347),o=n(24913);e.exports=function(e,t,n){for(var u=i(t),s=o.f,c=a.f,l=0;l<u.length;l++){var f=u[l];r(e,f)||n&&r(n,f)||s(e,f,c(t,f))}}},41436:(e,t,n)=>{"use strict";var r=n(78227),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},12211:(e,t,n)=>{"use strict";var r=n(79039);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},77240:(e,t,n)=>{"use strict";var r=n(79504),i=n(67750),a=n(655),o=/"/g,u=r("".replace);e.exports=function(e,t,n,r){var s=a(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+u(a(r),o,"&quot;")+'"'),c+">"+s+"</"+t+">"}},62529:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},66699:(e,t,n)=>{"use strict";var r=n(43724),i=n(24913),a=n(6980);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},6980:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},97040:(e,t,n)=>{"use strict";var r=n(43724),i=n(24913),a=n(6980);e.exports=function(e,t,n){r?i.f(e,t,a(0,n)):e[t]=n}},47999:(e,t,n)=>{"use strict";var r=n(79504),i=n(79039),a=n(60533).start,o=RangeError,u=isFinite,s=Math.abs,c=Date.prototype,l=c.toISOString,f=r(c.getTime),h=r(c.getUTCDate),d=r(c.getUTCFullYear),v=r(c.getUTCHours),p=r(c.getUTCMilliseconds),y=r(c.getUTCMinutes),g=r(c.getUTCMonth),m=r(c.getUTCSeconds);e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-50000000000001))}))||!i((function(){l.call(new Date(NaN))}))?function(){if(!u(f(this)))throw new o("Invalid time value");var e=this,t=d(e),n=p(e),r=t<0?"-":t>9999?"+":"";return r+a(s(t),r?6:4,0)+"-"+a(g(e)+1,2,0)+"-"+a(h(e),2,0)+"T"+a(v(e),2,0)+":"+a(y(e),2,0)+":"+a(m(e),2,0)+"."+a(n,3,0)+"Z"}:l},53640:(e,t,n)=>{"use strict";var r=n(28551),i=n(84270),a=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new a("Incorrect hint");return i(this,e)}},62106:(e,t,n)=>{"use strict";var r=n(50283),i=n(24913);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},36840:(e,t,n)=>{"use strict";var r=n(94901),i=n(24913),a=n(50283),o=n(39433);e.exports=function(e,t,n,u){u||(u={});var s=u.enumerable,c=void 0!==u.name?u.name:t;if(r(n)&&a(n,c,u),u.global)s?e[t]=n:o(t,n);else{try{u.unsafe?e[t]&&(s=!0):delete e[t]}catch(l){}s?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return e}},56279:(e,t,n)=>{"use strict";var r=n(36840);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},39433:(e,t,n)=>{"use strict";var r=n(24475),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},84606:(e,t,n)=>{"use strict";var r=n(16823),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},43724:(e,t,n)=>{"use strict";var r=n(79039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},94483:(e,t,n)=>{"use strict";var r,i,a,o,u=n(24475),s=n(69714),c=n(1548),l=u.structuredClone,f=u.ArrayBuffer,h=u.MessageChannel,d=!1;if(c)d=function(e){l(e,{transfer:[e]})};else if(f)try{h||(r=s("worker_threads"),r&&(h=r.MessageChannel)),h&&(i=new h,a=new f(2),o=function(e){i.port1.postMessage(null,[e])},2===a.byteLength&&(o(a),0===a.byteLength&&(d=o)))}catch(v){}e.exports=d},4055:(e,t,n)=>{"use strict";var r=n(24475),i=n(20034),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},96837:e=>{"use strict";var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},55002:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},67400:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},79296:(e,t,n)=>{"use strict";var r=n(4055),i=r("span").classList,a=i&&i.constructor&&i.constructor.prototype;e.exports=a===Object.prototype?void 0:a},28834:(e,t,n)=>{"use strict";var r=n(79392),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},87290:(e,t,n)=>{"use strict";var r=n(50516),i=n(19088);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},6763:e=>{"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},50516:e=>{"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},63202:(e,t,n)=>{"use strict";var r=n(79392);e.exports=/MSIE|Trident/.test(r)},20028:(e,t,n)=>{"use strict";var r=n(79392);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},48119:(e,t,n)=>{"use strict";var r=n(79392);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},19088:(e,t,n)=>{"use strict";var r=n(24475),i=n(44576);e.exports="process"===i(r.process)},36765:(e,t,n)=>{"use strict";var r=n(79392);e.exports=/web0s(?!.*chrome)/i.test(r)},79392:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},77388:(e,t,n)=>{"use strict";var r,i,a=n(24475),o=n(79392),u=a.process,s=a.Deno,c=u&&u.versions||s&&s.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},89160:(e,t,n)=>{"use strict";var r=n(79392),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},88727:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},16193:(e,t,n)=>{"use strict";var r=n(79504),i=Error,a=r("".replace),o=function(e){return String(new i(e).stack)}("zxcasd"),u=/\n\s*at [^:]*:[^\n]*/,s=u.test(o);e.exports=function(e,t){if(s&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=a(e,u,"");return e}},80747:(e,t,n)=>{"use strict";var r=n(66699),i=n(16193),a=n(24659),o=Error.captureStackTrace;e.exports=function(e,t,n,u){a&&(o?o(e,t):r(e,"stack",i(n,u)))}},24659:(e,t,n)=>{"use strict";var r=n(79039),i=n(6980);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},77536:(e,t,n)=>{"use strict";var r=n(43724),i=n(79039),a=n(28551),o=n(32603),u=Error.prototype.toString,s=i((function(){if(r){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==u.call(e))return!0}return"2: 1"!==u.call({message:1,name:2})||"Error"!==u.call({})}));e.exports=s?function(){var e=a(this),t=o(e.name,"Error"),n=o(e.message);return t?n?t+": "+n:t:n}:u},46518:(e,t,n)=>{"use strict";var r=n(24475),i=n(77347).f,a=n(66699),o=n(36840),u=n(39433),s=n(77740),c=n(92796);e.exports=function(e,t){var n,l,f,h,d,v,p=e.target,y=e.global,g=e.stat;if(l=y?r:g?r[p]||u(p,{}):r[p]&&r[p].prototype,l)for(f in t){if(d=t[f],e.dontCallGetSet?(v=i(l,f),h=v&&v.value):h=l[f],n=c(y?f:p+(g?".":"#")+f,e.forced),!n&&void 0!==h){if(typeof d==typeof h)continue;s(d,h)}(e.sham||h&&h.sham)&&a(d,"sham",!0),o(l,f,d,e)}}},79039:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},89228:(e,t,n)=>{"use strict";n(27495);var r=n(69565),i=n(36840),a=n(57323),o=n(79039),u=n(78227),s=n(66699),c=u("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var h=u(e),d=!o((function(){var t={};return t[h]=function(){return 7},7!==""[e](t)})),v=d&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!d||!v||n){var p=/./[h],y=t(h,""[e],(function(e,t,n,i,o){var u=t.exec;return u===a||u===l.exec?d&&!o?{done:!0,value:r(p,t,n,i)}:{done:!0,value:r(e,n,t,i)}:{done:!1}}));i(String.prototype,e,y[0]),i(l,h,y[1])}f&&s(l[h],"sham",!0)}},92744:(e,t,n)=>{"use strict";var r=n(79039);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},18745:(e,t,n)=>{"use strict";var r=n(40616),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},76080:(e,t,n)=>{"use strict";var r=n(27476),i=n(79306),a=n(40616),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},40616:(e,t,n)=>{"use strict";var r=n(79039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},30566:(e,t,n)=>{"use strict";var r=n(79504),i=n(79306),a=n(20034),o=n(39297),u=n(67680),s=n(40616),c=Function,l=r([].concat),f=r([].join),h={},d=function(e,t,n){if(!o(h,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";h[t]=c("C,a","return new C("+f(r,",")+")")}return h[t](e,n)};e.exports=s?c.bind:function(e){var t=i(this),n=t.prototype,r=u(arguments,1),o=function(){var n=l(r,u(arguments));return this instanceof o?d(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},69565:(e,t,n)=>{"use strict";var r=n(40616),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},10350:(e,t,n)=>{"use strict";var r=n(43724),i=n(39297),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,u=i(a,"name"),s=u&&"something"===function(){}.name,c=u&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:u,PROPER:s,CONFIGURABLE:c}},46706:(e,t,n)=>{"use strict";var r=n(79504),i=n(79306);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(a){}}},27476:(e,t,n)=>{"use strict";var r=n(44576),i=n(79504);e.exports=function(e){if("Function"===r(e))return i(e)}},79504:(e,t,n)=>{"use strict";var r=n(40616),i=Function.prototype,a=i.call,o=r&&i.bind.bind(a,a);e.exports=r?o:function(e){return function(){return a.apply(e,arguments)}}},97751:(e,t,n)=>{"use strict";var r=n(24475),i=n(94901),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},50851:(e,t,n)=>{"use strict";var r=n(36955),i=n(55966),a=n(64117),o=n(26269),u=n(78227),s=u("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[r(e)]}},70081:(e,t,n)=>{"use strict";var r=n(69565),i=n(79306),a=n(28551),o=n(16823),u=n(50851),s=TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(i(n))return a(r(n,e));throw new s(o(e)+" is not iterable")}},66933:(e,t,n)=>{"use strict";var r=n(79504),i=n(34376),a=n(94901),o=n(44576),u=n(655),s=r([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var c=e[r];"string"==typeof c?s(n,c):"number"!=typeof c&&"Number"!==o(c)&&"String"!==o(c)||s(n,u(c))}var l=n.length,f=!0;return function(e,t){if(f)return f=!1,t;if(i(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},55966:(e,t,n)=>{"use strict";var r=n(79306),i=n(64117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},2478:(e,t,n)=>{"use strict";var r=n(79504),i=n(48981),a=Math.floor,o=r("".charAt),u=r("".replace),s=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,h){var d=n+e.length,v=r.length,p=l;return void 0!==f&&(f=i(f),p=c),u(h,p,(function(i,u){var c;switch(o(u,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,n);case"'":return s(t,d);case"<":c=f[s(u,1,-1)];break;default:var l=+u;if(0===l)return i;if(l>v){var h=a(l/10);return 0===h?i:h<=v?void 0===r[h-1]?o(u,1):r[h-1]+o(u,1):i}c=r[l-1]}return void 0===c?"":c}))}},24475:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},39297:(e,t,n)=>{"use strict";var r=n(79504),i=n(48981),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},30421:e=>{"use strict";e.exports={}},90757:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(n){}}},20397:(e,t,n)=>{"use strict";var r=n(97751);e.exports=r("document","documentElement")},35917:(e,t,n)=>{"use strict";var r=n(43724),i=n(79039),a=n(4055);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},88490:e=>{"use strict";var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2,u=function(e,u,s){var c,l,f,h=t(s),d=8*s-u-1,v=(1<<d)-1,p=v>>1,y=23===u?r(2,-24)-r(2,-77):0,g=e<0||0===e&&1/e<0?1:0,m=0;e=n(e),e!==e||e===1/0?(l=e!==e?1:0,c=v):(c=i(a(e)/o),f=r(2,-c),e*f<1&&(c--,f*=2),e+=c+p>=1?y/f:y*r(2,1-p),e*f>=2&&(c++,f/=2),c+p>=v?(l=0,c=v):c+p>=1?(l=(e*f-1)*r(2,u),c+=p):(l=e*r(2,p-1)*r(2,u),c=0));while(u>=8)h[m++]=255&l,l/=256,u-=8;c=c<<u|l,d+=u;while(d>0)h[m++]=255&c,c/=256,d-=8;return h[--m]|=128*g,h},s=function(e,t){var n,i=e.length,a=8*i-t-1,o=(1<<a)-1,u=o>>1,s=a-7,c=i-1,l=e[c--],f=127&l;l>>=7;while(s>0)f=256*f+e[c--],s-=8;n=f&(1<<-s)-1,f>>=-s,s+=t;while(s>0)n=256*n+e[c--],s-=8;if(0===f)f=1-u;else{if(f===o)return n?NaN:l?-1/0:1/0;n+=r(2,t),f-=u}return(l?-1:1)*n*r(2,f-t)};e.exports={pack:u,unpack:s}},47055:(e,t,n)=>{"use strict";var r=n(79504),i=n(79039),a=n(44576),o=Object,u=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?u(e,""):o(e)}:o},23167:(e,t,n)=>{"use strict";var r=n(94901),i=n(20034),a=n(52967);e.exports=function(e,t,n){var o,u;return a&&r(o=t.constructor)&&o!==n&&i(u=o.prototype)&&u!==n.prototype&&a(e,u),e}},33706:(e,t,n)=>{"use strict";var r=n(79504),i=n(94901),a=n(77629),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},77584:(e,t,n)=>{"use strict";var r=n(20034),i=n(66699);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},3451:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(30421),o=n(20034),u=n(39297),s=n(24913).f,c=n(38480),l=n(10298),f=n(34124),h=n(33392),d=n(92744),v=!1,p=h("meta"),y=0,g=function(e){s(e,p,{value:{objectID:"O"+y++,weakData:{}}})},m=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,p)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[p].objectID},A=function(e,t){if(!u(e,p)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[p].weakData},w=function(e){return d&&v&&f(e)&&!u(e,p)&&g(e),e},k=function(){b.enable=function(){},v=!0;var e=c.f,t=i([].splice),n={};n[p]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,a=r.length;i<a;i++)if(r[i]===p){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},b=e.exports={enable:k,fastKey:m,getWeakData:A,onFreeze:w};a[p]=!0},91181:(e,t,n)=>{"use strict";var r,i,a,o=n(58622),u=n(24475),s=n(20034),c=n(66699),l=n(39297),f=n(77629),h=n(66119),d=n(30421),v="Object already initialized",p=u.TypeError,y=u.WeakMap,g=function(e){return a(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!s(t)||(n=i(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return n}};if(o||f.state){var A=f.state||(f.state=new y);A.get=A.get,A.has=A.has,A.set=A.set,r=function(e,t){if(A.has(e))throw new p(v);return t.facade=e,A.set(e,t),t},i=function(e){return A.get(e)||{}},a=function(e){return A.has(e)}}else{var w=h("state");d[w]=!0,r=function(e,t){if(l(e,w))throw new p(v);return t.facade=e,c(e,w,t),t},i=function(e){return l(e,w)?e[w]:{}},a=function(e){return l(e,w)}}e.exports={set:r,get:i,has:a,enforce:g,getterFor:m}},44209:(e,t,n)=>{"use strict";var r=n(78227),i=n(26269),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},34376:(e,t,n)=>{"use strict";var r=n(44576);e.exports=Array.isArray||function(e){return"Array"===r(e)}},18727:(e,t,n)=>{"use strict";var r=n(36955);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},94901:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},33517:(e,t,n)=>{"use strict";var r=n(79504),i=n(79039),a=n(94901),o=n(36955),u=n(97751),s=n(33706),c=function(){},l=u("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=r(f.exec),d=!f.test(c),v=function(e){if(!a(e))return!1;try{return l(c,[],e),!0}catch(t){return!1}},p=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!h(f,s(e))}catch(t){return!0}};p.sham=!0,e.exports=!l||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?p:v},16575:(e,t,n)=>{"use strict";var r=n(39297);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},92796:(e,t,n)=>{"use strict";var r=n(79039),i=n(94901),a=/#|\.prototype\./,o=function(e,t){var n=s[u(e)];return n===l||n!==c&&(i(t)?r(t):!!t)},u=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},2087:(e,t,n)=>{"use strict";var r=n(20034),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},64117:e=>{"use strict";e.exports=function(e){return null===e||void 0===e}},20034:(e,t,n)=>{"use strict";var r=n(94901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},13925:(e,t,n)=>{"use strict";var r=n(20034);e.exports=function(e){return r(e)||null===e}},96395:e=>{"use strict";e.exports=!1},60788:(e,t,n)=>{"use strict";var r=n(20034),i=n(44576),a=n(78227),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},10757:(e,t,n)=>{"use strict";var r=n(97751),i=n(94901),a=n(1625),o=n(7040),u=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,u(e))}},72652:(e,t,n)=>{"use strict";var r=n(76080),i=n(69565),a=n(28551),o=n(16823),u=n(44209),s=n(26198),c=n(1625),l=n(70081),f=n(50851),h=n(9539),d=TypeError,v=function(e,t){this.stopped=e,this.result=t},p=v.prototype;e.exports=function(e,t,n){var y,g,m,A,w,k,b,_=n&&n.that,x=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_RECORD),I=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),S=r(t,_),C=function(e){return y&&h(y,"normal",e),new v(!0,e)},O=function(e){return x?(a(e),T?S(e[0],e[1],C):S(e[0],e[1])):T?S(e,C):S(e)};if(E)y=e.iterator;else if(I)y=e;else{if(g=f(e),!g)throw new d(o(e)+" is not iterable");if(u(g)){for(m=0,A=s(e);A>m;m++)if(w=O(e[m]),w&&c(p,w))return w;return new v(!1)}y=l(e,g)}k=E?e.next:y.next;while(!(b=i(k,y)).done){try{w=O(b.value)}catch(R){h(y,"throw",R)}if("object"==typeof w&&w&&c(p,w))return w}return new v(!1)}},9539:(e,t,n)=>{"use strict";var r=n(69565),i=n(28551),a=n(55966);e.exports=function(e,t,n){var o,u;i(e);try{if(o=a(e,"return"),!o){if("throw"===t)throw n;return n}o=r(o,e)}catch(s){u=!0,o=s}if("throw"===t)throw n;if(u)throw o;return i(o),n}},33994:(e,t,n)=>{"use strict";var r=n(57657).IteratorPrototype,i=n(2360),a=n(6980),o=n(10687),u=n(26269),s=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),u[l]=s,e}},51088:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(96395),o=n(10350),u=n(94901),s=n(33994),c=n(42787),l=n(52967),f=n(10687),h=n(66699),d=n(36840),v=n(78227),p=n(26269),y=n(57657),g=o.PROPER,m=o.CONFIGURABLE,A=y.IteratorPrototype,w=y.BUGGY_SAFARI_ITERATORS,k=v("iterator"),b="keys",_="values",x="entries",E=function(){return this};e.exports=function(e,t,n,o,v,y,I){s(n,t,o);var T,S,C,O=function(e){if(e===v&&L)return L;if(!w&&e&&e in D)return D[e];switch(e){case b:return function(){return new n(this,e)};case _:return function(){return new n(this,e)};case x:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",N=!1,D=e.prototype,P=D[k]||D["@@iterator"]||v&&D[v],L=!w&&P||O(v),M="Array"===t&&D.entries||P;if(M&&(T=c(M.call(new e)),T!==Object.prototype&&T.next&&(a||c(T)===A||(l?l(T,A):u(T[k])||d(T,k,E)),f(T,R,!0,!0),a&&(p[R]=E))),g&&v===_&&P&&P.name!==_&&(!a&&m?h(D,"name",_):(N=!0,L=function(){return i(P,this)})),v)if(S={values:O(_),keys:y?L:O(b),entries:O(x)},I)for(C in S)(w||N||!(C in D))&&d(D,C,S[C]);else r({target:t,proto:!0,forced:w||N},S);return a&&!I||D[k]===L||d(D,k,L,{name:v}),p[t]=L,S}},57657:(e,t,n)=>{"use strict";var r,i,a,o=n(79039),u=n(94901),s=n(20034),c=n(2360),l=n(42787),f=n(36840),h=n(78227),d=n(96395),v=h("iterator"),p=!1;[].keys&&(a=[].keys(),"next"in a?(i=l(l(a)),i!==Object.prototype&&(r=i)):p=!0);var y=!s(r)||o((function(){var e={};return r[v].call(e)!==e}));y?r={}:d&&(r=c(r)),u(r[v])||f(r,v,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},26269:e=>{"use strict";e.exports={}},26198:(e,t,n)=>{"use strict";var r=n(18014);e.exports=function(e){return r(e.length)}},50283:(e,t,n)=>{"use strict";var r=n(79504),i=n(79039),a=n(94901),o=n(39297),u=n(43724),s=n(10350).CONFIGURABLE,c=n(33706),l=n(91181),f=l.enforce,h=l.get,d=String,v=Object.defineProperty,p=r("".slice),y=r("".replace),g=r([].join),m=u&&!i((function(){return 8!==v((function(){}),"length",{value:8}).length})),A=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===p(d(t),0,7)&&(t="["+y(d(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(u?v(e,"name",{value:t,configurable:!0}):e.name=t),m&&n&&o(n,"arity")&&e.length!==n.arity&&v(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?u&&v(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=f(e);return o(r,"source")||(r.source=g(A,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return a(this)&&h(this).source||c(this)}),"toString")},33164:(e,t,n)=>{"use strict";var r=n(77782),i=Math.abs,a=2220446049250313e-31,o=1/a,u=function(e){return e+o-o};e.exports=function(e,t,n,o){var s=+e,c=i(s),l=r(s);if(c<o)return l*u(c/o/t)*o*t;var f=(1+t/a)*c,h=f-(f-c);return h>n||h!==h?l*(1/0):l*h}},15617:(e,t,n)=>{"use strict";var r=n(33164),i=1.1920928955078125e-7,a=34028234663852886e22,o=11754943508222875e-54;e.exports=Math.fround||function(e){return r(e,i,a,o)}},77782:e=>{"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!==t?t:t<0?-1:1}},80741:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},91955:(e,t,n)=>{"use strict";var r,i,a,o,u,s=n(24475),c=n(93389),l=n(76080),f=n(59225).set,h=n(18265),d=n(48119),v=n(20028),p=n(36765),y=n(19088),g=s.MutationObserver||s.WebKitMutationObserver,m=s.document,A=s.process,w=s.Promise,k=c("queueMicrotask");if(!k){var b=new h,_=function(){var e,t;y&&(e=A.domain)&&e.exit();while(t=b.get())try{t()}catch(n){throw b.head&&r(),n}e&&e.enter()};d||y||p||!g||!m?!v&&w&&w.resolve?(o=w.resolve(void 0),o.constructor=w,u=l(o.then,o),r=function(){u(_)}):y?r=function(){A.nextTick(_)}:(f=l(f,s),r=function(){f(_)}):(i=!0,a=m.createTextNode(""),new g(_).observe(a,{characterData:!0}),r=function(){a.data=i=!i}),k=function(e){b.head||r(),b.add(e)}}e.exports=k},36043:(e,t,n)=>{"use strict";var r=n(79306),i=TypeError,a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},32603:(e,t,n)=>{"use strict";var r=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},60511:(e,t,n)=>{"use strict";var r=n(60788),i=TypeError;e.exports=function(e){if(r(e))throw new i("The method doesn't accept regular expressions");return e}},50360:(e,t,n)=>{"use strict";var r=n(24475),i=r.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},33904:(e,t,n)=>{"use strict";var r=n(24475),i=n(79039),a=n(79504),o=n(655),u=n(43802).trim,s=n(47452),c=a("".charAt),l=r.parseFloat,f=r.Symbol,h=f&&f.iterator,d=1/l(s+"-0")!==-1/0||h&&!i((function(){l(Object(h))}));e.exports=d?function(e){var t=u(o(e)),n=l(t);return 0===n&&"-"===c(t,0)?-0:n}:l},52703:(e,t,n)=>{"use strict";var r=n(24475),i=n(79039),a=n(79504),o=n(655),u=n(43802).trim,s=n(47452),c=r.parseInt,l=r.Symbol,f=l&&l.iterator,h=/^[+-]?0x/i,d=a(h.exec),v=8!==c(s+"08")||22!==c(s+"0x16")||f&&!i((function(){c(Object(f))}));e.exports=v?function(e,t){var n=u(o(e));return c(n,t>>>0||(d(h,n)?16:10))}:c},44213:(e,t,n)=>{"use strict";var r=n(43724),i=n(79504),a=n(69565),o=n(79039),u=n(71072),s=n(33717),c=n(48773),l=n(48981),f=n(47055),h=Object.assign,d=Object.defineProperty,v=i([].concat);e.exports=!h||o((function(){if(r&&1!==h({b:1},h(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==h({},e)[n]||u(h({},t)).join("")!==i}))?function(e,t){var n=l(e),i=arguments.length,o=1,h=s.f,d=c.f;while(i>o){var p,y=f(arguments[o++]),g=h?v(u(y),h(y)):u(y),m=g.length,A=0;while(m>A)p=g[A++],r&&!a(d,y,p)||(n[p]=y[p])}return n}:h},2360:(e,t,n)=>{"use strict";var r,i=n(28551),a=n(96801),o=n(88727),u=n(30421),s=n(20397),c=n(4055),l=n(66119),f=">",h="<",d="prototype",v="script",p=l("IE_PROTO"),y=function(){},g=function(e){return h+v+f+e+h+"/"+v+f},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},A=function(){var e,t=c("iframe"),n="java"+v+":";return t.style.display="none",s.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?m(r):A():m(r);var e=o.length;while(e--)delete w[d][o[e]];return w()};u[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(y[d]=i(e),n=new y,y[d]=null,n[p]=e):n=w(),void 0===t?n:a.f(n,t)}},96801:(e,t,n)=>{"use strict";var r=n(43724),i=n(48686),a=n(24913),o=n(28551),u=n(25397),s=n(71072);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);var n,r=u(t),i=s(t),c=i.length,l=0;while(c>l)a.f(e,n=i[l++],r[n]);return e}},24913:(e,t,n)=>{"use strict";var r=n(43724),i=n(35917),a=n(48686),o=n(28551),u=n(56969),s=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",d="writable";t.f=r?a?function(e,t,n){if(o(e),t=u(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&d in n&&!n[d]){var r=l(e,t);r&&r[d]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:f in n?n[f]:r[f],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=u(t),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new s("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},77347:(e,t,n)=>{"use strict";var r=n(43724),i=n(69565),a=n(48773),o=n(6980),u=n(25397),s=n(56969),c=n(39297),l=n(35917),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=u(e),t=s(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},10298:(e,t,n)=>{"use strict";var r=n(44576),i=n(25397),a=n(38480).f,o=n(67680),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return a(e)}catch(t){return o(u)}};e.exports.f=function(e){return u&&"Window"===r(e)?s(e):a(i(e))}},38480:(e,t,n)=>{"use strict";var r=n(61828),i=n(88727),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},33717:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},42787:(e,t,n)=>{"use strict";var r=n(39297),i=n(94901),a=n(48981),o=n(66119),u=n(12211),s=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=u?c.getPrototypeOf:function(e){var t=a(e);if(r(t,s))return t[s];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},34124:(e,t,n)=>{"use strict";var r=n(79039),i=n(20034),a=n(44576),o=n(15652),u=Object.isExtensible,s=r((function(){u(1)}));e.exports=s||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!==a(e))&&(!u||u(e)))}:u},1625:(e,t,n)=>{"use strict";var r=n(79504);e.exports=r({}.isPrototypeOf)},61828:(e,t,n)=>{"use strict";var r=n(79504),i=n(39297),a=n(25397),o=n(19617).indexOf,u=n(30421),s=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(u,n)&&i(r,n)&&s(l,n);while(t.length>c)i(r,n=t[c++])&&(~o(l,n)||s(l,n));return l}},71072:(e,t,n)=>{"use strict";var r=n(61828),i=n(88727);e.exports=Object.keys||function(e){return r(e,i)}},48773:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},52967:(e,t,n)=>{"use strict";var r=n(46706),i=n(20034),a=n(67750),o=n(73506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(u){}return function(n,r){return a(n),o(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},32357:(e,t,n)=>{"use strict";var r=n(43724),i=n(79039),a=n(79504),o=n(42787),u=n(71072),s=n(25397),c=n(48773).f,l=a(c),f=a([].push),h=r&&i((function(){var e=Object.create(null);return e[2]=2,!l(e,2)})),d=function(e){return function(t){var n,i=s(t),a=u(i),c=h&&null===o(i),d=a.length,v=0,p=[];while(d>v)n=a[v++],r&&!(c?n in i:l(i,n))||f(p,e?[n,i[n]]:i[n]);return p}};e.exports={entries:d(!0),values:d(!1)}},53179:(e,t,n)=>{"use strict";var r=n(92140),i=n(36955);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},84270:(e,t,n)=>{"use strict";var r=n(69565),i=n(94901),a=n(20034),o=TypeError;e.exports=function(e,t){var n,u;if("string"===t&&i(n=e.toString)&&!a(u=r(n,e)))return u;if(i(n=e.valueOf)&&!a(u=r(n,e)))return u;if("string"!==t&&i(n=e.toString)&&!a(u=r(n,e)))return u;throw new o("Can't convert object to primitive value")}},35031:(e,t,n)=>{"use strict";var r=n(97751),i=n(79504),a=n(38480),o=n(33717),u=n(28551),s=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(u(e)),n=o.f;return n?s(t,n(e)):t}},19167:(e,t,n)=>{"use strict";var r=n(24475);e.exports=r},1103:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},10916:(e,t,n)=>{"use strict";var r=n(24475),i=n(80550),a=n(94901),o=n(92796),u=n(33706),s=n(78227),c=n(87290),l=n(50516),f=n(96395),h=n(77388),d=i&&i.prototype,v=s("species"),p=!1,y=a(r.PromiseRejectionEvent),g=o("Promise",(function(){var e=u(i),t=e!==String(i);if(!t&&66===h)return!0;if(f&&(!d["catch"]||!d["finally"]))return!0;if(!h||h<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},a=n.constructor={};if(a[v]=r,p=n.then((function(){}))instanceof r,!p)return!0}return!t&&(c||l)&&!y}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:y,SUBCLASSING:p}},80550:(e,t,n)=>{"use strict";var r=n(24475);e.exports=r.Promise},93438:(e,t,n)=>{"use strict";var r=n(28551),i=n(20034),a=n(36043);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e),o=n.resolve;return o(t),n.promise}},90537:(e,t,n)=>{"use strict";var r=n(80550),i=n(84428),a=n(10916).CONSTRUCTOR;e.exports=a||!i((function(e){r.all(e).then(void 0,(function(){}))}))},11056:(e,t,n)=>{"use strict";var r=n(24913).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},18265:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return null===t&&(this.tail=null),e.item}}},e.exports=t},56682:(e,t,n)=>{"use strict";var r=n(69565),i=n(28551),a=n(94901),o=n(44576),u=n(57323),s=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return r(u,e,t);throw new s("RegExp#exec called on incompatible receiver")}},57323:(e,t,n)=>{"use strict";var r=n(69565),i=n(79504),a=n(655),o=n(67979),u=n(58429),s=n(25745),c=n(2360),l=n(91181).get,f=n(83635),h=n(18814),d=s("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,p=v,y=i("".charAt),g=i("".indexOf),m=i("".replace),A=i("".slice),w=function(){var e=/a/,t=/b*/g;return r(v,e,"a"),r(v,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),k=u.BROKEN_CARET,b=void 0!==/()??/.exec("")[1],_=w||b||k||f||h;_&&(p=function(e){var t,n,i,u,s,f,h,_=this,x=l(_),E=a(e),I=x.raw;if(I)return I.lastIndex=_.lastIndex,t=r(p,I,E),_.lastIndex=I.lastIndex,t;var T=x.groups,S=k&&_.sticky,C=r(o,_),O=_.source,R=0,N=E;if(S&&(C=m(C,"y",""),-1===g(C,"g")&&(C+="g"),N=A(E,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==y(E,_.lastIndex-1))&&(O="(?: "+O+")",N=" "+N,R++),n=new RegExp("^(?:"+O+")",C)),b&&(n=new RegExp("^"+O+"$(?!\\s)",C)),w&&(i=_.lastIndex),u=r(v,S?n:_,N),S?u?(u.input=A(u.input,R),u[0]=A(u[0],R),u.index=_.lastIndex,_.lastIndex+=u[0].length):_.lastIndex=0:w&&u&&(_.lastIndex=_.global?u.index+u[0].length:i),b&&u&&u.length>1&&r(d,u[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(u[s]=void 0)})),u&&T)for(u.groups=f=c(null),s=0;s<T.length;s++)h=T[s],f[h[0]]=u[h[1]];return u}),e.exports=p},67979:(e,t,n)=>{"use strict";var r=n(28551);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},61034:(e,t,n)=>{"use strict";var r=n(69565),i=n(39297),a=n(1625),o=n(67979),u=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in u||i(e,"flags")||!a(u,e)?t:r(o,e)}},58429:(e,t,n)=>{"use strict";var r=n(79039),i=n(24475),a=i.RegExp,o=r((function(){var e=a("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),u=o||r((function(){return!a("a","y").sticky})),s=o||r((function(){var e=a("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:u,UNSUPPORTED_Y:o}},83635:(e,t,n)=>{"use strict";var r=n(79039),i=n(24475),a=i.RegExp;e.exports=r((function(){var e=a(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},18814:(e,t,n)=>{"use strict";var r=n(79039),i=n(24475),a=i.RegExp;e.exports=r((function(){var e=a("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},67750:(e,t,n)=>{"use strict";var r=n(64117),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},93389:(e,t,n)=>{"use strict";var r=n(24475),i=n(43724),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return r[e];var t=a(r,e);return t&&t.value}},3470:e=>{"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}},79472:(e,t,n)=>{"use strict";var r=n(24475),i=n(18745),a=n(94901),o=n(6763),u=n(79392),s=n(67680),c=n(22812),l=r.Function,f=/MSIE .\./.test(u)||o&&function(){var e=r.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var n=t?2:1;return f?function(r,o){var u=c(arguments.length,1)>n,f=a(r)?r:l(r),h=u?s(arguments,n):[],d=u?function(){i(f,this,h)}:f;return t?e(d,o):e(d)}:e}},87633:(e,t,n)=>{"use strict";var r=n(97751),i=n(62106),a=n(78227),o=n(43724),u=a("species");e.exports=function(e){var t=r(e);o&&t&&!t[u]&&i(t,u,{configurable:!0,get:function(){return this}})}},10687:(e,t,n)=>{"use strict";var r=n(24913).f,i=n(39297),a=n(78227),o=a("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},66119:(e,t,n)=>{"use strict";var r=n(25745),i=n(33392),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},77629:(e,t,n)=>{"use strict";var r=n(96395),i=n(24475),a=n(39433),o="__core-js_shared__",u=e.exports=i[o]||a(o,{});(u.versions||(u.versions=[])).push({version:"3.36.1",mode:r?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:(e,t,n)=>{"use strict";var r=n(77629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},2293:(e,t,n)=>{"use strict";var r=n(28551),i=n(35548),a=n(64117),o=n(78227),u=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||a(n=r(o)[u])?t:i(n)}},23061:(e,t,n)=>{"use strict";var r=n(79039);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},68183:(e,t,n)=>{"use strict";var r=n(79504),i=n(91291),a=n(655),o=n(67750),u=r("".charAt),s=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=a(o(t)),h=i(n),d=f.length;return h<0||h>=d?e?"":void 0:(r=s(f,h),r<55296||r>56319||h+1===d||(l=s(f,h+1))<56320||l>57343?e?u(f,h):r:e?c(f,h,h+2):l-56320+(r-55296<<10)+65536)}};e.exports={codeAt:l(!1),charAt:l(!0)}},83063:(e,t,n)=>{"use strict";var r=n(79392);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},60533:(e,t,n)=>{"use strict";var r=n(79504),i=n(18014),a=n(655),o=n(72333),u=n(67750),s=r(o),c=r("".slice),l=Math.ceil,f=function(e){return function(t,n,r){var o,f,h=a(u(t)),d=i(n),v=h.length,p=void 0===r?" ":a(r);return d<=v||""===p?h:(o=d-v,f=s(p,l(o/p.length)),f.length>o&&(f=c(f,0,o)),e?h+f:f+h)}};e.exports={start:f(!1),end:f(!0)}},3717:(e,t,n)=>{"use strict";var r=n(79504),i=2147483647,a=36,o=1,u=26,s=38,c=700,l=72,f=128,h="-",d=/[^\0-\u007E]/,v=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",y=a-o,g=RangeError,m=r(v.exec),A=Math.floor,w=String.fromCharCode,k=r("".charCodeAt),b=r([].join),_=r([].push),x=r("".replace),E=r("".split),I=r("".toLowerCase),T=function(e){var t=[],n=0,r=e.length;while(n<r){var i=k(e,n++);if(i>=55296&&i<=56319&&n<r){var a=k(e,n++);56320===(64512&a)?_(t,((1023&i)<<10)+(1023&a)+65536):(_(t,i),n--)}else _(t,i)}return t},S=function(e){return e+22+75*(e<26)},C=function(e,t,n){var r=0;e=n?A(e/c):e>>1,e+=A(e/t);while(e>y*u>>1)e=A(e/y),r+=a;return A(r+(y+1)*e/(e+s))},O=function(e){var t=[];e=T(e);var n,r,s=e.length,c=f,d=0,v=l;for(n=0;n<e.length;n++)r=e[n],r<128&&_(t,w(r));var y=t.length,m=y;y&&_(t,h);while(m<s){var k=i;for(n=0;n<e.length;n++)r=e[n],r>=c&&r<k&&(k=r);var x=m+1;if(k-c>A((i-d)/x))throw new g(p);for(d+=(k-c)*x,c=k,n=0;n<e.length;n++){if(r=e[n],r<c&&++d>i)throw new g(p);if(r===c){var E=d,I=a;while(1){var O=I<=v?o:I>=v+u?u:I-v;if(E<O)break;var R=E-O,N=a-O;_(t,w(S(O+R%N))),E=A(R/N),I+=a}_(t,w(S(E))),v=C(d,x,m===y),d=0,m++}}d++,c++}return b(t,"")};e.exports=function(e){var t,n,r=[],i=E(x(I(e),v,"."),".");for(t=0;t<i.length;t++)n=i[t],_(r,m(d,n)?"xn--"+O(n):n);return b(r,".")}},72333:(e,t,n)=>{"use strict";var r=n(91291),i=n(655),a=n(67750),o=RangeError;e.exports=function(e){var t=i(a(this)),n="",u=r(e);if(u<0||u===1/0)throw new o("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(t+=t))1&u&&(n+=t);return n}},60706:(e,t,n)=>{"use strict";var r=n(10350).PROPER,i=n(79039),a=n(47452),o="";e.exports=function(e){return i((function(){return!!a[e]()||o[e]()!==o||r&&a[e].name!==e}))}},43802:(e,t,n)=>{"use strict";var r=n(79504),i=n(67750),a=n(655),o=n(47452),u=r("".replace),s=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(e){return function(t){var n=a(i(t));return 1&e&&(n=u(n,s,"")),2&e&&(n=u(n,c,"$1")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},1548:(e,t,n)=>{"use strict";var r=n(24475),i=n(79039),a=n(77388),o=n(87290),u=n(50516),s=n(19088),c=r.structuredClone;e.exports=!!c&&!i((function(){if(u&&a>92||s&&a>94||o&&a>97)return!1;var e=new ArrayBuffer(8),t=c(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},4495:(e,t,n)=>{"use strict";var r=n(77388),i=n(79039),a=n(24475),o=a.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},58242:(e,t,n)=>{"use strict";var r=n(69565),i=n(97751),a=n(78227),o=n(36840);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,u=a("toPrimitive");t&&!t[u]&&o(t,u,(function(e){return r(n,this)}),{arity:1})}},91296:(e,t,n)=>{"use strict";var r=n(4495);e.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},59225:(e,t,n)=>{"use strict";var r,i,a,o,u=n(24475),s=n(18745),c=n(76080),l=n(94901),f=n(39297),h=n(79039),d=n(20397),v=n(67680),p=n(4055),y=n(22812),g=n(48119),m=n(19088),A=u.setImmediate,w=u.clearImmediate,k=u.process,b=u.Dispatch,_=u.Function,x=u.MessageChannel,E=u.String,I=0,T={},S="onreadystatechange";h((function(){r=u.location}));var C=function(e){if(f(T,e)){var t=T[e];delete T[e],t()}},O=function(e){return function(){C(e)}},R=function(e){C(e.data)},N=function(e){u.postMessage(E(e),r.protocol+"//"+r.host)};A&&w||(A=function(e){y(arguments.length,1);var t=l(e)?e:_(e),n=v(arguments,1);return T[++I]=function(){s(t,void 0,n)},i(I),I},w=function(e){delete T[e]},m?i=function(e){k.nextTick(O(e))}:b&&b.now?i=function(e){b.now(O(e))}:x&&!g?(a=new x,o=a.port2,a.port1.onmessage=R,i=c(o.postMessage,o)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!h(N)?(i=N,u.addEventListener("message",R,!1)):i=S in p("script")?function(e){d.appendChild(p("script"))[S]=function(){d.removeChild(this),C(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:A,clear:w}},31240:(e,t,n)=>{"use strict";var r=n(79504);e.exports=r(1..valueOf)},35610:(e,t,n)=>{"use strict";var r=n(91291),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},75854:(e,t,n)=>{"use strict";var r=n(72777),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},57696:(e,t,n)=>{"use strict";var r=n(91291),i=n(18014),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw new a("Wrong length or index");return n}},25397:(e,t,n)=>{"use strict";var r=n(47055),i=n(67750);e.exports=function(e){return r(i(e))}},91291:(e,t,n)=>{"use strict";var r=n(80741);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},18014:(e,t,n)=>{"use strict";var r=n(91291),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},48981:(e,t,n)=>{"use strict";var r=n(67750),i=Object;e.exports=function(e){return i(r(e))}},58229:(e,t,n)=>{"use strict";var r=n(99590),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw new i("Wrong offset");return n}},99590:(e,t,n)=>{"use strict";var r=n(91291),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new i("The argument can't be less than 0");return t}},72777:(e,t,n)=>{"use strict";var r=n(69565),i=n(20034),a=n(10757),o=n(55966),u=n(84270),s=n(78227),c=TypeError,l=s("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,s=o(e,l);if(s){if(void 0===t&&(t="default"),n=r(s,e,t),!i(n)||a(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},56969:(e,t,n)=>{"use strict";var r=n(72777),i=n(10757);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},92140:(e,t,n)=>{"use strict";var r=n(78227),i=r("toStringTag"),a={};a[i]="z",e.exports="[object z]"===String(a)},655:(e,t,n)=>{"use strict";var r=n(36955),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},58319:e=>{"use strict";var t=Math.round;e.exports=function(e){var n=t(e);return n<0?0:n>255?255:255&n}},69714:(e,t,n)=>{"use strict";var r=n(19088);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},16823:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},15823:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(69565),o=n(43724),u=n(72805),s=n(94644),c=n(66346),l=n(90679),f=n(6980),h=n(66699),d=n(2087),v=n(18014),p=n(57696),y=n(58229),g=n(58319),m=n(56969),A=n(39297),w=n(36955),k=n(20034),b=n(10757),_=n(2360),x=n(1625),E=n(52967),I=n(38480).f,T=n(43251),S=n(59213).forEach,C=n(87633),O=n(62106),R=n(24913),N=n(77347),D=n(35370),P=n(91181),L=n(23167),M=P.get,F=P.set,U=P.enforce,V=R.f,j=N.f,B=i.RangeError,q=c.ArrayBuffer,z=q.prototype,K=c.DataView,G=s.NATIVE_ARRAY_BUFFER_VIEWS,H=s.TYPED_ARRAY_TAG,W=s.TypedArray,Q=s.TypedArrayPrototype,Y=s.isTypedArray,$="BYTES_PER_ELEMENT",X="Wrong length",J=function(e,t){O(e,t,{configurable:!0,get:function(){return M(this)[t]}})},Z=function(e){var t;return x(z,e)||"ArrayBuffer"===(t=w(e))||"SharedArrayBuffer"===t},ee=function(e,t){return Y(e)&&!b(t)&&t in e&&d(+t)&&t>=0},te=function(e,t){return t=m(t),ee(e,t)?f(2,e[t]):j(e,t)},ne=function(e,t,n){return t=m(t),!(ee(e,t)&&k(n)&&A(n,"value"))||A(n,"get")||A(n,"set")||n.configurable||A(n,"writable")&&!n.writable||A(n,"enumerable")&&!n.enumerable?V(e,t,n):(e[t]=n.value,e)};o?(G||(N.f=te,R.f=ne,J(Q,"buffer"),J(Q,"byteOffset"),J(Q,"byteLength"),J(Q,"length")),r({target:"Object",stat:!0,forced:!G},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+/)[0]/8,s=e+(n?"Clamped":"")+"Array",c="get"+e,f="set"+e,d=i[s],m=d,A=m&&m.prototype,w={},b=function(e,t){var n=M(e);return n.view[c](t*o+n.byteOffset,!0)},x=function(e,t,r){var i=M(e);i.view[f](t*o+i.byteOffset,n?g(r):r,!0)},O=function(e,t){V(e,t,{get:function(){return b(this,t)},set:function(e){return x(this,t,e)},enumerable:!0})};G?u&&(m=t((function(e,t,n,r){return l(e,A),L(function(){return k(t)?Z(t)?void 0!==r?new d(t,y(n,o),r):void 0!==n?new d(t,y(n,o)):new d(t):Y(t)?D(m,t):a(T,m,t):new d(p(t))}(),e,m)})),E&&E(m,W),S(I(d),(function(e){e in m||h(m,e,d[e])})),m.prototype=A):(m=t((function(e,t,n,r){l(e,A);var i,u,s,c=0,f=0;if(k(t)){if(!Z(t))return Y(t)?D(m,t):a(T,m,t);i=t,f=y(n,o);var h=t.byteLength;if(void 0===r){if(h%o)throw new B(X);if(u=h-f,u<0)throw new B(X)}else if(u=v(r)*o,u+f>h)throw new B(X);s=u/o}else s=p(t),u=s*o,i=new q(u);F(e,{buffer:i,byteOffset:f,byteLength:u,length:s,view:new K(i)});while(c<s)O(e,c++)})),E&&E(m,W),A=m.prototype=_(Q)),A.constructor!==m&&h(A,"constructor",m),U(A).TypedArrayConstructor=m,H&&h(A,H,s);var R=m!==d;w[s]=m,r({global:!0,constructor:!0,forced:R,sham:!G},w),$ in m||h(m,$,o),$ in A||h(A,$,o),C(s)}):e.exports=function(){}},72805:(e,t,n)=>{"use strict";var r=n(24475),i=n(79039),a=n(84428),o=n(94644).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,s=r.Int8Array;e.exports=!o||!i((function(){s(1)}))||!i((function(){new s(-1)}))||!a((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||i((function(){return 1!==new s(new u(2),1,void 0).length}))},26357:(e,t,n)=>{"use strict";var r=n(35370),i=n(61412);e.exports=function(e,t){return r(i(e),t)}},43251:(e,t,n)=>{"use strict";var r=n(76080),i=n(69565),a=n(35548),o=n(48981),u=n(26198),s=n(70081),c=n(50851),l=n(44209),f=n(18727),h=n(94644).aTypedArrayConstructor,d=n(75854);e.exports=function(e){var t,n,v,p,y,g,m,A,w=a(this),k=o(e),b=arguments.length,_=b>1?arguments[1]:void 0,x=void 0!==_,E=c(k);if(E&&!l(E)){m=s(k,E),A=m.next,k=[];while(!(g=i(A,m)).done)k.push(g.value)}for(x&&b>2&&(_=r(_,arguments[2])),n=u(k),v=new(h(w))(n),p=f(v),t=0;n>t;t++)y=x?_(k[t],t):k[t],v[t]=p?d(y):+y;return v}},61412:(e,t,n)=>{"use strict";var r=n(94644),i=n(2293),a=r.aTypedArrayConstructor,o=r.getTypedArrayConstructor;e.exports=function(e){return a(i(e,o(e)))}},33392:(e,t,n)=>{"use strict";var r=n(79504),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},67416:(e,t,n)=>{"use strict";var r=n(79039),i=n(78227),a=n(43724),o=n(96395),u=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),r+=n+e})),n["delete"]("a",2),n["delete"]("b",void 0),o&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(o||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[u]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},7040:(e,t,n)=>{"use strict";var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},48686:(e,t,n)=>{"use strict";var r=n(43724),i=n(79039);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},22812:e=>{"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},58622:(e,t,n)=>{"use strict";var r=n(24475),i=n(94901),a=r.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},70511:(e,t,n)=>{"use strict";var r=n(19167),i=n(39297),a=n(1951),o=n(24913).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},1951:(e,t,n)=>{"use strict";var r=n(78227);t.f=r},78227:(e,t,n)=>{"use strict";var r=n(24475),i=n(25745),a=n(39297),o=n(33392),u=n(4495),s=n(7040),c=r.Symbol,l=i("wks"),f=s?c["for"]||c:c&&c.withoutSetter||o;e.exports=function(e){return a(l,e)||(l[e]=u&&a(c,e)?c[e]:f("Symbol."+e)),l[e]}},47452:e=>{"use strict";e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},14601:(e,t,n)=>{"use strict";var r=n(97751),i=n(39297),a=n(66699),o=n(1625),u=n(52967),s=n(77740),c=n(11056),l=n(23167),f=n(32603),h=n(77584),d=n(80747),v=n(43724),p=n(96395);e.exports=function(e,t,n,y){var g="stackTraceLimit",m=y?2:1,A=e.split("."),w=A[A.length-1],k=r.apply(null,A);if(k){var b=k.prototype;if(!p&&i(b,"cause")&&delete b.cause,!n)return k;var _=r("Error"),x=t((function(e,t){var n=f(y?t:e,void 0),r=y?new k(e):new k;return void 0!==n&&a(r,"message",n),d(r,x,r.stack,2),this&&o(b,this)&&l(r,this,x),arguments.length>m&&h(r,arguments[m]),r}));if(x.prototype=b,"Error"!==w?u?u(x,_):s(x,_,{name:!0}):v&&g in k&&(c(x,k,g),c(x,k,"prepareStackTrace")),s(x,k),!p)try{b.name!==w&&a(b,"name",w),b.constructor=x}catch(E){}return x}}},54743:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(66346),o=n(87633),u="ArrayBuffer",s=a[u],c=i[u];r({global:!0,constructor:!0,forced:c!==s},{ArrayBuffer:s}),o(u)},16573:(e,t,n)=>{"use strict";var r=n(43724),i=n(62106),a=n(3238),o=ArrayBuffer.prototype;r&&!("detached"in o)&&i(o,"detached",{configurable:!0,get:function(){return a(this)}})},11745:(e,t,n)=>{"use strict";var r=n(46518),i=n(27476),a=n(79039),o=n(66346),u=n(28551),s=n(35610),c=n(18014),l=n(2293),f=o.ArrayBuffer,h=o.DataView,d=h.prototype,v=i(f.prototype.slice),p=i(d.getUint8),y=i(d.setUint8),g=a((function(){return!new f(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:g},{slice:function(e,t){if(v&&void 0===t)return v(u(this),e);var n=u(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(l(this,f))(c(i-r)),o=new h(this),d=new h(a),g=0;while(r<i)y(d,g++,p(o,r++));return a}})},77936:(e,t,n)=>{"use strict";var r=n(46518),i=n(73255);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},78100:(e,t,n)=>{"use strict";var r=n(46518),i=n(73255);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},28706:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(34376),o=n(20034),u=n(48981),s=n(26198),c=n(96837),l=n(97040),f=n(1469),h=n(70597),d=n(78227),v=n(77388),p=d("isConcatSpreadable"),y=v>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),g=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},m=!y||!h("concat");r({target:"Array",proto:!0,arity:1,forced:m},{concat:function(e){var t,n,r,i,a,o=u(this),h=f(o,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],g(a))for(i=s(a),c(d+i),n=0;n<i;n++,d++)n in a&&l(h,d,a[n]);else c(d+1),l(h,d++,a);return h.length=d,h}})},88431:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).every,a=n(34598),o=a("every");r({target:"Array",proto:!0,forced:!o},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},33771:(e,t,n)=>{"use strict";var r=n(46518),i=n(84373),a=n(6469);r({target:"Array",proto:!0},{fill:i}),a("fill")},2008:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).filter,a=n(70597),o=a("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},48980:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).findIndex,a=n(6469),o="findIndex",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},50113:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).find,a=n(6469),o="find",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},51629:(e,t,n)=>{"use strict";var r=n(46518),i=n(90235);r({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},23418:(e,t,n)=>{"use strict";var r=n(46518),i=n(97916),a=n(84428),o=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:i})},74423:(e,t,n)=>{"use strict";var r=n(46518),i=n(19617).includes,a=n(79039),o=n(6469),u=a((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:u},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},25276:(e,t,n)=>{"use strict";var r=n(46518),i=n(27476),a=n(19617).indexOf,o=n(34598),u=i([].indexOf),s=!!u&&1/u([1],1,-0)<0,c=s||!o("indexOf");r({target:"Array",proto:!0,forced:c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return s?u(this,e,t)||0:a(this,e,t)}})},64346:(e,t,n)=>{"use strict";var r=n(46518),i=n(34376);r({target:"Array",stat:!0},{isArray:i})},23792:(e,t,n)=>{"use strict";var r=n(25397),i=n(6469),a=n(26269),o=n(91181),u=n(24913).f,s=n(51088),c=n(62529),l=n(96395),f=n(43724),h="Array Iterator",d=o.set,v=o.getterFor(h);e.exports=s(Array,"Array",(function(e,t){d(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=v(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,c(void 0,!0);switch(e.kind){case"keys":return c(n,!1);case"values":return c(t[n],!1)}return c([n,t[n]],!1)}),"values");var p=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!l&&f&&"values"!==p.name)try{u(p,"name",{value:"values"})}catch(y){}},48598:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(47055),o=n(25397),u=n(34598),s=i([].join),c=a!==Object,l=c||!u("join",",");r({target:"Array",proto:!0,forced:l},{join:function(e){return s(o(this),void 0===e?",":e)}})},8921:(e,t,n)=>{"use strict";var r=n(46518),i=n(8379);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},62062:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).map,a=n(70597),o=a("map");r({target:"Array",proto:!0,forced:!o},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},44114:(e,t,n)=>{"use strict";var r=n(46518),i=n(48981),a=n(26198),o=n(34527),u=n(96837),s=n(79039),c=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},f=c||!l();r({target:"Array",proto:!0,arity:1,forced:f},{push:function(e){var t=i(this),n=a(t),r=arguments.length;u(n+r);for(var s=0;s<r;s++)t[n]=arguments[s],n++;return o(t,n),n}})},72712:(e,t,n)=>{"use strict";var r=n(46518),i=n(80926).left,a=n(34598),o=n(77388),u=n(19088),s=!u&&o>79&&o<83,c=s||!a("reduce");r({target:"Array",proto:!0,forced:c},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},94490:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(34376),o=i([].reverse),u=[1,2];r({target:"Array",proto:!0,forced:String(u)===String(u.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},34782:(e,t,n)=>{"use strict";var r=n(46518),i=n(34376),a=n(33517),o=n(20034),u=n(35610),s=n(26198),c=n(25397),l=n(97040),f=n(78227),h=n(70597),d=n(67680),v=h("slice"),p=f("species"),y=Array,g=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(e,t){var n,r,f,h=c(this),v=s(h),m=u(e,v),A=u(void 0===t?v:t,v);if(i(h)&&(n=h.constructor,a(n)&&(n===y||i(n.prototype))?n=void 0:o(n)&&(n=n[p],null===n&&(n=void 0)),n===y||void 0===n))return d(h,m,A);for(r=new(void 0===n?y:n)(g(A-m,0)),f=0;m<A;m++,f++)m in h&&l(r,f,h[m]);return r.length=f,r}})},15086:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).some,a=n(34598),o=a("some");r({target:"Array",proto:!0,forced:!o},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},26910:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(79306),o=n(48981),u=n(26198),s=n(84606),c=n(655),l=n(79039),f=n(74488),h=n(34598),d=n(28834),v=n(63202),p=n(77388),y=n(89160),g=[],m=i(g.sort),A=i(g.push),w=l((function(){g.sort(void 0)})),k=l((function(){g.sort(null)})),b=h("sort"),_=!l((function(){if(p)return p<70;if(!(d&&d>3)){if(v)return!0;if(y)return y<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),x=w||!k||!b||!_,E=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}};r({target:"Array",proto:!0,forced:x},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(_)return void 0===e?m(t):m(t,e);var n,r,i=[],c=u(t);for(r=0;r<c;r++)r in t&&A(i,t[r]);f(i,E(e)),n=u(i),r=0;while(r<n)t[r]=i[r++];while(r<c)s(t,r++);return t}})},54554:(e,t,n)=>{"use strict";var r=n(46518),i=n(48981),a=n(35610),o=n(91291),u=n(26198),s=n(34527),c=n(96837),l=n(1469),f=n(97040),h=n(84606),d=n(70597),v=d("splice"),p=Math.max,y=Math.min;r({target:"Array",proto:!0,forced:!v},{splice:function(e,t){var n,r,d,v,g,m,A=i(this),w=u(A),k=a(e,w),b=arguments.length;for(0===b?n=r=0:1===b?(n=0,r=w-k):(n=b-2,r=y(p(o(t),0),w-k)),c(w+n-r),d=l(A,r),v=0;v<r;v++)g=k+v,g in A&&f(d,v,A[g]);if(d.length=r,n<r){for(v=k;v<w-r;v++)g=v+r,m=v+n,g in A?A[m]=A[g]:h(A,m);for(v=w;v>w-r+n;v--)h(A,v-1)}else if(n>r)for(v=w-r;v>k;v--)g=v+r-1,m=v+n-1,g in A?A[m]=A[g]:h(A,m);for(v=0;v<n;v++)A[v+k]=arguments[v+2];return s(A,w-r+n),d}})},13609:(e,t,n)=>{"use strict";var r=n(46518),i=n(48981),a=n(26198),o=n(34527),u=n(84606),s=n(96837),c=1!==[].unshift(0),l=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},f=c||!l();r({target:"Array",proto:!0,arity:1,forced:f},{unshift:function(e){var t=i(this),n=a(t),r=arguments.length;if(r){s(n+r);var c=n;while(c--){var l=c+r;c in t?t[l]=t[c]:u(t,l)}for(var f=0;f<r;f++)t[f]=arguments[f]}return o(t,n+r)}})},24359:(e,t,n)=>{"use strict";var r=n(46518),i=n(66346),a=n(77811);r({global:!0,constructor:!0,forced:!a},{DataView:i.DataView})},38309:(e,t,n)=>{"use strict";n(24359)},59089:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=Date,o=i(a.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return o(new a)}})},1688:(e,t,n)=>{"use strict";var r=n(46518),i=n(47999);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},60739:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(48981),o=n(72777),u=i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));r({target:"Date",proto:!0,arity:1,forced:u},{toJSON:function(e){var t=a(this),n=o(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},89572:(e,t,n)=>{"use strict";var r=n(39297),i=n(36840),a=n(53640),o=n(78227),u=o("toPrimitive"),s=Date.prototype;r(s,u)||i(s,u,a)},23288:(e,t,n)=>{"use strict";var r=n(79504),i=n(36840),a=Date.prototype,o="Invalid Date",u="toString",s=r(a[u]),c=r(a.getTime);String(new Date(NaN))!==o&&i(a,u,(function(){var e=c(this);return e===e?s(this):o}))},16280:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(18745),o=n(14601),u="WebAssembly",s=i[u],c=7!==new Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=o(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},f=function(e,t){if(s&&s[e]){var n={};n[e]=o(u+"."+e,t,c),r({target:u,stat:!0,constructor:!0,arity:1,forced:c},n)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),f("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),f("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),f("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},76918:(e,t,n)=>{"use strict";var r=n(36840),i=n(77536),a=Error.prototype;a.toString!==i&&r(a,"toString",i)},94170:(e,t,n)=>{"use strict";var r=n(46518),i=n(30566);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},62010:(e,t,n)=>{"use strict";var r=n(43724),i=n(10350).EXISTS,a=n(79504),o=n(62106),u=Function.prototype,s=a(u.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(c.exec),f="name";r&&!i&&o(u,f,{configurable:!0,get:function(){try{return l(c,s(this))[1]}catch(e){return""}}})},55081:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},33110:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(18745),o=n(69565),u=n(79504),s=n(79039),c=n(94901),l=n(10757),f=n(67680),h=n(66933),d=n(4495),v=String,p=i("JSON","stringify"),y=u(/./.exec),g=u("".charAt),m=u("".charCodeAt),A=u("".replace),w=u(1..toString),k=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,x=!d||s((function(){var e=i("Symbol")("stringify detection");return"[null]"!==p([e])||"{}"!==p({a:e})||"{}"!==p(Object(e))})),E=s((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),I=function(e,t){var n=f(arguments),r=h(t);if(c(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(c(r)&&(t=o(r,this,v(e),t)),!l(t))return t},a(p,null,n)},T=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return y(b,e)&&!y(_,i)||y(_,e)&&!y(b,r)?"\\u"+w(m(e,0),16):e};p&&r({target:"JSON",stat:!0,arity:3,forced:x||E},{stringify:function(e,t,n){var r=f(arguments),i=a(x?I:p,null,r);return E&&"string"==typeof i?A(i,k,T):i}})},4731:(e,t,n)=>{"use strict";var r=n(24475),i=n(10687);i(r.JSON,"JSON",!0)},48523:(e,t,n)=>{"use strict";var r=n(16468),i=n(86938);r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},36033:(e,t,n)=>{"use strict";n(48523)},72152:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=Math.imul,o=i((function(){return-5!==a(4294967295,5)||2!==a.length}));r({target:"Math",stat:!0,forced:o},{imul:function(e,t){var n=65535,r=+e,i=+t,a=n&r,o=n&i;return 0|a*o+((n&r>>>16)*o+a*(n&i>>>16)<<16>>>0)}})},60479:(e,t,n)=>{"use strict";var r=n(10687);r(Math,"Math",!0)},2892:(e,t,n)=>{"use strict";var r=n(46518),i=n(96395),a=n(43724),o=n(24475),u=n(19167),s=n(79504),c=n(92796),l=n(39297),f=n(23167),h=n(1625),d=n(10757),v=n(72777),p=n(79039),y=n(38480).f,g=n(77347).f,m=n(24913).f,A=n(31240),w=n(43802).trim,k="Number",b=o[k],_=u[k],x=b.prototype,E=o.TypeError,I=s("".slice),T=s("".charCodeAt),S=function(e){var t=v(e,"number");return"bigint"==typeof t?t:C(t)},C=function(e){var t,n,r,i,a,o,u,s,c=v(e,"number");if(d(c))throw new E("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),t=T(c,0),43===t||45===t){if(n=T(c,2),88===n||120===n)return NaN}else if(48===t){switch(T(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=I(c,2),o=a.length,u=0;u<o;u++)if(s=T(a,u),s<48||s>i)return NaN;return parseInt(a,r)}return+c},O=c(k,!b(" 0o1")||!b("0b1")||b("+0x1")),R=function(e){return h(x,e)&&p((function(){A(e)}))},N=function(e){var t=arguments.length<1?0:b(S(e));return R(this)?f(Object(t),this,N):t};N.prototype=x,O&&!i&&(x.constructor=N),r({global:!0,constructor:!0,wrap:!0,forced:O},{Number:N});var D=function(e,t){for(var n,r=a?y(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)l(t,n=r[i])&&!l(e,n)&&m(e,n,g(t,n))};i&&_&&D(u[k],_),(O||i)&&D(u[k],b)},25428:(e,t,n)=>{"use strict";var r=n(46518),i=n(50360);r({target:"Number",stat:!0},{isFinite:i})},32637:(e,t,n)=>{"use strict";var r=n(46518),i=n(2087);r({target:"Number",stat:!0},{isInteger:i})},64601:(e,t,n)=>{"use strict";var r=n(46518);r({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},44435:(e,t,n)=>{"use strict";var r=n(46518);r({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},69085:(e,t,n)=>{"use strict";var r=n(46518),i=n(44213);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},59904:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(2360);r({target:"Object",stat:!0,sham:!i},{create:a})},67945:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(96801).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!i},{defineProperties:a})},84185:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(24913).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},5506:(e,t,n)=>{"use strict";var r=n(46518),i=n(32357).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},52811:(e,t,n)=>{"use strict";var r=n(46518),i=n(92744),a=n(79039),o=n(20034),u=n(3451).onFreeze,s=Object.freeze,c=a((function(){s(1)}));r({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(e){return s&&o(e)?s(u(e)):e}})},83851:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(25397),o=n(77347).f,u=n(43724),s=!u||i((function(){o(1)}));r({target:"Object",stat:!0,forced:s,sham:!u},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},81278:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(35031),o=n(25397),u=n(77347),s=n(97040);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),i=u.f,c=a(r),l={},f=0;while(c.length>f)n=i(r,t=c[f++]),void 0!==n&&s(l,t,n);return l}})},1480:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(10298).f,o=i((function(){return!Object.getOwnPropertyNames(1)}));r({target:"Object",stat:!0,forced:o},{getOwnPropertyNames:a})},49773:(e,t,n)=>{"use strict";var r=n(46518),i=n(4495),a=n(79039),o=n(33717),u=n(48981),s=!i||a((function(){o.f(1)}));r({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(u(e)):[]}})},40875:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(48981),o=n(42787),u=n(12211),s=i((function(){o(1)}));r({target:"Object",stat:!0,forced:s,sham:!u},{getPrototypeOf:function(e){return o(a(e))}})},94052:(e,t,n)=>{"use strict";var r=n(46518),i=n(34124);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},29908:(e,t,n)=>{"use strict";var r=n(46518),i=n(3470);r({target:"Object",stat:!0},{is:i})},79432:(e,t,n)=>{"use strict";var r=n(46518),i=n(48981),a=n(71072),o=n(79039),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:u},{keys:function(e){return a(i(e))}})},63548:(e,t,n)=>{"use strict";var r=n(43724),i=n(62106),a=n(20034),o=n(13925),u=n(48981),s=n(67750),c=Object.getPrototypeOf,l=Object.setPrototypeOf,f=Object.prototype,h="__proto__";if(r&&c&&l&&!(h in f))try{i(f,h,{configurable:!0,get:function(){return c(u(this))},set:function(e){var t=s(this);o(e)&&a(t)&&l(t,e)}})}catch(d){}},10287:(e,t,n)=>{"use strict";var r=n(46518),i=n(52967);r({target:"Object",stat:!0},{setPrototypeOf:i})},26099:(e,t,n)=>{"use strict";var r=n(92140),i=n(36840),a=n(53179);r||i(Object.prototype,"toString",a,{unsafe:!0})},16034:(e,t,n)=>{"use strict";var r=n(46518),i=n(32357).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},78459:(e,t,n)=>{"use strict";var r=n(46518),i=n(33904);r({global:!0,forced:parseFloat!==i},{parseFloat:i})},58940:(e,t,n)=>{"use strict";var r=n(46518),i=n(52703);r({global:!0,forced:parseInt!==i},{parseInt:i})},16499:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(79306),o=n(36043),u=n(1103),s=n(72652),c=n(90537);r({target:"Promise",stat:!0,forced:c},{all:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,l=u((function(){var n=a(t.resolve),o=[],u=0,l=1;s(e,(function(e){var a=u++,s=!1;l++,i(n,t,e).then((function(e){s||(s=!0,o[a]=e,--l||r(o))}),c)})),--l||r(o)}));return l.error&&c(l.value),n.promise}})},82003:(e,t,n)=>{"use strict";var r=n(46518),i=n(96395),a=n(10916).CONSTRUCTOR,o=n(80550),u=n(97751),s=n(94901),c=n(36840),l=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&s(o)){var f=u("Promise").prototype["catch"];l["catch"]!==f&&c(l,"catch",f,{unsafe:!0})}},10436:(e,t,n)=>{"use strict";var r,i,a,o,u=n(46518),s=n(96395),c=n(19088),l=n(24475),f=n(69565),h=n(36840),d=n(52967),v=n(10687),p=n(87633),y=n(79306),g=n(94901),m=n(20034),A=n(90679),w=n(2293),k=n(59225).set,b=n(91955),_=n(90757),x=n(1103),E=n(18265),I=n(91181),T=n(80550),S=n(10916),C=n(36043),O="Promise",R=S.CONSTRUCTOR,N=S.REJECTION_EVENT,D=S.SUBCLASSING,P=I.getterFor(O),L=I.set,M=T&&T.prototype,F=T,U=M,V=l.TypeError,j=l.document,B=l.process,q=C.f,z=q,K=!!(j&&j.createEvent&&l.dispatchEvent),G="unhandledrejection",H="rejectionhandled",W=0,Q=1,Y=2,$=1,X=2,J=function(e){var t;return!(!m(e)||!g(t=e.then))&&t},Z=function(e,t){var n,r,i,a=t.value,o=t.state===Q,u=o?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{u?(o||(t.rejection===X&&ie(t),t.rejection=$),!0===u?n=a:(l&&l.enter(),n=u(a),l&&(l.exit(),i=!0)),n===e.promise?c(new V("Promise-chain cycle")):(r=J(n))?f(r,n,s,c):s(n)):c(a)}catch(h){l&&!i&&l.exit(),c(h)}},ee=function(e,t){e.notified||(e.notified=!0,b((function(){var n,r=e.reactions;while(n=r.get())Z(n,e);e.notified=!1,t&&!e.rejection&&ne(e)})))},te=function(e,t,n){var r,i;K?(r=j.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!N&&(i=l["on"+e])?i(r):e===G&&_("Unhandled promise rejection",n)},ne=function(e){f(k,l,(function(){var t,n=e.facade,r=e.value,i=re(e);if(i&&(t=x((function(){c?B.emit("unhandledRejection",r,n):te(G,n,r)})),e.rejection=c||re(e)?X:$,t.error))throw t.value}))},re=function(e){return e.rejection!==$&&!e.parent},ie=function(e){f(k,l,(function(){var t=e.facade;c?B.emit("rejectionHandled",t):te(H,t,e.value)}))},ae=function(e,t,n){return function(r){e(t,r,n)}},oe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=Y,ee(e,!0))},ue=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new V("Promise can't be resolved itself");var r=J(t);r?b((function(){var n={done:!1};try{f(r,t,ae(ue,n,e),ae(oe,n,e))}catch(i){oe(n,i,e)}})):(e.value=t,e.state=Q,ee(e,!1))}catch(i){oe({done:!1},i,e)}}};if(R&&(F=function(e){A(this,U),y(e),f(r,this);var t=P(this);try{e(ae(ue,t),ae(oe,t))}catch(n){oe(t,n)}},U=F.prototype,r=function(e){L(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:W,value:void 0})},r.prototype=h(U,"then",(function(e,t){var n=P(this),r=q(w(this,F));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=c?B.domain:void 0,n.state===W?n.reactions.add(r):b((function(){Z(r,n)})),r.promise})),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=ae(ue,t),this.reject=ae(oe,t)},C.f=q=function(e){return e===F||e===a?new i(e):z(e)},!s&&g(T)&&M!==Object.prototype)){o=M.then,D||h(M,"then",(function(e,t){var n=this;return new F((function(e,t){f(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(se){}d&&d(M,U)}u({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:F}),v(F,O,!1,!0),p(O)},9391:(e,t,n)=>{"use strict";var r=n(46518),i=n(96395),a=n(80550),o=n(79039),u=n(97751),s=n(94901),c=n(2293),l=n(93438),f=n(36840),h=a&&a.prototype,d=!!a&&o((function(){h["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=c(this,u("Promise")),n=s(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&s(a)){var v=u("Promise").prototype["finally"];h["finally"]!==v&&f(h,"finally",v,{unsafe:!0})}},3362:(e,t,n)=>{"use strict";n(10436),n(16499),n(82003),n(7743),n(51481),n(40280)},7743:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(79306),o=n(36043),u=n(1103),s=n(72652),c=n(90537);r({target:"Promise",stat:!0,forced:c},{race:function(e){var t=this,n=o.f(t),r=n.reject,c=u((function(){var o=a(t.resolve);s(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},51481:(e,t,n)=>{"use strict";var r=n(46518),i=n(36043),a=n(10916).CONSTRUCTOR;r({target:"Promise",stat:!0,forced:a},{reject:function(e){var t=i.f(this),n=t.reject;return n(e),t.promise}})},40280:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(96395),o=n(80550),u=n(10916).CONSTRUCTOR,s=n(93438),c=i("Promise"),l=a&&!u;r({target:"Promise",stat:!0,forced:a||u},{resolve:function(e){return s(l&&this===c?o:this,e)}})},60825:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(18745),o=n(30566),u=n(35548),s=n(28551),c=n(20034),l=n(2360),f=n(79039),h=i("Reflect","construct"),d=Object.prototype,v=[].push,p=f((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),y=!f((function(){h((function(){}))})),g=p||y;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){u(e),s(t);var n=arguments.length<3?e:u(arguments[2]);if(y&&!p)return h(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(v,r,t),new(a(o,e,r))}var i=n.prototype,f=l(c(i)?i:d),g=a(e,f,t);return c(g)?g:f}})},87411:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(28551),o=n(56969),u=n(24913),s=n(79039),c=s((function(){Reflect.defineProperty(u.f({},1,{value:1}),1,{value:2})}));r({target:"Reflect",stat:!0,forced:c,sham:!i},{defineProperty:function(e,t,n){a(e);var r=o(t);a(n);try{return u.f(e,r,n),!0}catch(i){return!1}}})},21211:(e,t,n)=>{"use strict";var r=n(46518),i=n(28551),a=n(77347).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=a(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},86565:(e,t,n)=>{"use strict";var r=n(46518),i=n(28551),a=n(42787),o=n(12211);r({target:"Reflect",stat:!0,sham:!o},{getPrototypeOf:function(e){return a(i(e))}})},40888:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(20034),o=n(28551),u=n(16575),s=n(77347),c=n(42787);function l(e,t){var n,r,f=arguments.length<3?e:arguments[2];return o(e)===f?e[t]:(n=s.f(e,t),n?u(n)?n.value:void 0===n.get?void 0:i(n.get,f):a(r=c(e))?l(r,t,f):void 0)}r({target:"Reflect",stat:!0},{get:l})},32812:(e,t,n)=>{"use strict";var r=n(46518);r({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},71137:(e,t,n)=>{"use strict";var r=n(46518),i=n(35031);r({target:"Reflect",stat:!0},{ownKeys:i})},34268:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(28551),o=n(20034),u=n(16575),s=n(79039),c=n(24913),l=n(77347),f=n(42787),h=n(6980);function d(e,t,n){var r,s,v,p=arguments.length<4?e:arguments[3],y=l.f(a(e),t);if(!y){if(o(s=f(e)))return d(s,t,n,p);y=h(0)}if(u(y)){if(!1===y.writable||!o(p))return!1;if(r=l.f(p,t)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,c.f(p,t,r)}else c.f(p,t,h(0,n))}else{if(v=y.set,void 0===v)return!1;i(v,p,n)}return!0}var v=s((function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}));r({target:"Reflect",stat:!0,forced:v},{set:d})},15472:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(10687);r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},84864:(e,t,n)=>{"use strict";var r=n(43724),i=n(24475),a=n(79504),o=n(92796),u=n(23167),s=n(66699),c=n(2360),l=n(38480).f,f=n(1625),h=n(60788),d=n(655),v=n(61034),p=n(58429),y=n(11056),g=n(36840),m=n(79039),A=n(39297),w=n(91181).enforce,k=n(87633),b=n(78227),_=n(83635),x=n(18814),E=b("match"),I=i.RegExp,T=I.prototype,S=i.SyntaxError,C=a(T.exec),O=a("".charAt),R=a("".replace),N=a("".indexOf),D=a("".slice),P=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,M=/a/g,F=new I(L)!==L,U=p.MISSED_STICKY,V=p.UNSUPPORTED_Y,j=r&&(!F||U||_||x||m((function(){return M[E]=!1,I(L)!==L||I(M)===M||"/a/i"!==String(I(L,"i"))}))),B=function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)t=O(e,r),"\\"!==t?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+O(e,++r);return i},q=function(e){for(var t,n=e.length,r=0,i="",a=[],o=c(null),u=!1,s=!1,l=0,f="";r<=n;r++){if(t=O(e,r),"\\"===t)t+=O(e,++r);else if("]"===t)u=!1;else if(!u)switch(!0){case"["===t:u=!0;break;case"("===t:C(P,D(e,r+1))&&(r+=2,s=!0),i+=t,l++;continue;case">"===t&&s:if(""===f||A(o,f))throw new S("Invalid capture group name");o[f]=!0,a[a.length]=[f,l],s=!1,f="";continue}s?f+=t:i+=t}return[i,a]};if(o("RegExp",j)){for(var z=function(e,t){var n,r,i,a,o,c,l=f(T,this),p=h(e),y=void 0===t,g=[],m=e;if(!l&&p&&y&&e.constructor===z)return e;if((p||f(T,e))&&(e=e.source,y&&(t=v(m))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),m=e,_&&"dotAll"in L&&(r=!!t&&N(t,"s")>-1,r&&(t=R(t,/s/g,""))),n=t,U&&"sticky"in L&&(i=!!t&&N(t,"y")>-1,i&&V&&(t=R(t,/y/g,""))),x&&(a=q(e),e=a[0],g=a[1]),o=u(I(e,t),l?this:T,z),(r||i||g.length)&&(c=w(o),r&&(c.dotAll=!0,c.raw=z(B(e),n)),i&&(c.sticky=!0),g.length&&(c.groups=g)),e!==m)try{s(o,"source",""===m?"(?:)":m)}catch(A){}return o},K=l(I),G=0;K.length>G;)y(z,I,K[G++]);T.constructor=z,z.prototype=T,g(i,"RegExp",z,{constructor:!0})}k("RegExp")},57465:(e,t,n)=>{"use strict";var r=n(43724),i=n(83635),a=n(44576),o=n(62106),u=n(91181).get,s=RegExp.prototype,c=TypeError;r&&i&&o(s,"dotAll",{configurable:!0,get:function(){if(this!==s){if("RegExp"===a(this))return!!u(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},27495:(e,t,n)=>{"use strict";var r=n(46518),i=n(57323);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},87745:(e,t,n)=>{"use strict";var r=n(43724),i=n(58429).MISSED_STICKY,a=n(44576),o=n(62106),u=n(91181).get,s=RegExp.prototype,c=TypeError;r&&i&&o(s,"sticky",{configurable:!0,get:function(){if(this!==s){if("RegExp"===a(this))return!!u(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},90906:(e,t,n)=>{"use strict";n(27495);var r=n(46518),i=n(69565),a=n(94901),o=n(28551),u=n(655),s=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),c=/./.test;r({target:"RegExp",proto:!0,forced:!s},{test:function(e){var t=o(this),n=u(e),r=t.exec;if(!a(r))return i(c,t,n);var s=i(r,t,n);return null!==s&&(o(s),!0)}})},38781:(e,t,n)=>{"use strict";var r=n(10350).PROPER,i=n(36840),a=n(28551),o=n(655),u=n(79039),s=n(61034),c="toString",l=RegExp.prototype,f=l[c],h=u((function(){return"/a/b"!==f.call({source:"a",flags:"b"})})),d=r&&f.name!==c;(h||d)&&i(l,c,(function(){var e=a(this),t=o(e.source),n=o(s(e));return"/"+t+"/"+n}),{unsafe:!0})},92405:(e,t,n)=>{"use strict";var r=n(16468),i=n(86938);r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},31415:(e,t,n)=>{"use strict";n(92405)},89907:(e,t,n)=>{"use strict";var r=n(46518),i=n(77240),a=n(23061);r({target:"String",proto:!0,forced:a("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},23860:(e,t,n)=>{"use strict";var r=n(46518),i=n(68183).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},99449:(e,t,n)=>{"use strict";var r=n(46518),i=n(27476),a=n(77347).f,o=n(18014),u=n(655),s=n(60511),c=n(67750),l=n(41436),f=n(96395),h=i("".slice),d=Math.min,v=l("endsWith"),p=!f&&!v&&!!function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!p&&!v},{endsWith:function(e){var t=u(c(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:d(o(n),r),a=u(e);return h(t,i-a.length,i)===a}})},21699:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(60511),o=n(67750),u=n(655),s=n(41436),c=i("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~c(u(o(this)),u(a(e)),arguments.length>1?arguments[1]:void 0)}})},47764:(e,t,n)=>{"use strict";var r=n(68183).charAt,i=n(655),a=n(91181),o=n(51088),u=n(62529),s="String Iterator",c=a.set,l=a.getterFor(s);o(String,"String",(function(e){c(this,{type:s,string:i(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?u(void 0,!0):(e=r(n,i),t.index+=e.length,u(e,!1))}))},50778:(e,t,n)=>{"use strict";var r=n(46518),i=n(77240),a=n(23061);r({target:"String",proto:!0,forced:a("link")},{link:function(e){return i(this,"a","href",e)}})},71761:(e,t,n)=>{"use strict";var r=n(69565),i=n(89228),a=n(28551),o=n(64117),u=n(18014),s=n(655),c=n(67750),l=n(55966),f=n(57829),h=n(56682);i("match",(function(e,t,n){return[function(t){var n=c(this),i=o(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=a(this),i=s(e),o=n(t,r,i);if(o.done)return o.value;if(!r.global)return h(r,i);var c=r.unicode;r.lastIndex=0;var l,d=[],v=0;while(null!==(l=h(r,i))){var p=s(l[0]);d[v]=p,""===p&&(r.lastIndex=f(i,u(r.lastIndex),c)),v++}return 0===v?null:d}]}))},68156:(e,t,n)=>{"use strict";var r=n(46518),i=n(60533).start,a=n(83063);r({target:"String",proto:!0,forced:a},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},42781:(e,t,n)=>{"use strict";var r=n(46518),i=n(72333);r({target:"String",proto:!0},{repeat:i})},25440:(e,t,n)=>{"use strict";var r=n(18745),i=n(69565),a=n(79504),o=n(89228),u=n(79039),s=n(28551),c=n(94901),l=n(64117),f=n(91291),h=n(18014),d=n(655),v=n(67750),p=n(57829),y=n(55966),g=n(2478),m=n(56682),A=n(78227),w=A("replace"),k=Math.max,b=Math.min,_=a([].concat),x=a([].push),E=a("".indexOf),I=a("".slice),T=function(e){return void 0===e?e:String(e)},S=function(){return"$0"==="a".replace(/./,"$0")}(),C=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),O=!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,n){var a=C?"$":"$0";return[function(e,n){var r=v(this),a=l(e)?void 0:y(e,w);return a?i(a,e,r,n):i(t,d(r),e,n)},function(e,i){var o=s(this),u=d(e);if("string"==typeof i&&-1===E(i,a)&&-1===E(i,"$<")){var l=n(t,o,u,i);if(l.done)return l.value}var v=c(i);v||(i=d(i));var y,A=o.global;A&&(y=o.unicode,o.lastIndex=0);var w,S=[];while(1){if(w=m(o,u),null===w)break;if(x(S,w),!A)break;var C=d(w[0]);""===C&&(o.lastIndex=p(u,h(o.lastIndex),y))}for(var O="",R=0,N=0;N<S.length;N++){w=S[N];for(var D,P=d(w[0]),L=k(b(f(w.index),u.length),0),M=[],F=1;F<w.length;F++)x(M,T(w[F]));var U=w.groups;if(v){var V=_([P],M,L,u);void 0!==U&&x(V,U),D=d(r(i,void 0,V))}else D=g(P,u,L,M,U,i);L>=R&&(O+=I(u,R,L)+D,R=L+P.length)}return O+I(u,R)}]}),!O||!S||C)},5746:(e,t,n)=>{"use strict";var r=n(69565),i=n(89228),a=n(28551),o=n(64117),u=n(67750),s=n(3470),c=n(655),l=n(55966),f=n(56682);i("search",(function(e,t,n){return[function(t){var n=u(this),i=o(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](c(n))},function(e){var r=a(this),i=c(e),o=n(t,r,i);if(o.done)return o.value;var u=r.lastIndex;s(u,0)||(r.lastIndex=0);var l=f(r,i);return s(r.lastIndex,u)||(r.lastIndex=u),null===l?-1:l.index}]}))},90744:(e,t,n)=>{"use strict";var r=n(69565),i=n(79504),a=n(89228),o=n(28551),u=n(64117),s=n(67750),c=n(2293),l=n(57829),f=n(18014),h=n(655),d=n(55966),v=n(56682),p=n(58429),y=n(79039),g=p.UNSUPPORTED_Y,m=4294967295,A=Math.min,w=i([].push),k=i("".slice),b=!y((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),_="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;a("split",(function(e,t,n){var i="0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t;return[function(t,n){var a=s(this),o=u(t)?void 0:d(t,e);return o?r(o,t,a,n):r(i,h(a),t,n)},function(e,r){var a=o(this),u=h(e);if(!_){var s=n(i,a,u,r,i!==t);if(s.done)return s.value}var d=c(a,RegExp),p=a.unicode,y=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(g?"g":"y"),b=new d(g?"^(?:"+a.source+")":a,y),x=void 0===r?m:r>>>0;if(0===x)return[];if(0===u.length)return null===v(b,u)?[u]:[];var E=0,I=0,T=[];while(I<u.length){b.lastIndex=g?0:I;var S,C=v(b,g?k(u,I):u);if(null===C||(S=A(f(b.lastIndex+(g?I:0)),u.length))===E)I=l(u,I,p);else{if(w(T,k(u,E,I)),T.length===x)return T;for(var O=1;O<=C.length-1;O++)if(w(T,C[O]),T.length===x)return T;I=E=S}}return w(T,k(u,E)),T}]}),_||!b,g)},11392:(e,t,n)=>{"use strict";var r=n(46518),i=n(27476),a=n(77347).f,o=n(18014),u=n(655),s=n(60511),c=n(67750),l=n(41436),f=n(96395),h=i("".slice),d=Math.min,v=l("startsWith"),p=!f&&!v&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!p&&!v},{startsWith:function(e){var t=u(c(this));s(e);var n=o(d(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return h(t,n,n+r.length)===r}})},48718:(e,t,n)=>{"use strict";var r=n(46518),i=n(77240),a=n(23061);r({target:"String",proto:!0,forced:a("sub")},{sub:function(){return i(this,"sub","","")}})},50375:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(67750),o=n(91291),u=n(655),s=i("".slice),c=Math.max,l=Math.min,f=!"".substr||"b"!=="ab".substr(-1);r({target:"String",proto:!0,forced:f},{substr:function(e,t){var n,r,i=u(a(this)),f=i.length,h=o(e);return h===1/0&&(h=0),h<0&&(h=c(f+h,0)),n=void 0===t?f:o(t),n<=0||n===1/0?"":(r=l(h+n,f),h>=r?"":s(i,h,r))}})},42762:(e,t,n)=>{"use strict";var r=n(46518),i=n(43802).trim,a=n(60706);r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},66412:(e,t,n)=>{"use strict";var r=n(70511);r("asyncIterator")},6761:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(69565),o=n(79504),u=n(96395),s=n(43724),c=n(4495),l=n(79039),f=n(39297),h=n(1625),d=n(28551),v=n(25397),p=n(56969),y=n(655),g=n(6980),m=n(2360),A=n(71072),w=n(38480),k=n(10298),b=n(33717),_=n(77347),x=n(24913),E=n(96801),I=n(48773),T=n(36840),S=n(62106),C=n(25745),O=n(66119),R=n(30421),N=n(33392),D=n(78227),P=n(1951),L=n(70511),M=n(58242),F=n(10687),U=n(91181),V=n(59213).forEach,j=O("hidden"),B="Symbol",q="prototype",z=U.set,K=U.getterFor(B),G=Object[q],H=i.Symbol,W=H&&H[q],Q=i.RangeError,Y=i.TypeError,$=i.QObject,X=_.f,J=x.f,Z=k.f,ee=I.f,te=o([].push),ne=C("symbols"),re=C("op-symbols"),ie=C("wks"),ae=!$||!$[q]||!$[q].findChild,oe=function(e,t,n){var r=X(G,t);r&&delete G[t],J(e,t,n),r&&e!==G&&J(G,t,r)},ue=s&&l((function(){return 7!==m(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?oe:J,se=function(e,t){var n=ne[e]=m(W);return z(n,{type:B,tag:e,description:t}),s||(n.description=t),n},ce=function(e,t,n){e===G&&ce(re,t,n),d(e);var r=p(t);return d(n),f(ne,r)?(n.enumerable?(f(e,j)&&e[j][r]&&(e[j][r]=!1),n=m(n,{enumerable:g(0,!1)})):(f(e,j)||J(e,j,g(1,m(null))),e[j][r]=!0),ue(e,r,n)):J(e,r,n)},le=function(e,t){d(e);var n=v(t),r=A(n).concat(pe(n));return V(r,(function(t){s&&!a(he,n,t)||ce(e,t,n[t])})),e},fe=function(e,t){return void 0===t?m(e):le(m(e),t)},he=function(e){var t=p(e),n=a(ee,this,t);return!(this===G&&f(ne,t)&&!f(re,t))&&(!(n||!f(this,t)||!f(ne,t)||f(this,j)&&this[j][t])||n)},de=function(e,t){var n=v(e),r=p(t);if(n!==G||!f(ne,r)||f(re,r)){var i=X(n,r);return!i||!f(ne,r)||f(n,j)&&n[j][r]||(i.enumerable=!0),i}},ve=function(e){var t=Z(v(e)),n=[];return V(t,(function(e){f(ne,e)||f(R,e)||te(n,e)})),n},pe=function(e){var t=e===G,n=Z(t?re:v(e)),r=[];return V(n,(function(e){!f(ne,e)||t&&!f(G,e)||te(r,ne[e])})),r};c||(H=function(){if(h(W,this))throw new Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=N(e),n=function(e){var r=void 0===this?i:this;r===G&&a(n,re,e),f(r,j)&&f(r[j],t)&&(r[j][t]=!1);var o=g(1,e);try{ue(r,t,o)}catch(u){if(!(u instanceof Q))throw u;oe(r,t,o)}};return s&&ae&&ue(G,t,{configurable:!0,set:n}),se(t,e)},W=H[q],T(W,"toString",(function(){return K(this).tag})),T(H,"withoutSetter",(function(e){return se(N(e),e)})),I.f=he,x.f=ce,E.f=le,_.f=de,w.f=k.f=ve,b.f=pe,P.f=function(e){return se(D(e),e)},s&&(S(W,"description",{configurable:!0,get:function(){return K(this).description}}),u||T(G,"propertyIsEnumerable",he,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),V(A(ie),(function(e){L(e)})),r({target:B,stat:!0,forced:!c},{useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:fe,defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ve}),M(),F(H,B),R[j]=!0},89463:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(24475),o=n(79504),u=n(39297),s=n(94901),c=n(1625),l=n(655),f=n(62106),h=n(77740),d=a.Symbol,v=d&&d.prototype;if(i&&s(d)&&(!("description"in v)||void 0!==d().description)){var p={},y=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(v,this)?new d(e):void 0===e?d():d(e);return""===e&&(p[t]=!0),t};h(y,d),y.prototype=v,v.constructor=y;var g="Symbol(description detection)"===String(d("description detection")),m=o(v.valueOf),A=o(v.toString),w=/^Symbol\((.*)\)[^)]+$/,k=o("".replace),b=o("".slice);f(v,"description",{configurable:!0,get:function(){var e=m(this);if(u(p,e))return"";var t=A(e),n=g?b(t,7,-1):k(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:y})}},81510:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(39297),o=n(655),u=n(25745),s=n(91296),c=u("string-to-symbol-registry"),l=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=o(e);if(a(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},2259:(e,t,n)=>{"use strict";var r=n(70511);r("iterator")},52675:(e,t,n)=>{"use strict";n(6761),n(81510),n(97812),n(33110),n(49773)},97812:(e,t,n)=>{"use strict";var r=n(46518),i=n(39297),a=n(10757),o=n(16823),u=n(25745),s=n(91296),c=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{keyFor:function(e){if(!a(e))throw new TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},45700:(e,t,n)=>{"use strict";var r=n(70511),i=n(58242);r("toPrimitive"),i()},78125:(e,t,n)=>{"use strict";var r=n(97751),i=n(70511),a=n(10687);i("toStringTag"),a(r("Symbol"),"Symbol")},20326:(e,t,n)=>{"use strict";var r=n(70511);r("unscopables")},48140:(e,t,n)=>{"use strict";var r=n(94644),i=n(26198),a=n(91291),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("at",(function(e){var t=o(this),n=i(t),r=a(e),u=r>=0?r:n+r;return u<0||u>=n?void 0:t[u]}))},81630:(e,t,n)=>{"use strict";var r=n(79504),i=n(94644),a=n(57029),o=r(a),u=i.aTypedArray,s=i.exportTypedArrayMethod;s("copyWithin",(function(e,t){return o(u(this),e,t,arguments.length>2?arguments[2]:void 0)}))},72170:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).every,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},75044:(e,t,n)=>{"use strict";var r=n(94644),i=n(84373),a=n(75854),o=n(36955),u=n(69565),s=n(79504),c=n(79039),l=r.aTypedArray,f=r.exportTypedArrayMethod,h=s("".slice),d=c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}));f("fill",(function(e){var t=arguments.length;l(this);var n="Big"===h(o(this),0,3)?a(e):+e;return u(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),d)},69539:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).filter,a=n(26357),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},89955:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).findIndex,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},91134:(e,t,n)=>{"use strict";var r=n(94644),i=n(43839).findLastIndex,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},21903:(e,t,n)=>{"use strict";var r=n(94644),i=n(43839).findLast,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},31694:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).find,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},33206:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).forEach,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},44496:(e,t,n)=>{"use strict";var r=n(94644),i=n(19617).includes,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},66651:(e,t,n)=>{"use strict";var r=n(94644),i=n(19617).indexOf,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},12887:(e,t,n)=>{"use strict";var r=n(24475),i=n(79039),a=n(79504),o=n(94644),u=n(23792),s=n(78227),c=s("iterator"),l=r.Uint8Array,f=a(u.values),h=a(u.keys),d=a(u.entries),v=o.aTypedArray,p=o.exportTypedArrayMethod,y=l&&l.prototype,g=!i((function(){y[c].call([1])})),m=!!y&&y.values&&y[c]===y.values&&"values"===y.values.name,A=function(){return f(v(this))};p("entries",(function(){return d(v(this))}),g),p("keys",(function(){return h(v(this))}),g),p("values",A,g||!m,{name:"values"}),p(c,A,g||!m,{name:"values"})},19369:(e,t,n)=>{"use strict";var r=n(94644),i=n(79504),a=r.aTypedArray,o=r.exportTypedArrayMethod,u=i([].join);o("join",(function(e){return u(a(this),e)}))},66812:(e,t,n)=>{"use strict";var r=n(94644),i=n(18745),a=n(8379),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},8995:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).map,a=n(61412),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},36072:(e,t,n)=>{"use strict";var r=n(94644),i=n(80926).right,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},31575:(e,t,n)=>{"use strict";var r=n(94644),i=n(80926).left,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},88747:(e,t,n)=>{"use strict";var r=n(94644),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){var e,t=this,n=i(t).length,r=o(n/2),a=0;while(a<r)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},28845:(e,t,n)=>{"use strict";var r=n(24475),i=n(69565),a=n(94644),o=n(26198),u=n(58229),s=n(48981),c=n(79039),l=r.RangeError,f=r.Int8Array,h=f&&f.prototype,d=h&&h.set,v=a.aTypedArray,p=a.exportTypedArrayMethod,y=!c((function(){var e=new Uint8ClampedArray(2);return i(d,e,{length:1,0:3},1),3!==e[1]})),g=y&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));p("set",(function(e){v(this);var t=u(arguments.length>1?arguments[1]:void 0,1),n=s(e);if(y)return i(d,this,n,t);var r=this.length,a=o(n),c=0;if(a+t>r)throw new l("Wrong length");while(c<a)this[t+c]=n[c++]}),!y||g)},29423:(e,t,n)=>{"use strict";var r=n(94644),i=n(61412),a=n(79039),o=n(67680),u=r.aTypedArray,s=r.exportTypedArrayMethod,c=a((function(){new Int8Array(1).slice()}));s("slice",(function(e,t){var n=o(u(this),e,t),r=i(this),a=0,s=n.length,c=new r(s);while(s>a)c[a]=n[a++];return c}),c)},57301:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).some,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},373:(e,t,n)=>{"use strict";var r=n(24475),i=n(27476),a=n(79039),o=n(79306),u=n(74488),s=n(94644),c=n(28834),l=n(63202),f=n(77388),h=n(89160),d=s.aTypedArray,v=s.exportTypedArrayMethod,p=r.Uint16Array,y=p&&i(p.prototype.sort),g=!!y&&!(a((function(){y(new p(2),null)}))&&a((function(){y(new p(2),{})}))),m=!!y&&!a((function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(h)return h<602;var e,t,n=new p(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(y(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0})),A=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};v("sort",(function(e){return void 0!==e&&o(e),m?y(this,e):u(d(this),A(e))}),!m||g)},86614:(e,t,n)=>{"use strict";var r=n(94644),i=n(18014),a=n(35610),o=n(61412),u=r.aTypedArray,s=r.exportTypedArrayMethod;s("subarray",(function(e,t){var n=u(this),r=n.length,s=a(e,r),c=o(n);return new c(n.buffer,n.byteOffset+s*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-s))}))},41405:(e,t,n)=>{"use strict";var r=n(24475),i=n(18745),a=n(94644),o=n(79039),u=n(67680),s=r.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,f=[].toLocaleString,h=!!s&&o((function(){f.call(new s(1))})),d=o((function(){return[1,2].toLocaleString()!==new s([1,2]).toLocaleString()}))||!o((function(){s.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return i(f,h?u(c(this)):c(this),u(arguments))}),d)},37467:(e,t,n)=>{"use strict";var r=n(37628),i=n(94644),a=i.aTypedArray,o=i.exportTypedArrayMethod,u=i.getTypedArrayConstructor;o("toReversed",(function(){return r(a(this),u(this))}))},44732:(e,t,n)=>{"use strict";var r=n(94644),i=n(79504),a=n(79306),o=n(35370),u=r.aTypedArray,s=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,l=i(r.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&a(e);var t=u(this),n=o(s(t),t);return l(n,e)}))},33684:(e,t,n)=>{"use strict";var r=n(94644).exportTypedArrayMethod,i=n(79039),a=n(24475),o=n(79504),u=a.Uint8Array,s=u&&u.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var f=s.toString!==c;r("toString",c,f)},21489:(e,t,n)=>{"use strict";var r=n(15823);r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},79577:(e,t,n)=>{"use strict";var r=n(39928),i=n(94644),a=n(18727),o=n(91291),u=n(75854),s=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,f=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var n=s(this),i=o(e),l=a(n)?u(t):+t;return r(n,c(n),i,l)}}["with"],!f)},65746:(e,t,n)=>{"use strict";var r,i=n(92744),a=n(24475),o=n(79504),u=n(56279),s=n(3451),c=n(16468),l=n(91625),f=n(20034),h=n(91181).enforce,d=n(79039),v=n(58622),p=Object,y=Array.isArray,g=p.isExtensible,m=p.isFrozen,A=p.isSealed,w=p.freeze,k=p.seal,b=!a.ActiveXObject&&"ActiveXObject"in a,_=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},x=c("WeakMap",_,l),E=x.prototype,I=o(E.set),T=function(){return i&&d((function(){var e=w([]);return I(new x,e,1),!m(e)}))};if(v)if(b){r=l.getConstructor(_,"WeakMap",!0),s.enable();var S=o(E["delete"]),C=o(E.has),O=o(E.get);u(E,{delete:function(e){if(f(e)&&!g(e)){var t=h(this);return t.frozen||(t.frozen=new r),S(this,e)||t.frozen["delete"](e)}return S(this,e)},has:function(e){if(f(e)&&!g(e)){var t=h(this);return t.frozen||(t.frozen=new r),C(this,e)||t.frozen.has(e)}return C(this,e)},get:function(e){if(f(e)&&!g(e)){var t=h(this);return t.frozen||(t.frozen=new r),C(this,e)?O(this,e):t.frozen.get(e)}return O(this,e)},set:function(e,t){if(f(e)&&!g(e)){var n=h(this);n.frozen||(n.frozen=new r),C(this,e)?I(this,e,t):n.frozen.set(e,t)}else I(this,e,t);return this}})}else T()&&u(E,{set:function(e,t){var n;return y(e)&&(m(e)?n=w:A(e)&&(n=k)),I(this,e,t),n&&n(e),this}})},73772:(e,t,n)=>{"use strict";n(65746)},5240:(e,t,n)=>{"use strict";var r=n(16468),i=n(91625);r("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},30958:(e,t,n)=>{"use strict";n(5240)},2945:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(97751),o=n(79504),u=n(69565),s=n(79039),c=n(655),l=n(22812),f=n(92804).c2i,h=/[^\d+/a-z]/i,d=/[\t\n\f\r ]+/g,v=/[=]{1,2}$/,p=a("atob"),y=String.fromCharCode,g=o("".charAt),m=o("".replace),A=o(h.exec),w=!!p&&!s((function(){return"hi"!==p("aGk=")})),k=w&&s((function(){return""!==p(" ")})),b=w&&!s((function(){p("a")})),_=w&&!s((function(){p()})),x=w&&1!==p.length,E=!w||k||b||_||x;r({global:!0,bind:!0,enumerable:!0,forced:E},{atob:function(e){if(l(arguments.length,1),w&&!k&&!b)return u(p,i,e);var t,n,r,o=m(c(e),d,""),s="",_=0,x=0;if(o.length%4===0&&(o=m(o,v,"")),t=o.length,t%4===1||A(h,o))throw new(a("DOMException"))("The string is not correctly encoded","InvalidCharacterError");while(_<t)n=g(o,_++),r=x%4?64*r+f[n]:f[n],x++%4&&(s+=y(255&r>>(-2*x&6)));return s}})},42207:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(97751),o=n(79504),u=n(69565),s=n(79039),c=n(655),l=n(22812),f=n(92804).i2c,h=a("btoa"),d=o("".charAt),v=o("".charCodeAt),p=!!h&&!s((function(){return"aGk="!==h("hi")})),y=p&&!s((function(){h()})),g=p&&s((function(){return"bnVsbA=="!==h(null)})),m=p&&1!==h.length;r({global:!0,bind:!0,enumerable:!0,forced:!p||y||g||m},{btoa:function(e){if(l(arguments.length,1),p)return u(h,i,c(e));var t,n,r=c(e),o="",s=0,y=f;while(d(r,s)||(y="=",s%1)){if(n=v(r,s+=3/4),n>255)throw new(a("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");t=t<<8|n,o+=d(y,63&t>>8-s%1*8)}return o}})},23500:(e,t,n)=>{"use strict";var r=n(24475),i=n(67400),a=n(79296),o=n(90235),u=n(66699),s=function(e){if(e&&e.forEach!==o)try{u(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&s(r[c]&&r[c].prototype);s(a)},62953:(e,t,n)=>{"use strict";var r=n(24475),i=n(67400),a=n(79296),o=n(23792),u=n(66699),s=n(10687),c=n(78227),l=c("iterator"),f=o.values,h=function(e,t){if(e){if(e[l]!==f)try{u(e,l,f)}catch(r){e[l]=f}if(s(e,t,!0),i[t])for(var n in o)if(e[n]!==o[n])try{u(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var d in i)h(r[d]&&r[d].prototype,d);h(a,"DOMTokenList")},55815:(e,t,n)=>{"use strict";var r=n(46518),i=n(69714),a=n(97751),o=n(79039),u=n(2360),s=n(6980),c=n(24913).f,l=n(36840),f=n(62106),h=n(39297),d=n(90679),v=n(28551),p=n(77536),y=n(32603),g=n(55002),m=n(16193),A=n(91181),w=n(43724),k=n(96395),b="DOMException",_="DATA_CLONE_ERR",x=a("Error"),E=a(b)||function(){try{var e=a("MessageChannel")||i("worker_threads").MessageChannel;(new e).port1.postMessage(new WeakMap)}catch(t){if(t.name===_&&25===t.code)return t.constructor}}(),I=E&&E.prototype,T=x.prototype,S=A.set,C=A.getterFor(b),O="stack"in new x(b),R=function(e){return h(g,e)&&g[e].m?g[e].c:0},N=function(){d(this,D);var e=arguments.length,t=y(e<1?void 0:arguments[0]),n=y(e<2?void 0:arguments[1],"Error"),r=R(n);if(S(this,{type:b,name:n,message:t,code:r}),w||(this.name=n,this.message=t,this.code=r),O){var i=new x(t);i.name=b,c(this,"stack",s(1,m(i.stack,1)))}},D=N.prototype=u(T),P=function(e){return{enumerable:!0,configurable:!0,get:e}},L=function(e){return P((function(){return C(this)[e]}))};w&&(f(D,"code",L("code")),f(D,"message",L("message")),f(D,"name",L("name"))),c(D,"constructor",s(1,N));var M=o((function(){return!(new E instanceof x)})),F=M||o((function(){return T.toString!==p||"2: 1"!==String(new E(1,2))})),U=M||o((function(){return 25!==new E(1,"DataCloneError").code})),V=M||25!==E[_]||25!==I[_],j=k?F||U||V:M;r({global:!0,constructor:!0,forced:j},{DOMException:j?N:E});var B=a(b),q=B.prototype;for(var z in F&&(k||E===B)&&l(q,"toString",p),U&&w&&E===B&&f(q,"code",P((function(){return R(v(this).name)}))),g)if(h(g,z)){var K=g[z],G=K.s,H=s(6,K.c);h(B,G)||c(B,G,H),h(q,G)||c(q,G,H)}},64979:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(97751),o=n(6980),u=n(24913).f,s=n(39297),c=n(90679),l=n(23167),f=n(32603),h=n(55002),d=n(16193),v=n(43724),p=n(96395),y="DOMException",g=a("Error"),m=a(y),A=function(){c(this,w);var e=arguments.length,t=f(e<1?void 0:arguments[0]),n=f(e<2?void 0:arguments[1],"Error"),r=new m(t,n),i=new g(t);return i.name=y,u(r,"stack",o(1,d(i.stack,1))),l(r,this,A),r},w=A.prototype=m.prototype,k="stack"in new g(y),b="stack"in new m(1,2),_=m&&v&&Object.getOwnPropertyDescriptor(i,y),x=!!_&&!(_.writable&&_.configurable),E=k&&!x&&!b;r({global:!0,constructor:!0,forced:p||E},{DOMException:E?A:m});var I=a(y),T=I.prototype;if(T.constructor!==I)for(var S in p||u(T,"constructor",o(1,I)),h)if(s(h,S)){var C=h[S],O=C.s;s(I,O)||u(I,O,o(6,C.c))}},79739:(e,t,n)=>{"use strict";var r=n(97751),i=n(10687),a="DOMException";i(r(a),a)},13611:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(62106),o=n(43724),u=TypeError,s=Object.defineProperty,c=i.self!==i;try{if(o){var l=Object.getOwnPropertyDescriptor(i,"self");!c&&l&&l.get&&l.enumerable||a(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw new u("Illegal invocation");s(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else r({global:!0,simple:!0,forced:c},{self:i})}catch(f){}},15575:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(79472),o=a(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},24599:(e,t,n)=>{"use strict";var r=n(46518),i=n(24475),a=n(79472),o=a(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},76031:(e,t,n)=>{"use strict";n(15575),n(24599)},98406:(e,t,n)=>{"use strict";n(23792);var r=n(46518),i=n(24475),a=n(93389),o=n(69565),u=n(79504),s=n(43724),c=n(67416),l=n(36840),f=n(62106),h=n(56279),d=n(10687),v=n(33994),p=n(91181),y=n(90679),g=n(94901),m=n(39297),A=n(76080),w=n(36955),k=n(28551),b=n(20034),_=n(655),x=n(2360),E=n(6980),I=n(70081),T=n(50851),S=n(62529),C=n(22812),O=n(78227),R=n(74488),N=O("iterator"),D="URLSearchParams",P=D+"Iterator",L=p.set,M=p.getterFor(D),F=p.getterFor(P),U=a("fetch"),V=a("Request"),j=a("Headers"),B=V&&V.prototype,q=j&&j.prototype,z=i.RegExp,K=i.TypeError,G=i.decodeURIComponent,H=i.encodeURIComponent,W=u("".charAt),Q=u([].join),Y=u([].push),$=u("".replace),X=u([].shift),J=u([].splice),Z=u("".split),ee=u("".slice),te=/\+/g,ne=Array(4),re=function(e){return ne[e-1]||(ne[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return G(e)}catch(t){return e}},ae=function(e){var t=$(e,te," "),n=4;try{return G(t)}catch(r){while(n)t=$(t,re(n--),ie);return t}},oe=/[!'()~]|%20/g,ue={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ue[e]},ce=function(e){return $(H(e),oe,se)},le=v((function(e,t){L(this,{type:P,target:M(e).entries,index:0,kind:t})}),D,(function(){var e=F(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,S(void 0,!0);var r=t[n];switch(e.kind){case"keys":return S(r.key,!1);case"values":return S(r.value,!1)}return S([r.key,r.value],!1)}),!0),fe=function(e){this.entries=[],this.url=null,void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?ee(e,1):e:_(e)))};fe.prototype={type:D,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,a,u,s,c=this.entries,l=T(e);if(l){t=I(e,l),n=t.next;while(!(r=o(n,t)).done){if(i=I(k(r.value)),a=i.next,(u=o(a,i)).done||(s=o(a,i)).done||!o(a,i).done)throw new K("Expected sequence with length 2");Y(c,{key:_(u.value),value:_(s.value)})}}else for(var f in e)m(e,f)&&Y(c,{key:f,value:_(e[f])})},parseQuery:function(e){if(e){var t,n,r=this.entries,i=Z(e,"&"),a=0;while(a<i.length)t=i[a++],t.length&&(n=Z(t,"="),Y(r,{key:ae(X(n)),value:ae(Q(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],r=0;while(r<t.length)e=t[r++],Y(n,ce(e.key)+"="+ce(e.value));return Q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){y(this,de);var e=arguments.length>0?arguments[0]:void 0,t=L(this,new fe(e));s||(this.size=t.entries.length)},de=he.prototype;if(h(de,{append:function(e,t){var n=M(this);C(arguments.length,2),Y(n.entries,{key:_(e),value:_(t)}),s||this.length++,n.updateURL()},delete:function(e){var t=M(this),n=C(arguments.length,1),r=t.entries,i=_(e),a=n<2?void 0:arguments[1],o=void 0===a?a:_(a),u=0;while(u<r.length){var c=r[u];if(c.key!==i||void 0!==o&&c.value!==o)u++;else if(J(r,u,1),void 0!==o)break}s||(this.size=r.length),t.updateURL()},get:function(e){var t=M(this).entries;C(arguments.length,1);for(var n=_(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=M(this).entries;C(arguments.length,1);for(var n=_(e),r=[],i=0;i<t.length;i++)t[i].key===n&&Y(r,t[i].value);return r},has:function(e){var t=M(this).entries,n=C(arguments.length,1),r=_(e),i=n<2?void 0:arguments[1],a=void 0===i?i:_(i),o=0;while(o<t.length){var u=t[o++];if(u.key===r&&(void 0===a||u.value===a))return!0}return!1},set:function(e,t){var n=M(this);C(arguments.length,1);for(var r,i=n.entries,a=!1,o=_(e),u=_(t),c=0;c<i.length;c++)r=i[c],r.key===o&&(a?J(i,c--,1):(a=!0,r.value=u));a||Y(i,{key:o,value:u}),s||(this.size=i.length),n.updateURL()},sort:function(){var e=M(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=M(this).entries,r=A(e,arguments.length>1?arguments[1]:void 0),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),l(de,N,de.entries,{name:"entries"}),l(de,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),s&&f(de,"size",{get:function(){return M(this).entries.length},configurable:!0,enumerable:!0}),d(he,D),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:he}),!c&&g(j)){var ve=u(q.has),pe=u(q.set),ye=function(e){if(b(e)){var t,n=e.body;if(w(n)===D)return t=e.headers?new j(e.headers):new j,ve(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(e,{body:E(0,_(n)),headers:E(0,t)})}return e};if(g(U)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?ye(arguments[1]):{})}}),g(V)){var ge=function(e){return y(this,B),new V(e,arguments.length>1?ye(arguments[1]):{})};B.constructor=ge,ge.prototype=B,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:he,getState:M}},14603:(e,t,n)=>{"use strict";var r=n(36840),i=n(79504),a=n(655),o=n(22812),u=URLSearchParams,s=u.prototype,c=i(s.append),l=i(s["delete"]),f=i(s.forEach),h=i([].push),d=new u("a=1&a=2&b=3");d["delete"]("a",1),d["delete"]("b",void 0),d+""!=="a=2"&&r(s,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return l(this,e);var r=[];f(this,(function(e,t){h(r,{key:t,value:e})})),o(t,1);var i,u=a(e),s=a(n),d=0,v=0,p=!1,y=r.length;while(d<y)i=r[d++],p||i.key===u?(p=!0,l(this,i.key)):v++;while(v<y)i=r[v++],i.key===u&&i.value===s||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},47566:(e,t,n)=>{"use strict";var r=n(36840),i=n(79504),a=n(655),o=n(22812),u=URLSearchParams,s=u.prototype,c=i(s.getAll),l=i(s.has),f=new u("a=1");!f.has("a",2)&&f.has("a",void 0)||r(s,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return l(this,e);var r=c(this,e);o(t,1);var i=a(n),u=0;while(u<r.length)if(r[u++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},48408:(e,t,n)=>{"use strict";n(98406)},98721:(e,t,n)=>{"use strict";var r=n(43724),i=n(79504),a=n(62106),o=URLSearchParams.prototype,u=i(o.forEach);r&&!("size"in o)&&a(o,"size",{get:function(){var e=0;return u(this,(function(){e++})),e},configurable:!0,enumerable:!0})},45806:(e,t,n)=>{"use strict";n(47764);var r,i=n(46518),a=n(43724),o=n(67416),u=n(24475),s=n(76080),c=n(79504),l=n(36840),f=n(62106),h=n(90679),d=n(39297),v=n(44213),p=n(97916),y=n(67680),g=n(68183).codeAt,m=n(3717),A=n(655),w=n(10687),k=n(22812),b=n(98406),_=n(91181),x=_.set,E=_.getterFor("URL"),I=b.URLSearchParams,T=b.getState,S=u.URL,C=u.TypeError,O=u.parseInt,R=Math.floor,N=Math.pow,D=c("".charAt),P=c(/./.exec),L=c([].join),M=c(1..toString),F=c([].pop),U=c([].push),V=c("".replace),j=c([].shift),B=c("".split),q=c("".slice),z=c("".toLowerCase),K=c([].unshift),G="Invalid authority",H="Invalid scheme",W="Invalid host",Q="Invalid port",Y=/[a-z]/i,$=/[\d+-.a-z]/i,X=/\d/,J=/^0x/i,Z=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+/,ae=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,oe=/[\t\n\r]/g,ue=function(e){var t,n,r,i,a,o,u,s=B(e,".");if(s.length&&""===s[s.length-1]&&s.length--,t=s.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=s[r],""===i)return e;if(a=10,i.length>1&&"0"===D(i,0)&&(a=P(J,i)?16:8,i=q(i,8===a?1:2)),""===i)o=0;else{if(!P(10===a?ee:8===a?Z:te,i))return e;o=O(i,a)}U(n,o)}for(r=0;r<t;r++)if(o=n[r],r===t-1){if(o>=N(256,5-t))return null}else if(o>255)return null;for(u=F(n),r=0;r<n.length;r++)u+=n[r]*N(256,3-r);return u},se=function(e){var t,n,r,i,a,o,u,s=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,h=function(){return D(e,f)};if(":"===h()){if(":"!==D(e,1))return;f+=2,c++,l=c}while(h()){if(8===c)return;if(":"!==h()){t=n=0;while(n<4&&P(te,h()))t=16*t+O(h(),16),f++,n++;if("."===h()){if(0===n)return;if(f-=n,c>6)return;r=0;while(h()){if(i=null,r>0){if(!("."===h()&&r<4))return;f++}if(!P(X,h()))return;while(P(X,h())){if(a=O(h(),10),null===i)i=a;else{if(0===i)return;i=10*i+a}if(i>255)return;f++}s[c]=256*s[c]+i,r++,2!==r&&4!==r||c++}if(4!==r)return;break}if(":"===h()){if(f++,!h())return}else if(h())return;s[c++]=t}else{if(null!==l)return;f++,c++,l=c}}if(null!==l){o=c-l,c=7;while(0!==c&&o>0)u=s[c],s[c--]=s[l+o-1],s[l+--o]=u}else if(8!==c)return;return s},ce=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t},le=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)K(t,e%256),e=R(e/256);return L(t,".")}if("object"==typeof e){for(t="",r=ce(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=M(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},fe={},he=v({},fe,{" ":1,'"':1,"<":1,">":1,"`":1}),de=v({},he,{"#":1,"?":1,"{":1,"}":1}),ve=v({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pe=function(e,t){var n=g(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},ye={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ge=function(e,t){var n;return 2===e.length&&P(Y,D(e,0))&&(":"===(n=D(e,1))||!t&&"|"===n)},me=function(e){var t;return e.length>1&&ge(q(e,0,2))&&(2===e.length||"/"===(t=D(e,2))||"\\"===t||"?"===t||"#"===t)},Ae=function(e){return"."===e||"%2e"===z(e)},we=function(e){return e=z(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ke={},be={},_e={},xe={},Ee={},Ie={},Te={},Se={},Ce={},Oe={},Re={},Ne={},De={},Pe={},Le={},Me={},Fe={},Ue={},Ve={},je={},Be={},qe=function(e,t,n){var r,i,a,o=A(e);if(t){if(i=this.parse(o),i)throw new C(i);this.searchParams=null}else{if(void 0!==n&&(r=new qe(n,!0)),i=this.parse(o,null,r),i)throw new C(i);a=T(new I),a.bindURL(this),this.searchParams=a}};qe.prototype={type:"URL",parse:function(e,t,n){var i,a,o,u,s=this,c=t||ke,l=0,f="",h=!1,v=!1,g=!1;e=A(e),t||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,e=V(e,ie,""),e=V(e,ae,"$1")),e=V(e,oe,""),i=p(e);while(l<=i.length){switch(a=i[l],c){case ke:if(!a||!P(Y,a)){if(t)return H;c=_e;continue}f+=z(a),c=be;break;case be:if(a&&(P($,a)||"+"===a||"-"===a||"."===a))f+=z(a);else{if(":"!==a){if(t)return H;f="",c=_e,l=0;continue}if(t&&(s.isSpecial()!==d(ye,f)||"file"===f&&(s.includesCredentials()||null!==s.port)||"file"===s.scheme&&!s.host))return;if(s.scheme=f,t)return void(s.isSpecial()&&ye[s.scheme]===s.port&&(s.port=null));f="","file"===s.scheme?c=Pe:s.isSpecial()&&n&&n.scheme===s.scheme?c=xe:s.isSpecial()?c=Se:"/"===i[l+1]?(c=Ee,l++):(s.cannotBeABaseURL=!0,U(s.path,""),c=Ve)}break;case _e:if(!n||n.cannotBeABaseURL&&"#"!==a)return H;if(n.cannotBeABaseURL&&"#"===a){s.scheme=n.scheme,s.path=y(n.path),s.query=n.query,s.fragment="",s.cannotBeABaseURL=!0,c=Be;break}c="file"===n.scheme?Pe:Ie;continue;case xe:if("/"!==a||"/"!==i[l+1]){c=Ie;continue}c=Ce,l++;break;case Ee:if("/"===a){c=Oe;break}c=Ue;continue;case Ie:if(s.scheme=n.scheme,a===r)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=y(n.path),s.query=n.query;else if("/"===a||"\\"===a&&s.isSpecial())c=Te;else if("?"===a)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=y(n.path),s.query="",c=je;else{if("#"!==a){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=y(n.path),s.path.length--,c=Ue;continue}s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=y(n.path),s.query=n.query,s.fragment="",c=Be}break;case Te:if(!s.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,c=Ue;continue}c=Oe}else c=Ce;break;case Se:if(c=Ce,"/"!==a||"/"!==D(f,l+1))continue;l++;break;case Ce:if("/"!==a&&"\\"!==a){c=Oe;continue}break;case Oe:if("@"===a){h&&(f="%40"+f),h=!0,o=p(f);for(var m=0;m<o.length;m++){var w=o[m];if(":"!==w||g){var k=pe(w,ve);g?s.password+=k:s.username+=k}else g=!0}f=""}else if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&s.isSpecial()){if(h&&""===f)return G;l-=p(f).length+1,f="",c=Re}else f+=a;break;case Re:case Ne:if(t&&"file"===s.scheme){c=Me;continue}if(":"!==a||v){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&s.isSpecial()){if(s.isSpecial()&&""===f)return W;if(t&&""===f&&(s.includesCredentials()||null!==s.port))return;if(u=s.parseHost(f),u)return u;if(f="",c=Fe,t)return;continue}"["===a?v=!0:"]"===a&&(v=!1),f+=a}else{if(""===f)return W;if(u=s.parseHost(f),u)return u;if(f="",c=De,t===Ne)return}break;case De:if(!P(X,a)){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&s.isSpecial()||t){if(""!==f){var b=O(f,10);if(b>65535)return Q;s.port=s.isSpecial()&&b===ye[s.scheme]?null:b,f=""}if(t)return;c=Fe;continue}return Q}f+=a;break;case Pe:if(s.scheme="file","/"===a||"\\"===a)c=Le;else{if(!n||"file"!==n.scheme){c=Ue;continue}switch(a){case r:s.host=n.host,s.path=y(n.path),s.query=n.query;break;case"?":s.host=n.host,s.path=y(n.path),s.query="",c=je;break;case"#":s.host=n.host,s.path=y(n.path),s.query=n.query,s.fragment="",c=Be;break;default:me(L(y(i,l),""))||(s.host=n.host,s.path=y(n.path),s.shortenPath()),c=Ue;continue}}break;case Le:if("/"===a||"\\"===a){c=Me;break}n&&"file"===n.scheme&&!me(L(y(i,l),""))&&(ge(n.path[0],!0)?U(s.path,n.path[0]):s.host=n.host),c=Ue;continue;case Me:if(a===r||"/"===a||"\\"===a||"?"===a||"#"===a){if(!t&&ge(f))c=Ue;else if(""===f){if(s.host="",t)return;c=Fe}else{if(u=s.parseHost(f),u)return u;if("localhost"===s.host&&(s.host=""),t)return;f="",c=Fe}continue}f+=a;break;case Fe:if(s.isSpecial()){if(c=Ue,"/"!==a&&"\\"!==a)continue}else if(t||"?"!==a)if(t||"#"!==a){if(a!==r&&(c=Ue,"/"!==a))continue}else s.fragment="",c=Be;else s.query="",c=je;break;case Ue:if(a===r||"/"===a||"\\"===a&&s.isSpecial()||!t&&("?"===a||"#"===a)){if(we(f)?(s.shortenPath(),"/"===a||"\\"===a&&s.isSpecial()||U(s.path,"")):Ae(f)?"/"===a||"\\"===a&&s.isSpecial()||U(s.path,""):("file"===s.scheme&&!s.path.length&&ge(f)&&(s.host&&(s.host=""),f=D(f,0)+":"),U(s.path,f)),f="","file"===s.scheme&&(a===r||"?"===a||"#"===a))while(s.path.length>1&&""===s.path[0])j(s.path);"?"===a?(s.query="",c=je):"#"===a&&(s.fragment="",c=Be)}else f+=pe(a,de);break;case Ve:"?"===a?(s.query="",c=je):"#"===a?(s.fragment="",c=Be):a!==r&&(s.path[0]+=pe(a,fe));break;case je:t||"#"!==a?a!==r&&("'"===a&&s.isSpecial()?s.query+="%27":s.query+="#"===a?"%23":pe(a,fe)):(s.fragment="",c=Be);break;case Be:a!==r&&(s.fragment+=pe(a,he));break}l++}},parseHost:function(e){var t,n,r;if("["===D(e,0)){if("]"!==D(e,e.length-1))return W;if(t=se(q(e,1,-1)),!t)return W;this.host=t}else if(this.isSpecial()){if(e=m(e),P(ne,e))return W;if(t=ue(e),null===t)return W;this.host=t}else{if(P(re,e))return W;for(t="",n=p(e),r=0;r<n.length;r++)t+=pe(n[r],fe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return d(ye,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&ge(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,u=e.query,s=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=le(i),null!==a&&(c+=":"+a)):"file"===t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==u&&(c+="?"+u),null!==s&&(c+="#"+s),c},setHref:function(e){var t=this.parse(e);if(t)throw new C(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new ze(e.path[0]).origin}catch(n){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+le(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(A(e)+":",ke)},getUsername:function(){return this.username},setUsername:function(e){var t=p(A(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=pe(t[n],ve)}},getPassword:function(){return this.password},setPassword:function(e){var t=p(A(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=pe(t[n],ve)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?le(e):le(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getHostname:function(){var e=this.host;return null===e?"":le(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ne)},getPort:function(){var e=this.port;return null===e?"":A(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=A(e),""===e?this.port=null:this.parse(e,De))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+L(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Fe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=A(e),""===e?this.query=null:("?"===D(e,0)&&(e=q(e,1)),this.query="",this.parse(e,je)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=A(e),""!==e?("#"===D(e,0)&&(e=q(e,1)),this.fragment="",this.parse(e,Be)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var ze=function(e){var t=h(this,Ke),n=k(arguments.length,1)>1?arguments[1]:void 0,r=x(t,new qe(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ke=ze.prototype,Ge=function(e,t){return{get:function(){return E(this)[e]()},set:t&&function(e){return E(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(f(Ke,"href",Ge("serialize","setHref")),f(Ke,"origin",Ge("getOrigin")),f(Ke,"protocol",Ge("getProtocol","setProtocol")),f(Ke,"username",Ge("getUsername","setUsername")),f(Ke,"password",Ge("getPassword","setPassword")),f(Ke,"host",Ge("getHost","setHost")),f(Ke,"hostname",Ge("getHostname","setHostname")),f(Ke,"port",Ge("getPort","setPort")),f(Ke,"pathname",Ge("getPathname","setPathname")),f(Ke,"search",Ge("getSearch","setSearch")),f(Ke,"searchParams",Ge("getSearchParams")),f(Ke,"hash",Ge("getHash","setHash"))),l(Ke,"toJSON",(function(){return E(this).serialize()}),{enumerable:!0}),l(Ke,"toString",(function(){return E(this).serialize()}),{enumerable:!0}),S){var He=S.createObjectURL,We=S.revokeObjectURL;He&&l(ze,"createObjectURL",s(He,S)),We&&l(ze,"revokeObjectURL",s(We,S))}w(ze,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:ze})},3296:(e,t,n)=>{"use strict";n(45806)},27208:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},74904:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},7196:(e,t,n)=>{function r(e){if(Array.isArray(e))return e}n(64346),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},93794:(e,t,n)=>{n(52675),n(89463),n(2259),n(16280),n(76918),n(64346),n(26099),n(47764),n(62953);var r=n(82229);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},34311:(e,t,n)=>{function r(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n["return"]&&(o=n["return"](),Object(o)!==o))return}finally{if(c)throw i}}return u}}n(52675),n(89463),n(2259),n(44114),n(26099),n(47764),n(62953),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},22729:(e,t,n)=>{function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n(16280),n(76918),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},63686:(e,t,n)=>{var r=n(7196),i=n(34311),a=n(82229),o=n(22729);function u(e,t){return r(e)||i(e,t)||a(e,t)||o()}e.exports=u,e.exports.__esModule=!0,e.exports["default"]=e.exports},82229:(e,t,n)=>{n(76918),n(23418),n(34782),n(23288),n(62010),n(26099),n(27495),n(90906),n(38781),n(47764);var r=n(74904);function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},6562:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},63732:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(16280),n(76918);function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},30388:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(26099);function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}},25335:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(60825);var r=n(54497),i=n(46287),a=(n(16280),n(76918),n(54119)),o=n(63732);function u(e,t){if(t&&("object"===(0,a.A)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.A)(e)}function s(e,t,n){return t=(0,r.A)(t),u(e,(0,i.A)()?Reflect.construct(t,n||[],(0,r.A)(e).constructor):t.apply(e,n))}},25026:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(16280),n(76918);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},92285:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(44114),n(94170),n(60825);var r=n(83677),i=n(46287);function a(e,t,n){if((0,i.A)())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var o=new(e.bind.apply(e,a));return n&&(0,r.A)(o,n.prototype),o}},69492:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(84185);var r=n(33051);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.A)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},3604:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(52675),n(89463),n(2259),n(16280),n(76918),n(64346),n(26099),n(47764),n(62953);var r=n(12635);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.A)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}},23772:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(84185);var r=n(33051);function i(e,t,n){return t=(0,r.A)(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},47645:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(94170),n(83851),n(26099),n(40888),n(15472);var r=n(54497);function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=(0,r.A)(e),null===e)break;return e}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},a.apply(this,arguments)}},54497:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(94170),n(40875),n(63548),n(10287);function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}},28578:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(16280),n(76918),n(59904),n(84185);var r=n(83677);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.A)(e,t)}},46287:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(60825);function r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(r=function(){return!!e})()}},14048:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(52675),n(89463),n(66412),n(2259),n(78125),n(16280),n(76918),n(51629),n(44114),n(94490),n(34782),n(62010),n(4731),n(60479),n(59904),n(84185),n(40875),n(63548),n(10287),n(26099),n(47764),n(23500),n(62953);var r=n(54119);function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
i=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},s=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof A?t:A,a=Object.create(i.prototype),u=new N(r||[]);return o(a,"_invoke",{value:S(e,n,u)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var v="suspendedStart",p="suspendedYield",y="executing",g="completed",m={};function A(){}function w(){}function k(){}var b={};f(b,s,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(D([])));x&&x!==n&&a.call(x,s)&&(b=x);var E=k.prototype=A.prototype=Object.create(b);function I(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,u,s){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.A)(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function S(t,n,r){var i=v;return function(a,o){if(i===y)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=C(u,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===v)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=y;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?g:p,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator["return"]&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,r.A)(t)+" is not iterable")}return w.prototype=k,o(E,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},I(T.prototype),f(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new T(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(E),f(E,l,"Generator"),f(E,s,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}},83677:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(94170),n(63548),n(10287);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}},78676:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});n(64346);function r(e){if(Array.isArray(e))return e}n(52675),n(89463),n(2259),n(44114),n(26099),n(47764),n(62953);function i(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n["return"]&&(o=n["return"](),Object(o)!==o))return}finally{if(c)throw i}}return u}}var a=n(12635);n(16280),n(76918);function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||i(e,t)||(0,a.A)(e,t)||o()}},59258:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(64346);var r=n(6562);function i(e){if(Array.isArray(e))return(0,r.A)(e)}n(52675),n(89463),n(2259),n(23418),n(26099),n(47764),n(62953);function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=n(12635);n(16280),n(76918);function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return i(e)||a(e)||(0,o.A)(e)||u()}},33051:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(54119);n(45700),n(16280),n(76918),n(89572),n(2892);function i(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function a(e){var t=i(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},54119:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(52675),n(89463),n(2259),n(26099),n(47764),n(62953);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},12635:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(76918),n(23418),n(34782),n(23288),n(62010),n(26099),n(27495),n(90906),n(38781),n(47764);var r=n(6562);function i(e,t){if(e){if("string"===typeof e)return(0,r.A)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}},84056:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});n(16280),n(76918),n(36033),n(59904),n(26099),n(47764),n(62953);var r=n(54497),i=n(83677);n(25276),n(23288),n(38781);function a(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}var o=n(92285);function u(e){var t="function"===typeof Map?new Map:void 0;return u=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,o.A)(e,arguments,(0,r.A)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.A)(n,e)},u(e)}},50443:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(23772),i=n(25026),a=n(69492),o=(n(25276),n(62062),n(94170),n(62010),n(84185),n(79432),n(26099),n(27495),n(25440),n(13611),n(64046)),u=n(90852),s=n(86341),c=n(71363),l=function(){function e(t,n){var r=this;(0,i.A)(this,e),this._delegate=t,this.firebase=n,(0,s._addComponent)(t,new u.uA("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,a.A)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),(0,s.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){(0,s._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}])}(),f=(0,r.A)((0,r.A)({},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),h=new o.FA("app-compat","Firebase",f);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e){var t={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:c,removeApp:r,useAsService:l,modularAPIs:s}};function r(e){delete t[e]}function i(e){if(e=e||s._DEFAULT_ENTRY_NAME,!(0,o.gR)(t,e))throw h.create("no-app",{appName:e});return t[e]}function a(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s.initializeApp(r,i);if((0,o.gR)(t,a.name))return t[a.name];var u=new e(a,n);return t[a.name]=u,u}function u(){return Object.keys(t).map((function(e){return t[e]}))}function c(t){var r=t.name,a=r.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw h.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&(0,o.zw)(u,t.serviceProps),n[a]=u,e.prototype[a]=function(){for(var e=this._getService.bind(this,r),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null}function l(e,t){if("serverAuth"===t)return null;var n=t;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:u}),i["App"]=e,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(){var e=d(l);function t(t){(0,o.zw)(e,t)}return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:v,extendNamespace:t,createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),e}var p=v(),y=new c.Vy("@firebase/app-compat"),g="@firebase/app-compat",m="0.2.31";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function A(e){(0,s.registerVersion)(g,m,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,o.Bd)()&&void 0!==self.firebase){y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var w=self.firebase.SDK_VERSION;w&&w.indexOf("LITE")>=0&&y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var k=p;A()},86341:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>y.g,SDK_VERSION:()=>Fe,_DEFAULT_ENTRY_NAME:()=>we,_addComponent:()=>Ee,_addOrOverwriteComponent:()=>Ie,_apps:()=>be,_clearComponents:()=>Ne,_components:()=>xe,_getProvider:()=>Se,_isFirebaseApp:()=>Oe,_isFirebaseServerApp:()=>Re,_registerComponent:()=>Te,_removeServiceInstance:()=>Ce,_serverApps:()=>_e,deleteApp:()=>qe,getApp:()=>je,getApps:()=>Be,initializeApp:()=>Ue,initializeServerApp:()=>Ve,onLog:()=>Ge,registerVersion:()=>Ke,setLogLevel:()=>He});var r=n(14048),i=n(30388),a=n(59258),o=n(54119),u=n(63732),s=n(25335),c=n(28578),l=n(3604),f=n(23772),h=n(25026),d=n(69492),v=(n(28706),n(2008),n(50113),n(23418),n(48598),n(62062),n(44114),n(72712),n(34782),n(15086),n(59089),n(1688),n(60739),n(23288),n(62010),n(33110),n(36033),n(72152),n(26099),n(27495),n(47764),n(71761),n(62953),n(90852)),p=n(71363),y=n(64046);n(52675),n(51629),n(67945),n(84185),n(83851),n(81278),n(79432),n(23500);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,f.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(74423),n(25440),n(76918),n(26910),n(21699),n(73772),n(55815),n(64979),n(79739);var A,w,k=function(e,t){return t.some((function(t){return e instanceof t}))};function b(){return A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _(){return w||(w=[IDBCursor.prototype.advance,IDBCursor.prototype["continue"],IDBCursor.prototype.continuePrimaryKey])}var x=new WeakMap,E=new WeakMap,I=new WeakMap,T=new WeakMap,S=new WeakMap;function C(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(L(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&x.set(t,e)}))["catch"]((function(){})),S.set(t,e),t}function O(e){if(!E.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));E.set(e,t)}}var R={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return E.get(e);if("objectStoreNames"===t)return e.objectStoreNames||I.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return L(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function N(e){R=e(R)}function D(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?_().includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(M(this),n),L(x.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return L(e.apply(M(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[M(this),t].concat(r));return I.set(a,t.sort?t.sort():[t]),L(a)}}function P(e){return"function"===typeof e?D(e):(e instanceof IDBTransaction&&O(e),k(e,b())?new Proxy(e,R):e)}function L(e){if(e instanceof IDBRequest)return C(e);if(T.has(e))return T.get(e);var t=P(e);return t!==e&&(T.set(e,t),S.set(t,e)),t}var M=function(e){return S.get(e)};function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=L(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(L(u.result),e.oldVersion,e.newVersion,L(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))}))["catch"]((function(){})),s}var U,V,j=["get","getKey","getAll","getAllKeys","count"],B=["put","add","delete","clear"],q=new Map;function z(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(q.get(t))return q.get(t);var n=t.replace(/FromIndex$/,""),a=t!==n,o=B.includes(n);if(n in(a?IDBIndex:IDBObjectStore).prototype&&(o||j.includes(n))){var u=function(){var e=(0,i.A)((0,r.A)().mark((function e(t){var i,u,s,c,l,f,h=arguments;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(u=this.transaction(t,o?"readwrite":"readonly"),s=u.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return a&&(s=s.index(l.shift())),e.next=6,Promise.all([(i=s)[n].apply(i,l),o&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return q.set(t,u),u}}}N((function(e){return m(m({},e),{},{get:function(t,n,r){return z(t,n)||e.get(t,n,r)},has:function(t,n){return!!z(t,n)||e.has(t,n)}})}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var K=function(){function e(t){(0,h.A)(this,e),this.container=t}return(0,d.A)(e,[{key:"getPlatformInfoString",value:function(){var e=this.container.getProviders();return e.map((function(e){if(G(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}])}();function G(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}var H="@firebase/app",W="0.10.1",Q=new p.Vy("@firebase/app"),Y="@firebase/app-compat",$="@firebase/analytics-compat",X="@firebase/analytics",J="@firebase/app-check-compat",Z="@firebase/app-check",ee="@firebase/auth",te="@firebase/auth-compat",ne="@firebase/database",re="@firebase/database-compat",ie="@firebase/functions",ae="@firebase/functions-compat",oe="@firebase/installations",ue="@firebase/installations-compat",se="@firebase/messaging",ce="@firebase/messaging-compat",le="@firebase/performance",fe="@firebase/performance-compat",he="@firebase/remote-config",de="@firebase/remote-config-compat",ve="@firebase/storage",pe="@firebase/storage-compat",ye="@firebase/firestore",ge="@firebase/firestore-compat",me="firebase",Ae="10.11.0",we="[DEFAULT]",ke=(U={},(0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)(U,H,"fire-core"),Y,"fire-core-compat"),X,"fire-analytics"),$,"fire-analytics-compat"),Z,"fire-app-check"),J,"fire-app-check-compat"),ee,"fire-auth"),te,"fire-auth-compat"),ne,"fire-rtdb"),re,"fire-rtdb-compat"),(0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)(U,ie,"fire-fn"),ae,"fire-fn-compat"),oe,"fire-iid"),ue,"fire-iid-compat"),se,"fire-fcm"),ce,"fire-fcm-compat"),le,"fire-perf"),fe,"fire-perf-compat"),he,"fire-rc"),de,"fire-rc-compat"),(0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)(U,ve,"fire-gcs"),pe,"fire-gcs-compat"),ye,"fire-fst"),ge,"fire-fst-compat"),"fire-js","fire-js"),me,"fire-js-all")),be=new Map,_e=new Map,xe=new Map;function Ee(e,t){try{e.container.addComponent(t)}catch(n){Q.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ie(e,t){e.container.addOrOverwriteComponent(t)}function Te(e){var t=e.name;if(xe.has(t))return Q.debug("There were multiple attempts to register component ".concat(t,".")),!1;xe.set(t,e);var n,r=(0,l.A)(be.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;Ee(i,e)}}catch(s){r.e(s)}finally{r.f()}var a,o=(0,l.A)(_e.values());try{for(o.s();!(a=o.n()).done;){var u=a.value;Ee(u,e)}}catch(s){o.e(s)}finally{o.f()}return!0}function Se(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:we;Se(e,t).clearInstance(n)}function Oe(e){return void 0!==e.options}function Re(e){return void 0!==e.settings}function Ne(){xe.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De=(V={},(0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)(V,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),"bad-app-name","Illegal App name: '{$appName}'"),"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),"app-deleted","Firebase App named '{$appName}' already deleted"),"server-app-deleted","Firebase Server App has been deleted"),"no-options","Need to provide options, when not being deployed to hosting via source."),"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),"invalid-log-argument","First argument to `onLog` must be null or a function."),"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,f.A)((0,f.A)((0,f.A)((0,f.A)(V,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),"finalization-registry-not-supported","FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry."),"invalid-server-app-environment","FirebaseServerApp is not for use in browser environments.")),Pe=new y.FA("app","Firebase",De),Le=function(){function e(t,n,r){var i=this;(0,h.A)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new v.uA("app",(function(){return i}),"PUBLIC"))}return(0,d.A)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Pe.create("app-deleted",{appName:this._name})}}])}(),Me=function(e){function t(e,n,r,i){var a;(0,h.A)(this,t);var o=void 0!==n.automaticDataCollectionEnabled&&n.automaticDataCollectionEnabled,c={name:r,automaticDataCollectionEnabled:o};if(void 0!==e.apiKey)a=(0,s.A)(this,t,[e,c,i]);else{var l=e;a=(0,s.A)(this,t,[l.options,c,i])}return a._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),a._finalizationRegistry=new FinalizationRegistry((function(){a.automaticCleanup()})),a._refCount=0,a.incRefCount(a._serverConfig.releaseOnDeref),a._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Ke(H,W,"serverapp"),(0,u.A)(a)}return(0,c.A)(t,e),(0,d.A)(t,[{key:"toJSON",value:function(){}},{key:"refCount",get:function(){return this._refCount}},{key:"incRefCount",value:function(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}},{key:"decRefCount",value:function(){return this.isDeleted?0:--this._refCount}},{key:"automaticCleanup",value:function(){qe(this)}},{key:"settings",get:function(){return this.checkDestroyed(),this._serverConfig}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Pe.create("server-app-deleted")}}])}(Le),Fe=Ae;function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==(0,o.A)(t)){var r=t;t={name:r}}var i=Object.assign({name:we,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Pe.create("bad-app-name",{appName:String(a)});if(n||(n=(0,y.T9)()),!n)throw Pe.create("no-options");var u=be.get(a);if(u){if((0,y.bD)(n,u.options)&&(0,y.bD)(i,u.config))return u;throw Pe.create("duplicate-app",{appName:a})}var s,c=new v.h1(a),f=(0,l.A)(xe.values());try{for(f.s();!(s=f.n()).done;){var h=s.value;c.addComponent(h)}}catch(p){f.e(p)}finally{f.f()}var d=new Le(n,i,c);return be.set(a,d),d}function Ve(e,t){if((0,y.Bd)())throw Pe.create("invalid-server-app-environment");var n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Oe(e)?e.options:e;var r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;var i=function(e){return(0,a.A)(e).reduce((function(e,t){return Math.imul(31,e)+t.charCodeAt(0)|0}),0)};if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Pe.create("finalization-registry-not-supported",{});var o=""+i(JSON.stringify(r)),u=_e.get(o);if(u)return u.incRefCount(t.releaseOnDeref),u;var s,c=new v.h1(o),f=(0,l.A)(xe.values());try{for(f.s();!(s=f.n()).done;){var h=s.value;c.addComponent(h)}}catch(p){f.e(p)}finally{f.f()}var d=new Me(n,t,o,c);return _e.set(o,d),d}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=be.get(e);if(!t&&e===we&&(0,y.T9)())return Ue();if(!t)throw Pe.create("no-app",{appName:e});return t}function Be(){return Array.from(be.values())}function qe(e){return ze.apply(this,arguments)}function ze(){return ze=(0,i.A)((0,r.A)().mark((function e(t){var n,i,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=!1,i=t.name,be.has(i)?(n=!0,be["delete"](i)):_e.has(i)&&(a=t,a.decRefCount()<=0&&(_e["delete"](i),n=!0)),!n){e.next=7;break}return e.next=6,Promise.all(t.container.getProviders().map((function(e){return e["delete"]()})));case 6:t.isDeleted=!0;case 7:case"end":return e.stop()}}),e)}))),ze.apply(this,arguments)}function Ke(e,t,n){var r,i=null!==(r=ke[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Q.warn(u.join(" "))}Te(new v.uA("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ge(e,t){if(null!==e&&"function"!==typeof e)throw Pe.create("invalid-log-argument");(0,p.Ey)(e,t)}function He(e){(0,p.He)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We="firebase-heartbeat-database",Qe=1,Ye="firebase-heartbeat-store",$e=null;function Xe(){return $e||($e=F(We,Qe,{upgrade:function(e,t){switch(t){case 0:try{e.createObjectStore(Ye)}catch(n){console.warn(n)}}}})["catch"]((function(e){throw Pe.create("idb-open",{originalErrorMessage:e.message})}))),$e}function Je(e){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,i.A)((0,r.A)().mark((function e(t){var n,i,a,o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe();case 3:return n=e.sent,i=n.transaction(Ye),e.next=7,i.objectStore(Ye).get(nt(t));case 7:return a=e.sent,e.next=10,i.done;case 10:return e.abrupt("return",a);case 13:e.prev=13,e.t0=e["catch"](0),e.t0 instanceof y.g?Q.warn(e.t0.message):(o=Pe.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Q.warn(o.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),Ze.apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return tt=(0,i.A)((0,r.A)().mark((function e(t,n){var i,a,o,u;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe();case 3:return i=e.sent,a=i.transaction(Ye,"readwrite"),o=a.objectStore(Ye),e.next=8,o.put(n,nt(t));case 8:return e.next=10,a.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),e.t0 instanceof y.g?Q.warn(e.t0.message):(u=Pe.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Q.warn(u.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),tt.apply(this,arguments)}function nt(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt=1024,it=2592e6,at=function(){function e(t){var n=this;(0,h.A)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new st(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,d.A)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,i.A)((0,r.A)().mark((function e(){var t,n,i,a,o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=this.container.getProvider("platform-logger").getImmediate(),a=i.getPlatformInfoString(),o=ot(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==o&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===o}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:o,agent:a});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf(),n=Date.now();return n-t<=it})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,i.A)((0,r.A)().mark((function e(){var t,n,i,a,o,u;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=ot(),i=ut(this._heartbeatsCache.heartbeats),a=i.heartbeatsToSend,o=i.unsentEntries,u=(0,y.Uj)(JSON.stringify({version:2,heartbeats:a})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(o.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=o,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}();function ot(){var e=new Date;return e.toISOString().substring(0,10)}function ut(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt,r=[],i=e.slice(),a=(0,l.A)(e);try{var o,u=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ct(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),ct(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done;)if(o=u(),0===o)break}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var st=function(){function e(t){(0,h.A)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,d.A)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,i.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,y.zW)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",(0,y.eX)().then((function(){return!0}))["catch"]((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"read",value:function(){var e=(0,i.A)((0,r.A)().mark((function e(){var t,n;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(t=e.sent,t){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Je(this.app);case 9:if(n=e.sent,!(null===n||void 0===n?void 0:n.heartbeats)){e.next=14;break}return e.abrupt("return",n);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"overwrite",value:function(){var e=(0,i.A)((0,r.A)().mark((function e(t){var n,i,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(i=e.sent,i){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return a=e.sent,e.abrupt("return",et(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"add",value:function(){var e=(0,i.A)((0,r.A)().mark((function e(t){var n,i,o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(i=e.sent,i){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return o=e.sent,e.abrupt("return",et(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:o.lastSentHeartbeatDate,heartbeats:[].concat((0,a.A)(o.heartbeats),(0,a.A)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}])}();function ct(e){return(0,y.Uj)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e){Te(new v.uA("platform-logger",(function(e){return new K(e)}),"PRIVATE")),Te(new v.uA("heartbeat",(function(e){return new at(e)}),"PRIVATE")),Ke(H,W,e),Ke(H,W,"esm2017"),Ke("fire-js","")}lt("")},90852:(e,t,n)=>{"use strict";n.d(t,{h1:()=>y,uA:()=>f});var r=n(14048),i=n(59258),a=n(30388),o=n(78676),u=n(3604),s=n(25026),c=n(69492),l=(n(16280),n(76918),n(28706),n(2008),n(23418),n(62062),n(62010),n(36033),n(26099),n(31415),n(47764),n(62953),n(64046)),f=function(){function e(t,n,r){(0,s.A)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,c.A)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}])}(),h="[DEFAULT]",d=function(){function e(t,n){(0,s.A)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,c.A)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l.cY;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(p(e))try{this.getOrInitializeService({instanceIdentifier:h})}catch(l){}var t,n=(0,u.A)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,o.A)(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:s});a.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;this.instancesDeferred["delete"](e),this.instancesOptions["delete"](e),this.instances["delete"](e)}},{key:"delete",value:function(){var e=(0,a.A)((0,r.A)().mark((function e(){var t;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,i.A)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL["delete"]()}))),(0,i.A)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=(0,u.A)(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var c=(0,o.A)(i.value,2),l=c[0],f=c[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(a)}}catch(d){s.e(d)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i["delete"](e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,u.A)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:v(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.component?this.component.multipleInstances?e:h:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}])}();function v(e){return e===h?void 0:e}function p(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y=function(){function e(t){(0,s.A)(this,e),this.name=t,this.providers=new Map}return(0,c.A)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers["delete"](e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}])}()},71363:(e,t,n)=>{"use strict";n.d(t,{$b:()=>r,Ey:()=>p,He:()=>v,Vy:()=>d});var r,i=n(3604),a=n(25026),o=n(69492),u=n(23772),s=(n(16280),n(76918),n(28706),n(2008),n(51629),n(48598),n(62062),n(44114),n(1688),n(60739),n(23288),n(62010),n(33110),n(26099),n(38781),[]);(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(r||(r={}));var c={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},l=r.INFO,f=(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)({},r.DEBUG,"log"),r.VERBOSE,"log"),r.INFO,"info"),r.WARN,"warn"),r.ERROR,"error"),h=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=f[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},d=function(){function e(t){(0,a.A)(this,e),this.name=t,this._logLevel=l,this._logHandler=h,this._userLogHandler=null,s.push(this)}return(0,o.A)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?c[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.DEBUG].concat(t)),this._logHandler.apply(this,[this,r.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.VERBOSE].concat(t)),this._logHandler.apply(this,[this,r.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.INFO].concat(t)),this._logHandler.apply(this,[this,r.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.WARN].concat(t)),this._logHandler.apply(this,[this,r.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,r.ERROR].concat(t)),this._logHandler.apply(this,[this,r.ERROR].concat(t))}}])}();function v(e){s.forEach((function(t){t.setLogLevel(e)}))}function p(e,t){var n,a=(0,i.A)(s);try{var o=function(){var i=n.value,a=null;t&&t.level&&(a=c[t.level]),i.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),u=2;u<i;u++)o[u-2]=arguments[u];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:r[n].toLowerCase(),message:s,args:o,type:t.name})}};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}}},26720:(e,t,n)=>{"use strict";n.d(t,{HF:()=>sn,xI:()=>Ki,hg:()=>_n,df:()=>Tr,CI:()=>xn});var r=n(54119),i=n(47645),a=n(54497),o=n(25335),u=n(28578),s=n(14048),c=n(78676),l=n(3604),f=n(30388),h=n(25026),d=n(69492),v=n(59258),p=n(23772),y=(n(16280),n(76918),n(28706),n(2008),n(50113),n(51629),n(23418),n(74423),n(25276),n(64346),n(48598),n(62062),n(44114),n(72712),n(94490),n(34782),n(15086),n(26910),n(59089),n(60739),n(23288),n(94170),n(62010),n(55081),n(33110),n(36033),n(2892),n(5506),n(52811),n(79432),n(10287),n(26099),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(31415),n(21699),n(47764),n(71761),n(25440),n(11392),n(50375),n(50778),n(48718),n(73772),n(23500),n(62953),n(13611),n(76031),n(3296),n(27208),n(48408),n(14603),n(47566),n(98721),n(86341)),g=n(64046),m=n(71363);n(52675),n(89463),n(66412),n(2259),n(13609),n(59904),n(84185),n(83851),n(63548),n(15472);function A(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var w,k=n(90852);function b(){return(0,p.A)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var _=b,x=new g.FA("auth","Firebase",b()),E=new m.Vy("@firebase/auth");function I(e){if(E.logLevel<=m.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];E.warn.apply(E,["Auth (".concat(y.SDK_VERSION,"): ").concat(e)].concat(n))}}function T(e){if(E.logLevel<=m.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];E.error.apply(E,["Auth (".concat(y.SDK_VERSION,"): ").concat(e)].concat(n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw D.apply(void 0,[e].concat(n))}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return D.apply(void 0,[e].concat(n))}function O(e,t,n){var r=Object.assign(Object.assign({},_()),(0,p.A)({},t,n)),i=new g.FA("auth","Firebase",r);return i.create(t,{appName:e.name})}function R(e){return O(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N(e,t,n){var r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&S(e,"argument-error"),O(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,v.A)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,v.A)(o)))}return x.create.apply(x,[e].concat(n))}function P(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw D.apply(void 0,[t].concat(r))}}function L(e){var t="INTERNAL ASSERTION FAILED: "+e;throw T(t),new Error(t)}function M(e,t){e||L(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function U(){return"http:"===V()||"https:"===V()}function V(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(U()||(0,g.sr)()||"connection"in navigator))||navigator.onLine}function B(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(){function e(t,n){(0,h.A)(this,e),this.shortDelay=t,this.longDelay=n,M(n>t,"Short delay should be less than long delay!"),this.isMobile=(0,g.jZ)()||(0,g.lV)()}return(0,d.A)(e,[{key:"get",value:function(){return j()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(e,t){M(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(){function e(){(0,h.A)(this,e)}return(0,d.A)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void L("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void L("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void L("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}])}(),G=(w={},(0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)(w,"CREDENTIAL_MISMATCH","custom-token-mismatch"),"MISSING_CUSTOM_TOKEN","internal-error"),"INVALID_IDENTIFIER","invalid-email"),"MISSING_CONTINUE_URI","internal-error"),"INVALID_PASSWORD","wrong-password"),"MISSING_PASSWORD","missing-password"),"INVALID_LOGIN_CREDENTIALS","invalid-credential"),"EMAIL_EXISTS","email-already-in-use"),"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),"INVALID_IDP_RESPONSE","invalid-credential"),(0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)(w,"INVALID_PENDING_TOKEN","invalid-credential"),"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),"MISSING_REQ_TYPE","internal-error"),"EMAIL_NOT_FOUND","user-not-found"),"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),"EXPIRED_OOB_CODE","expired-action-code"),"INVALID_OOB_CODE","invalid-action-code"),"MISSING_OOB_CODE","internal-error"),"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),"INVALID_ID_TOKEN","invalid-user-token"),(0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)(w,"TOKEN_EXPIRED","user-token-expired"),"USER_NOT_FOUND","user-token-expired"),"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),"INVALID_CODE","invalid-verification-code"),"INVALID_SESSION_INFO","invalid-verification-id"),"INVALID_TEMPORARY_PROOF","invalid-credential"),"MISSING_SESSION_INFO","missing-verification-id"),"SESSION_EXPIRED","code-expired"),"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)(w,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),"ADMIN_ONLY_OPERATION","admin-restricted-operation"),"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)((0,p.A)(w,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),"MISSING_CLIENT_TYPE","missing-client-type"),"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),"INVALID_REQ_TYPE","invalid-req-type")),H=new q(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Q(e,t,n,r){return Y.apply(this,arguments)}function Y(){return Y=(0,f.A)((0,s.A)().mark((function e(t,n,r,i){var a,o=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",$(t,a,(0,f.A)((0,s.A)().mark((function e(){var a,o,u,c;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=(0,g.Am)(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return c=e.sent,c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",K.fetch()(ee(t,t.config.apiHost,r,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function $(e,t,n){return X.apply(this,arguments)}function X(){return X=(0,f.A)((0,s.A)().mark((function e(t,n,r){var i,a,o,u,l,f,h,d,v,p;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},G),n),e.prev=2,a=new ne(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(u=e.sent,!("needConfirmation"in u)){e.next=13;break}throw re(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(l=o.ok?u.errorMessage:u.error.message,f=l.split(" : "),h=(0,c.A)(f,2),d=h[0],v=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw re(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw re(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw re(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!v){e.next=34;break}throw O(t,p,v);case 34:S(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e["catch"](2),!(e.t0 instanceof g.g)){e.next=41;break}throw e.t0;case 41:S(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),X.apply(this,arguments)}function J(e,t,n,r){return Z.apply(this,arguments)}function Z(){return Z=(0,f.A)((0,s.A)().mark((function e(t,n,r,i){var a,o,u=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Q(t,n,r,i,a);case 3:return o=e.sent,"mfaPendingCredential"in o&&S(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function ee(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?z(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function te(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ne=function(){function e(t){var n=this;(0,h.A)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(C(n.auth,"network-request-failed"))}),H.get())}))}return(0,d.A)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}])}();function re(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=C(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(e){return void 0!==e&&void 0!==e.enterprise}var ae=function(){function e(t){if((0,h.A)(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return(0,d.A)(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=(0,l.A)(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return te(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e,t){return ue.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(){return ue=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"GET","/v2/recaptchaConfig",W(t,n)));case 1:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function se(e,t){return ce.apply(this,arguments)}function ce(){return ce=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ce.apply(this,arguments)}function le(e,t){return fe.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(){return fe=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function he(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e){return ve.apply(this,arguments)}function ve(){return ve=(0,f.A)((0,s.A)().mark((function e(t){var n,i,a,o,u,c,l=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],i=(0,g.Ku)(t),e.next=4,i.getIdToken(n);case 4:return a=e.sent,o=ye(a),P(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error"),u="object"===(0,r.A)(o.firebase)?o.firebase:void 0,c=null===u||void 0===u?void 0:u["sign_in_provider"],e.abrupt("return",{claims:o,token:a,authTime:he(pe(o.auth_time)),issuedAtTime:he(pe(o.iat)),expirationTime:he(pe(o.exp)),signInProvider:c||null,signInSecondFactor:(null===u||void 0===u?void 0:u["sign_in_second_factor"])||null});case 10:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function pe(e){return 1e3*Number(e)}function ye(e){var t=e.split("."),n=(0,c.A)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return T("JWT malformed, contained fewer than 3 sections"),null;try{var o=(0,g.u)(i);return o?JSON.parse(o):(T("Failed to decode base64 JWT payload"),null)}catch(u){return T("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function ge(e){var t=ye(e);return P(t,"internal-error"),P("undefined"!==typeof t.exp,"internal-error"),P("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e,t){return Ae.apply(this,arguments)}function Ae(){return Ae=(0,f.A)((0,s.A)().mark((function e(t,n){var r,i=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=i.length>2&&void 0!==i[2]&&i[2],!r){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e["catch"](3),!(e.t0 instanceof g.g&&we(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ae.apply(this,arguments)}function we(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke=function(){function e(t){(0,h.A)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,d.A)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,i=r-Date.now()-3e5;return Math.max(0,i)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,f.A)((0,s.A)().mark((function t(){return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e["catch"](0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}()}])}(),be=function(){function e(t,n){(0,h.A)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,d.A)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=he(this.lastLoginAt),this.creationTime=he(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _e(e){return xe.apply(this,arguments)}function xe(){return xe=(0,f.A)((0,s.A)().mark((function e(t){var n,r,i,a,o,u,c,l,f,h,d;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,me(t,le(r,{idToken:i}));case 6:a=e.sent,P(null===a||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Se(o.providerUserInfo):[],c=Te(t.providerData,u),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new be(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}function Ee(e){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=(0,g.Ku)(t),e.next=3,_e(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}function Te(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,v.A)(n),(0,v.A)(t))}function Se(e){return e.map((function(e){var t=e.providerId,n=A(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(e,t){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,f.A)((0,s.A)().mark((function e(t,n){var r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$(t,{},(0,f.A)((0,s.A)().mark((function e(){var r,i,a,o,u,c;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=(0,g.Am)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ee(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return c=e.sent,c["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",K.fetch()(u,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function Re(e,t){return Ne.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(){return Ne=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v2/accounts:revokeToken",W(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}var De=function(){function e(){(0,h.A)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,d.A)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){P(e.idToken,"internal-error"),P("undefined"!==typeof e.idToken,"internal-error"),P("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ge(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"updateFromIdToken",value:function(e){P(0!==e.length,"internal-error");var t=ge(e);this.updateTokensAndExpiration(e,null,t)}},{key:"getToken",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],n||!this.accessToken||this.isExpired){e.next=3;break}return e.abrupt("return",this.accessToken);case 3:if(P(this.refreshToken,t,"user-token-expired"),!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n){var r,i,a,o;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ce(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return L("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(P("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(P("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(P("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(e,t){P("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Le=function(){function e(t){(0,h.A)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=A(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ke(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,v.A)(a.providerData):[],this.metadata=new be(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,d.A)(e,[{key:"getIdToken",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(n=e.sent,P(n,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getIdTokenResult",value:function(e){return de(this,e)}},{key:"reload",value:function(){return Ee(this)}},{key:"_assign",value:function(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r,i=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,_e(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(0,y._isFirebaseServerApp)(this.auth.app)){e.next=2;break}return e.abrupt("return",Promise.reject(R(this.auth)));case 2:return e.next=4,this.getIdToken();case 4:return t=e.sent,e.next=7,me(this,se(this.auth,{idToken:t}));case 7:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,v=null!==(o=n.photoURL)&&void 0!==o?o:void 0,p=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,A=n.uid,w=n.emailVerified,k=n.isAnonymous,b=n.providerData,_=n.stsTokenManager;P(A&&_,t,"internal-error");var x=De.fromJSON(this.name,_);P("string"===typeof A,t,"internal-error"),Pe(f,t.name),Pe(h,t.name),P("boolean"===typeof w,t,"internal-error"),P("boolean"===typeof k,t,"internal-error"),Pe(d,t.name),Pe(v,t.name),Pe(p,t.name),Pe(y,t.name),Pe(g,t.name),Pe(m,t.name);var E=new e({uid:A,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:k,photoURL:v,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:m});return b&&Array.isArray(b)&&(E.providerData=b.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=(0,f.A)((0,s.A)().mark((function t(n,r){var i,a,o,u=arguments;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],a=new De,a.updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,_e(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"_fromGetAccountInfoResponse",value:function(){var t=(0,f.A)((0,s.A)().mark((function t(n,r,i){var a,o,u,c,l,f;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.users[0],P(void 0!==a.localId,"internal-error"),o=void 0!==a.providerUserInfo?Se(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),c=new De,c.updateFromIdToken(i),l=new e({uid:a.localId,auth:n,stsTokenManager:c,isAnonymous:u}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new be(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length)},Object.assign(l,f),t.abrupt("return",l);case 10:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()}])}(),Me=new Map;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(e){M(e instanceof Function,"Expected a class definition");var t=Me.get(e);return t?(M(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Me.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue=function(){function e(){(0,h.A)(this,e),this.type="NONE",this.storage={}}return(0,d.A)(e,[{key:"_isAvailable",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_set",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}])}();Ue.type="NONE";var Ve=Ue;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Be=function(){function e(t,n,r){(0,h.A)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=je(this.userKey,a.apiKey,o),this.fullPersistenceKey=je("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,d.A)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Le._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,f.A)((0,s.A)().mark((function t(n,r){var i,a,o,u,c,h,d,v,p,y,g,m=arguments;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Fe(Ve),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=(0,f.A)((0,s.A)().mark((function e(t){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Fe(Ve),u=je(i,n.config.apiKey,n.name),c=null,h=(0,l.A)(r),t.prev=10,h.s();case 12:if((d=h.n()).done){t.next=29;break}return v=d.value,t.prev=14,t.next=17,v._get(u);case 17:if(p=t.sent,!p){t.next=23;break}return y=Le._fromJSON(n,p),v!==o&&(c=y),o=v,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t["catch"](14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t["catch"](10),h.e(t.t1);case 34:return t.prev=34,h.f(),t.finish(34);case 37:if(g=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&g.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=g[0],!c){t.next=44;break}return t.next=44,o._set(u,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=(0,f.A)((0,s.A)().mark((function e(t){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));function n(e,n){return t.apply(this,arguments)}return n}()}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(He(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ze(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qe(t))return"Blackberry";if(Ye(t))return"Webos";if(Ke(t))return"Safari";if((t.includes("chrome/")||Ge(t))&&!t.includes("edge/"))return"Chrome";if(We(t))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);return 2===(null===r||void 0===r?void 0:r.length)?r[1]:"Other"}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)();return/firefox\//i.test(e)}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)();return/crios\//i.test(e)}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)();return/iemobile/i.test(e)}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)();return/android/i.test(e)}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)();return/blackberry/i.test(e)}function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)();return/webos/i.test(e)}function $e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xe(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)();return $e(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Je(){return(0,g.lT)()&&10===document.documentMode}function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ZQ)();return $e(e)||We(e)||Ye(e)||Qe(e)||/windows phone/i.test(e)||He(e)}function et(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qe((0,g.ZQ)());break;case"Worker":t="".concat(qe((0,g.ZQ)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(y.SDK_VERSION,"/").concat(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt=function(){function e(t){(0,h.A)(this,e),this.auth=t,this.queue=[]}return(0,d.A)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{var i=e(t);n(i)}catch(a){r(a)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r,i,a,o,u,c;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=(0,l.A)(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e["catch"](3),n.reverse(),o=(0,l.A)(n);try{for(o.s();!(u=o.n()).done;){c=u.value;try{c()}catch(s){}}}catch(f){o.e(f)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));function t(t){return e.apply(this,arguments)}return t}()}])}();
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(e){return it.apply(this,arguments)}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return it=(0,f.A)((0,s.A)().mark((function e(t){var n,r=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Q(t,"GET","/v2/passwordPolicy",W(t,n)));case 2:case"end":return e.stop()}}),e)}))),it.apply(this,arguments)}var at=6,ot=function(){function e(t){var n,r,i,a;(0,h.A)(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:at,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return(0,d.A)(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}])}(),ut=function(){function e(t,n,r,i){(0,h.A)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ct(this),this.idTokenSubscription=new ct(this),this.beforeStateQueue=new nt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return(0,d.A)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Fe(t)),this._initializationPromise=this.queue((0,f.A)((0,s.A)().mark((function r(){var i,a;return(0,s.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Be.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r["catch"](8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeCurrentUserFromIdToken",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le(this,{idToken:t});case 3:return n=e.sent,e.next=6,Le._fromGetAccountInfoResponse(this,n,t);case 6:return r=e.sent,e.next=9,this.directlySetCurrentUser(r);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e["catch"](0),console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e.t0),e.next=16,this.directlySetCurrentUser(null);case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initializeCurrentUser",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r,i,a,o,u,c,l,f=this;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(0,y._isFirebaseServerApp)(this.app)){e.next=7;break}if(r=this.app.settings.authIdToken,!r){e.next=6;break}return e.abrupt("return",new Promise((function(e){setTimeout((function(){return f.initializeCurrentUserFromIdToken(r).then(e,e)}))})));case 6:return e.abrupt("return",this.directlySetCurrentUser(null));case 7:return e.next=9,this.assertedPersistence.getCurrentUser();case 9:if(i=e.sent,a=i,o=!1,!t||!this.config.authDomain){e.next=21;break}return e.next=15,this.getOrInitRedirectPersistenceManager();case 15:return u=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,c=null===a||void 0===a?void 0:a._redirectEventId,e.next=19,this.tryRedirectSignIn(t);case 19:l=e.sent,u&&u!==c||!(null===l||void 0===l?void 0:l.user)||(a=l.user,o=!0);case 21:if(a){e.next=23;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 23:if(a._redirectEventId){e.next=39;break}if(!o){e.next=34;break}return e.prev=25,e.next=28,this.beforeStateQueue.runMiddleware(a);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e["catch"](25),a=i,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 34:if(!a){e.next=38;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:return e.abrupt("return",this.directlySetCurrentUser(null));case 39:return P(this._popupRedirectResolver,this,"argument-error"),e.next=42,this.getOrInitRedirectPersistenceManager();case 42:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=44;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 44:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 45:case"end":return e.stop()}}),e,this,[[25,30]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"tryRedirectSignIn",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e["catch"](0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"useDeviceLanguage",value:function(){this.languageCode=B()}},{key:"_delete",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCurrentUser",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(0,y._isFirebaseServerApp)(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject(R(this)));case 2:return n=t?(0,g.Ku)(t):null,n&&P(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_updateCurrentUser",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r=this,i=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&P(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue((0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signOut",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(0,y._isFirebaseServerApp)(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject(R(this)));case 2:return e.next=4,this.beforeStateQueue.runMiddleware(null);case 4:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=7;break}return e.next=7,this._setRedirectUser(null);case 7:return e.abrupt("return",this._updateCurrentUser(null,!0));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setPersistence",value:function(e){var t=this;return(0,y._isFirebaseServerApp)(this.app)?Promise.reject(R(this)):this.queue((0,f.A)((0,s.A)().mark((function n(){return(0,s.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Fe(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if(n=this._getPasswordPolicyInternal(),n.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t,n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt(this);case 2:t=e.sent,n=new ot(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new g.FA("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,Re(this,r);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n){var r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return n=t&&Fe(t)||this._popupRedirectResolver,P(n,this,"argument-error"),e.next=5,Be.create(this,[Fe(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_redirectUserForId",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n=this;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tt(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t,n,r,i;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=(0,p.A)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return r=e.sent,r&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return i=e.sent,i&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_getAppCheckToken",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t,n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return n=e.sent,(null===n||void 0===n?void 0:n.error)&&I("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}();function st(e){return(0,g.Ku)(e)}var ct=function(){function e(t){var n=this;(0,h.A)(this,e),this.auth=t,this.observer=null,this.addObserver=(0,g.tD)((function(e){return n.observer=e}))}return(0,d.A)(e,[{key:"next",get:function(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}])}(),lt={loadJS:function(){return(0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Unable to load external scripts");case 1:case"end":return e.stop()}}),e)})))()},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(e){lt=e}function ht(e){return lt.loadJS(e)}function dt(){return lt.recaptchaEnterpriseScript}function vt(){return lt.gapiScript}function pt(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var yt="recaptcha-enterprise",gt="NO_RECAPTCHA",mt=function(){function e(t){(0,h.A)(this,e),this.type=yt,this.auth=st(t)}return(0,d.A)(e,[{key:"verify",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;ie(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)}))["catch"]((function(){n(gt)}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=(0,f.A)((0,s.A)().mark((function e(t){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=(0,f.A)((0,s.A)().mark((function e(n,r){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:oe(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new ae(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))}))["catch"]((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&ie(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));var i=dt();0!==i.length&&(i+=r),ht(i).then((function(){a(r,e,t)}))["catch"]((function(e){t(e)}))}}))["catch"]((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}])}();function At(e,t,n){return wt.apply(this,arguments)}function wt(){return wt=(0,f.A)((0,s.A)().mark((function e(t,n,r){var i,a,o,u,c=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],a=new mt(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e["catch"](2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),wt.apply(this,arguments)}function kt(e,t,n,r){return bt.apply(this,arguments)}function bt(){return bt=(0,f.A)((0,s.A)().mark((function e(t,n,r,i){var a,o;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,At(t,n,r,"getOobCode"===r);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,n)["catch"](function(){var e=(0,f.A)((0,s.A)().mark((function e(a){var o;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,At(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),bt.apply(this,arguments)}function _t(e,t){var n=(0,y._getProvider)(e,"auth");if(n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if((0,g.bD)(i,null!==t&&void 0!==t?t:{}))return r;S(r,"already-initialized")}var a=n.initialize({options:t});return a}function xt(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fe);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}function Et(e,t,n){var r=st(e);P(r._canInitEmulator,r,"emulator-config-failed"),P(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=It(t),o=Tt(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Ct()}function It(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Tt(e){var t=It(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:St(r.substr(a.length+1))}}var o=r.split(":"),u=(0,c.A)(o,2),s=u[0],l=u[1];return{host:s,port:St(l)}}function St(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}function Ct(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot=function(){function e(t,n){(0,h.A)(this,e),this.providerId=t,this.signInMethod=n}return(0,d.A)(e,[{key:"toJSON",value:function(){return L("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return L("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return L("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return L("not implemented")}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e,t){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)}))),Nt.apply(this,arguments)}function Dt(e,t){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithPassword",W(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pt.apply(this,arguments)}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return Mt=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithEmailLink",W(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mt.apply(this,arguments)}function Ft(e,t){return Ut.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return Ut=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithEmailLink",W(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ut.apply(this,arguments)}var Vt=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,h.A)(this,t),i=(0,o.A)(this,t,["password",r]),i._email=e,i._password=n,i._tenantId=a,i}return(0,u.A)(t,e),(0,d.A)(t,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",kt(t,n,"signInWithPassword",Dt));case 5:return e.abrupt("return",Lt(t,{email:this._email,oobCode:this._password}));case 6:S(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_linkToIdToken",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n){var r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",kt(t,r,"signUpPassword",Rt));case 5:return e.abrupt("return",Ft(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:S(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,n){return new t(e,n,"password")}},{key:"_fromEmailAndCode",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new t(e,n,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}])}(Ot);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e,t){return Bt.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return Bt=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithIdp",W(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bt.apply(this,arguments)}var qt="http://localhost",zt=function(e){function t(){var e;return(0,h.A)(this,t),e=(0,o.A)(this,t,arguments),e.pendingToken=null,e}return(0,u.A)(t,e),(0,d.A)(t,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){var t=this.buildRequest();return jt(e,t)}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,jt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,jt(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:qt,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,g.Am)(t)}return e}}],[{key:"_fromParams",value:function(e){var n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):S("argument-error"),n}},{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,i=n.signInMethod,a=A(n,["providerId","signInMethod"]);if(!r||!i)return null;var o=new t(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}])}(Ot);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Kt(e,t){return Gt.apply(this,arguments)}function Gt(){return Gt=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:sendVerificationCode",W(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gt.apply(this,arguments)}function Ht(e,t){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithPhoneNumber",W(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wt.apply(this,arguments)}function Qt(e,t){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,f.A)((0,s.A)().mark((function e(t,n){var r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,J(t,"POST","/v1/accounts:signInWithPhoneNumber",W(t,n));case 2:if(r=e.sent,!r.temporaryProof){e.next=5;break}throw re(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Yt.apply(this,arguments)}var $t=(0,p.A)({},"USER_NOT_FOUND","user-not-found");function Xt(e,t){return Jt.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return Jt=(0,f.A)((0,s.A)().mark((function e(t,n){var r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",J(t,"POST","/v1/accounts:signInWithPhoneNumber",W(t,r),$t));case 2:case"end":return e.stop()}}),e)}))),Jt.apply(this,arguments)}var Zt=function(e){function t(e){var n;return(0,h.A)(this,t),n=(0,o.A)(this,t,["phone","phone"]),n.params=e,n}return(0,u.A)(t,e),(0,d.A)(t,[{key:"_getIdTokenResponse",value:function(e){return Ht(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return Qt(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return Xt(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,n){return new t({verificationId:e,verificationCode:n})}},{key:"_fromTokenResponse",value:function(e,n){return new t({phoneNumber:e,temporaryProof:n})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var n=e,r=n.verificationId,i=n.verificationCode,a=n.phoneNumber,o=n.temporaryProof;return i||r||a||o?new t({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}])}(Ot);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tn(e){var t=(0,g.I9)((0,g.hp)(e))["link"],n=t?(0,g.I9)((0,g.hp)(t))["deep_link_id"]:null,r=(0,g.I9)((0,g.hp)(e))["deep_link_id"],i=r?(0,g.I9)((0,g.hp)(r))["link"]:null;return i||r||n||t||e}var nn=function(){function e(t){var n,r,i,a,o,u;(0,h.A)(this,e);var s=(0,g.I9)((0,g.hp)(t)),c=null!==(n=s["apiKey"])&&void 0!==n?n:null,l=null!==(r=s["oobCode"])&&void 0!==r?r:null,f=en(null!==(i=s["mode"])&&void 0!==i?i:null);P(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s["continueUrl"])&&void 0!==a?a:null,this.languageCode=null!==(o=s["languageCode"])&&void 0!==o?o:null,this.tenantId=null!==(u=s["tenantId"])&&void 0!==u?u:null}return(0,d.A)(e,null,[{key:"parseLink",value:function(t){var n=tn(t);try{return new e(n)}catch(r){return null}}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rn=function(){function e(){(0,h.A)(this,e),this.providerId=e.PROVIDER_ID}return(0,d.A)(e,null,[{key:"credential",value:function(e,t){return Vt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=nn.parseLink(t);return P(n,"argument-error"),Vt._fromEmailAndCode(e,n.code,n.tenantId)}}])}();rn.PROVIDER_ID="password",rn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var an=function(){function e(t){(0,h.A)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,d.A)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}])}(),on=function(e){function t(){var e;return(0,h.A)(this,t),e=(0,o.A)(this,t,arguments),e.scopes=[],e}return(0,u.A)(t,e),(0,d.A)(t,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,v.A)(this.scopes)}}])}(an),un=function(e){function t(){return(0,h.A)(this,t),(0,o.A)(this,t,["facebook.com"])}return(0,u.A)(t,e),(0,d.A)(t,null,[{key:"credential",value:function(e){return zt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}])}(on);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.FACEBOOK_SIGN_IN_METHOD="facebook.com",un.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var sn=function(e){function t(){var e;return(0,h.A)(this,t),e=(0,o.A)(this,t,["google.com"]),e.addScope("profile"),e}return(0,u.A)(t,e),(0,d.A)(t,null,[{key:"credential",value:function(e,n){return zt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,i=n.oauthAccessToken;if(!r&&!i)return null;try{return t.credential(r,i)}catch(a){return null}}}])}(on);sn.GOOGLE_SIGN_IN_METHOD="google.com",sn.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cn=function(e){function t(){return(0,h.A)(this,t),(0,o.A)(this,t,["github.com"])}return(0,u.A)(t,e),(0,d.A)(t,null,[{key:"credential",value:function(e){return zt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}])}(on);cn.GITHUB_SIGN_IN_METHOD="github.com",cn.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ln=function(e){function t(){return(0,h.A)(this,t),(0,o.A)(this,t,["twitter.com"])}return(0,u.A)(t,e),(0,d.A)(t,null,[{key:"credential",value:function(e,n){return zt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthAccessToken,i=n.oauthTokenSecret;if(!r||!i)return null;try{return t.credential(r,i)}catch(a){return null}}}])}(on);ln.TWITTER_SIGN_IN_METHOD="twitter.com",ln.PROVIDER_ID="twitter.com";var fn=function(){function e(t){(0,h.A)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,d.A)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,f.A)((0,s.A)().mark((function t(n,r,i){var a,o,u,c,l=arguments;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Le._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=hn(i),c=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"_forOperation",value:function(){var t=(0,f.A)((0,s.A)().mark((function t(n,r,i){var a;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=hn(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()}])}();function hn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn=function(e){function t(e,n,r,i){var a,u;return(0,h.A)(this,t),a=(0,o.A)(this,t,[n.code,n.message]),a.operationType=r,a.user=i,Object.setPrototypeOf(a,t.prototype),a.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r},a}return(0,u.A)(t,e),(0,d.A)(t,null,[{key:"_fromErrorAndOperation",value:function(e,n,r,i){return new t(e,n,r,i)}}])}(g.g);function vn(e,t,n,r){var i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i["catch"]((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw dn._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e,t){return yn.apply(this,arguments)}function yn(){return yn=(0,f.A)((0,s.A)().mark((function e(t,n){var r,i,a=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=me,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",fn._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),yn.apply(this,arguments)}function gn(e,t){return mn.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return mn=(0,f.A)((0,s.A)().mark((function e(t,n){var r,i,a,o,u,c,l=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,!(0,y._isFirebaseServerApp)(i.app)){e.next=4;break}return e.abrupt("return",Promise.reject(R(i)));case 4:return a="reauthenticate",e.prev=5,e.next=8,me(t,vn(i,a,n,t),r);case 8:return o=e.sent,P(o.idToken,i,"internal-error"),u=ye(o.idToken),P(u,i,"internal-error"),c=u.sub,P(t.uid===c,i,"user-mismatch"),e.abrupt("return",fn._forOperation(t,a,o));case 17:throw e.prev=17,e.t0=e["catch"](5),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&S(i,"user-mismatch"),e.t0;case 21:case"end":return e.stop()}}),e,null,[[5,17]])}))),mn.apply(this,arguments)}function An(e,t){return wn.apply(this,arguments)}function wn(){return wn=(0,f.A)((0,s.A)().mark((function e(t,n){var r,i,a,o,u=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]&&u[2],!(0,y._isFirebaseServerApp)(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject(R(t)));case 3:return i="signIn",e.next=6,vn(t,i,n);case 6:return a=e.sent,e.next=9,fn._fromIdTokenResponse(t,i,a);case 9:if(o=e.sent,r){e.next=13;break}return e.next=13,t._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function kn(e,t,n,r){return(0,g.Ku)(e).onIdTokenChanged(t,n,r)}function bn(e,t,n){return(0,g.Ku)(e).beforeAuthStateChanged(t,n)}function _n(e,t,n,r){return(0,g.Ku)(e).onAuthStateChanged(t,n,r)}function xn(e){return(0,g.Ku)(e).signOut()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function En(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:start",W(e,t))}function In(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:finalize",W(e,t))}function Tn(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:start",W(e,t))}function Sn(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:finalize",W(e,t))}new WeakMap;var Cn="__sak",On=function(){function e(t,n){(0,h.A)(this,e),this.storageRetriever=t,this.type=n}return(0,d.A)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Cn,"1"),this.storage.removeItem(Cn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}])}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Rn(){var e=(0,g.ZQ)();return Ke(e)||$e(e)}var Nn=1e3,Dn=10,Pn=function(e){function t(){var e;return(0,h.A)(this,t),e=(0,o.A)(this,t,[function(){return window.localStorage},"LOCAL"]),e.boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=Rn()&&et(),e.fallbackToPolling=Ze(),e._shouldAllowMigration=!0,e}return(0,u.A)(t,e),(0,d.A)(t,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Je()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Dn):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){var a=i[r];a(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),Nn)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e]["delete"](t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(n,r){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.A)((0,a.A)(t.prototype),"_set",this).call(this,n,r);case 2:this.localCache[n]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));function n(t,n){return e.apply(this,arguments)}return n}()},{key:"_get",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(n){var r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.A)((0,a.A)(t.prototype),"_get",this).call(this,n);case 2:return r=e.sent,this.localCache[n]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function n(t){return e.apply(this,arguments)}return n}()},{key:"_remove",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.A)((0,a.A)(t.prototype),"_remove",this).call(this,n);case 2:delete this.localCache[n];case 3:case"end":return e.stop()}}),e,this)})));function n(t){return e.apply(this,arguments)}return n}()}])}(On);Pn.type="LOCAL";var Ln=Pn,Mn=function(e){function t(){return(0,h.A)(this,t),(0,o.A)(this,t,[function(){return window.sessionStorage},"SESSION"])}return(0,u.A)(t,e),(0,d.A)(t,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}])}(On);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.type="SESSION";var Fn=Mn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(e){return Promise.all(e.map(function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=function(){function e(t){(0,h.A)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,d.A)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r,i,a,o,u,c,l;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,r=n.data,i=r.eventId,a=r.eventType,o=r.data,u=this.handlersMap[a],null===u||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),c=Array.from(u).map(function(){var e=(0,f.A)((0,s.A)().mark((function e(t){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Un(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e]["delete"](t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.receivers=[];var Bn=function(){function e(t){(0,h.A)(this,e),this.target=t,this.handlers=new Set}return(0,d.A)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers["delete"](e)}},{key:"_send",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n){var r,i,a,o,u=this,c=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null,i){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=jn("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"));break}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}))["finally"]((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function zn(e){qn().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return"undefined"!==typeof qn()["WorkerGlobalScope"]&&"function"===typeof qn()["importScripts"]}function Gn(){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,f.A)((0,s.A)().mark((function e(){var t;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e["catch"](2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),Hn.apply(this,arguments)}function Wn(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function Qn(){return Kn()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn="firebaseLocalStorageDb",$n=1,Xn="firebaseLocalStorage",Jn="fbase_key",Zn=function(){function e(t){(0,h.A)(this,e),this.request=t}return(0,d.A)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}])}();function er(e,t){return e.transaction([Xn],t?"readwrite":"readonly").objectStore(Xn)}function tr(){var e=indexedDB.deleteDatabase(Yn);return new Zn(e).toPromise()}function nr(){var e=indexedDB.open(Yn,$n);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Xn,{keyPath:Jn})}catch(r){n(r)}})),e.addEventListener("success",(0,f.A)((0,s.A)().mark((function n(){var r;return(0,s.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.result,r.objectStoreNames.contains(Xn)){n.next=12;break}return r.close(),n.next=5,tr();case 5:return n.t0=t,n.next=8,nr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function rr(e,t,n){return ir.apply(this,arguments)}function ir(){return ir=(0,f.A)((0,s.A)().mark((function e(t,n,r){var i;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=er(t,!0).put((0,p.A)((0,p.A)({},Jn,n),"value",r)),e.abrupt("return",new Zn(i).toPromise());case 2:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}function ar(e,t){return or.apply(this,arguments)}function or(){return or=(0,f.A)((0,s.A)().mark((function e(t,n){var r,i;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=er(t,!1).get(n),e.next=3,new Zn(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}function ur(e,t){var n=er(e,!0)["delete"](t);return new Zn(n).toPromise()}var sr=800,cr=3,lr=function(){function e(){(0,h.A)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,d.A)(e,[{key:"_openDb",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,nr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_withRetries",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e["catch"](2),!(n++>cr)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Kn()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeReceiver",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t=this;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.receiver=Vn._getInstance(Qn()),this.receiver._subscribe("keyChanged",function(){var e=(0,f.A)((0,s.A)().mark((function e(n,r){var i;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeSender",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t,n,r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Gn();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Bn(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent,r){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyServiceWorker",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Wn()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_isAvailable",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,nr();case 5:return t=e.sent,e.next=8,rr(t,Cn,"1");case 8:return e.next=10,ur(t,Cn);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e["catch"](0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_withPendingWrite",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_set",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n){var r=this;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return rr(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ar(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n=this;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ur(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_poll",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t,n,r,i,a,o,u,c,f,h,d;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=er(e,!1).getAll();return new Zn(t).toPromise()}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:if(n=[],r=new Set,0!==t.length){i=(0,l.A)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,c=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(c)&&(this.notifyListeners(u,c),n.push(u))}catch(s){i.e(s)}finally{i.f()}}for(f=0,h=Object.keys(this.localCache);f<h.length;f++)d=h[f],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){var a=i[r];a(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,f.A)((0,s.A)().mark((function t(){return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),sr)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e]["delete"](t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}])}();lr.type="LOCAL";var fr=lr;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(e,t){return Q(e,"POST","/v2/accounts/mfaSignIn:start",W(e,t))}function dr(e,t){return Q(e,"POST","/v2/accounts/mfaSignIn:finalize",W(e,t))}function vr(e,t){return Q(e,"POST","/v2/accounts/mfaSignIn:finalize",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
pt("rcb"),new q(3e4,6e4);var pr="recaptcha";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(e,t,n){return gr.apply(this,arguments)}function gr(){return gr=(0,f.A)((0,s.A)().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,P("string"===typeof a,t,"argument-error"),P(r.type===pr,t,"argument-error"),o="string"===typeof n?{phoneNumber:n}:n,!("session"in o)){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return P("enroll"===u.type,t,"internal-error"),e.next=13,En(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return P("signin"===u.type,t,"internal-error"),l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,P(l,t,"missing-multi-factor-info"),e.next=22,hr(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Kt(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),gr.apply(this,arguments)}var mr=function(){function e(t){(0,h.A)(this,e),this.providerId=e.PROVIDER_ID,this.auth=st(t)}return(0,d.A)(e,[{key:"verifyPhoneNumber",value:function(e,t){return yr(this.auth,e,(0,g.Ku)(t))}}],[{key:"credential",value:function(e,t){return Zt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Zt._fromTokenResponse(n,r):null}}])}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ar(e,t){return t?Fe(t):(P(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.PROVIDER_ID="phone",mr.PHONE_SIGN_IN_METHOD="phone";var wr=function(e){function t(e){var n;return(0,h.A)(this,t),n=(0,o.A)(this,t,["custom","custom"]),n.params=e,n}return(0,u.A)(t,e),(0,d.A)(t,[{key:"_getIdTokenResponse",value:function(e){return jt(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return jt(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return jt(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}])}(Ot);function kr(e){return An(e.auth,new wr(e),e.bypassAuthState)}function br(e){var t=e.auth,n=e.user;return P(n,t,"internal-error"),gn(n,new wr(e),e.bypassAuthState)}function _r(e){return xr.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return xr=(0,f.A)((0,s.A)().mark((function e(t){var n,r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.auth,r=t.user,P(r,n,"internal-error"),e.abrupt("return",pn(r,new wr(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}var Er=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,h.A)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,d.A)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,f.A)((0,s.A)().mark((function t(n,r){return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r,i,a,o,u,c;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e["catch"](5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kr;case"linkViaPopup":case"linkViaRedirect":return _r;case"reauthViaPopup":case"reauthViaRedirect":return br;default:S(this.auth,"internal-error")}}},{key:"resolve",value:function(e){M(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){M(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}])}(),Ir=new q(2e3,1e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(e,t,n){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,f.A)((0,s.A)().mark((function e(t,n,r){var i,a,o;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(0,y._isFirebaseServerApp)(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(C(t,"operation-not-supported-in-this-environment")));case 2:return i=st(t),N(t,n,an),a=Ar(i,r),o=new Cr(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 7:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}var Cr=function(e){function t(e,n,r,i,a){var u;return(0,h.A)(this,t),u=(0,o.A)(this,t,[e,n,i,a]),u.provider=r,u.authWindow=null,u.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=u,u}return(0,u.A)(t,e),(0,d.A)(t,[{key:"executeNotNull",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return t=e.sent,P(t,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onExecution",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var t,n=this;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return M(1===this.filter.length,"Popup operations only handle one event"),t=jn(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth)["catch"]((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(C(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(C(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(C(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Ir.get())};t()}}])}(Er);Cr.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Or="pendingRedirect",Rr=new Map,Nr=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,h.A)(this,t),r=(0,o.A)(this,t,[e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i]),r.eventId=null,r}return(0,u.A)(t,e),(0,d.A)(t,[{key:"execute",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){var n,r,o;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Rr.get(this.auth._key()),n){e.next=21;break}return e.prev=2,e.next=5,Dr(this.resolver,this.auth);case 5:if(r=e.sent,!r){e.next=12;break}return e.next=9,(0,i.A)((0,a.A)(t.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:o=e.t0,n=function(){return Promise.resolve(o)},e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](2),n=function(){return Promise.reject(e.t1)};case 20:Rr.set(this.auth._key(),n);case 21:return this.bypassAuthState||Rr.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",n());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));function n(){return e.apply(this,arguments)}return n}()},{key:"onAuthEvent",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(n){var r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==n.type){e.next=4;break}return e.abrupt("return",(0,i.A)((0,a.A)(t.prototype),"onAuthEvent",this).call(this,n));case 4:if("unknown"!==n.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!n.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(n.eventId);case 10:if(r=e.sent,!r){e.next=16;break}return this.user=r,e.abrupt("return",(0,i.A)((0,a.A)(t.prototype),"onAuthEvent",this).call(this,n));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));function n(t){return e.apply(this,arguments)}return n}()},{key:"onExecution",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cleanUp",value:function(){}}])}(Er);function Dr(e,t){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,f.A)((0,s.A)().mark((function e(t,n){var r,i,a;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Fr(n),i=Mr(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Lr(e,t){Rr.set(e._key(),t)}function Mr(e){return Fe(e._redirectPersistence)}function Fr(e){return je(Or,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(e,t){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,f.A)((0,s.A)().mark((function e(t,n){var r,i,a,o,u,c=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]&&c[2],!(0,y._isFirebaseServerApp)(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject(R(t)));case 3:return i=st(t),a=Ar(i,n),o=new Nr(i,a,r),e.next=8,o.execute();case 8:if(u=e.sent,!u||r){e.next=15;break}return delete u.user._redirectEventId,e.next=13,i._persistUserIfCurrent(u.user);case 13:return e.next=15,i._setRedirectUser(null,n);case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}var jr=6e5,Br=function(){function e(t){(0,h.A)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,d.A)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers["delete"](e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!Kr(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!zr(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(C(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=jr&&this.cachedEventUids.clear(),this.cachedEventUids.has(qr(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(qr(e)),this.lastProcessedEventTime=Date.now()}}])}();function qr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function zr(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Kr(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zr(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){return Hr.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return Hr=(0,f.A)((0,s.A)().mark((function e(t){var n,r=arguments;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Q(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}var Wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qr=/^https?/;function Yr(e){return $r.apply(this,arguments)}function $r(){return $r=(0,f.A)((0,s.A)().mark((function e(t){var n,r,i,a,o;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gr(t);case 4:n=e.sent,r=n.authorizedDomains,i=(0,l.A)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Xr(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e["catch"](7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:S(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),$r.apply(this,arguments)}function Xr(e){var t=F(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Qr.test(r))return!1;if(Wr.test(e))return i===e;var o=e.replace(/\./g,"\\."),u=new RegExp("^(.+\\."+o+"|"+o+")$","i");return u.test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr=new q(3e4,6e4);function Zr(){var e=qn().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,v.A)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}function ei(e){return new Promise((function(t,n){var r,i,a;function o(){Zr(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Zr(),n(C(e,"network-request-failed"))},timeout:Jr.get()})}if(null===(i=null===(r=qn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=qn().gapi)||void 0===a?void 0:a.load)){var u=pt("iframefcb");return qn()[u]=function(){gapi.load?o():n(C(e,"network-request-failed"))},ht("".concat(vt(),"?onload=").concat(u))["catch"]((function(e){return n(e)}))}o()}}))["catch"]((function(e){throw ti=null,e}))}var ti=null;function ni(e){return ti=ti||ei(e),ti}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=new q(5e3,15e3),ii="__/auth/iframe",ai="emulator/auth/iframe",oi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ui=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function si(e){var t=e.config;P(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?z(t,ai):"https://".concat(e.config.authDomain,"/").concat(ii),r={apiKey:t.apiKey,appName:e.name,v:y.SDK_VERSION},i=ui.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat((0,g.Am)(r).slice(1))}function ci(e){return li.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return li=(0,f.A)((0,s.A)().mark((function e(t){var n,r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ni(t);case 2:return n=e.sent,r=qn().gapi,P(r,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:si(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oi,dontclear:!0},(function(e){return new Promise(function(){var n=(0,f.A)((0,s.A)().mark((function n(r,i){var a,o,u;return(0,s.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return u=function(){qn().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=C(t,"network-request-failed"),o=qn().setTimeout((function(){i(a)}),ri.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}var fi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hi=500,di=600,vi="_blank",pi="http://localhost",yi=function(){function e(t){(0,h.A)(this,e),this.window=t,this.associatedEvent=null}return(0,d.A)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}])}();function gi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:hi,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:di,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},fi),{width:r.toString(),height:i.toString(),top:a,left:o}),l=(0,g.ZQ)().toLowerCase();n&&(u=Ge(l)?vi:n),ze(l)&&(t=t||pi,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=(0,c.A)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Xe(l)&&"_self"!==u)return mi(t||"",u),new yi(null);var h=window.open(t||"",u,f);P(h,e,"popup-blocked");try{h.focus()}catch(d){}return new yi(h)}function mi(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai="__/auth/handler",wi="emulator/auth/handler",ki=encodeURIComponent("fac");function bi(e,t,n,r,i,a){return _i.apply(this,arguments)}function _i(){return _i=(0,f.A)((0,s.A)().mark((function e(t,n,r,i,a,o){var u,l,f,h,d,v,p,m,A,w,k,b,_;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(P(t.config.authDomain,t,"auth-domain-config-required"),P(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:y.SDK_VERSION,eventId:a},n instanceof an)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",(0,g.Im)(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),l=0,f=Object.entries(o||{});l<f.length;l++)h=(0,c.A)(f[l],2),d=h[0],v=h[1],u[d]=v;for(n instanceof on&&(p=n.getScopes().filter((function(e){return""!==e})),p.length>0&&(u.scopes=p.join(","))),t.tenantId&&(u.tid=t.tenantId),m=u,A=0,w=Object.keys(m);A<w.length;A++)k=w[A],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,_=b?"#".concat(ki,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(xi(t),"?").concat((0,g.Am)(m).slice(1)).concat(_));case 13:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}function xi(e){var t=e.config;return t.emulator?z(t,wi):"https://".concat(t.authDomain,"/").concat(Ai)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei="webStorageSupport",Ii=function(){function e(){(0,h.A)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fn,this._completeRedirectFn=Ur,this._overrideRedirectResult=Lr}return(0,d.A)(e,[{key:"_openPopup",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n,r,i){var a,o;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return M(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,bi(t,n,r,F(),i);case 3:return o=e.sent,e.abrupt("return",gi(t,o,jn()));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_openRedirect",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n,r,i){var a;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,bi(t,n,r,F(),i);case 4:return a=e.sent,zn(a),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(M(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o["catch"]((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ci(t);case 2:return n=e.sent,r=new Br(t),n.register("authEvent",(function(e){P(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");var n=r.onEvent(e.authEvent);return{status:n?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){var n=this.iframes[e._key()];n.send(Ei,{type:Ei},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ei];void 0!==i&&t(!!i),S(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Yr(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ze()||Ke()||$e()}}])}(),Ti=Ii,Si=function(){function e(t){(0,h.A)(this,e),this.factorId=t}return(0,d.A)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return L("unexpected MultiFactorSessionType")}}}])}(),Ci=function(e){function t(e){var n;return(0,h.A)(this,t),n=(0,o.A)(this,t,["phone"]),n.credential=e,n}return(0,u.A)(t,e),(0,d.A)(t,[{key:"_finalizeEnroll",value:function(e,t,n){return In(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return dr(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new t(e)}}])}(Si),Oi=function(){function e(){(0,h.A)(this,e)}return(0,d.A)(e,null,[{key:"assertion",value:function(e){return Ci._fromCredential(e)}}])}();Oi.FACTOR_ID="phone";var Ri=function(){function e(){(0,h.A)(this,e)}return(0,d.A)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Ni._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Ni._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n,r,i;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t,P("undefined"!==typeof(null===(n=r.user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Tn(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Di._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}])}();Ri.FACTOR_ID="totp";var Ni=function(e){function t(e,n,r){var i;return(0,h.A)(this,t),i=(0,o.A)(this,t,["totp"]),i.otp=e,i.enrollmentId=n,i.secret=r,i}return(0,u.A)(t,e),(0,d.A)(t,[{key:"_finalizeEnroll",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n,r){return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return P("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Sn(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"_finalizeSignIn",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t,n){var r;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return P(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",vr(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}],[{key:"_fromSecret",value:function(e,n){return new t(n,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,n){return new t(n,e)}}])}(Si),Di=function(){function e(t,n,r,i,a,o,u){(0,h.A)(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return(0,d.A)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Pi(e)||Pi(t))&&(r=!0),r&&(Pi(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Pi(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}])}();function Pi(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Li="@firebase/auth",Mi="1.7.1",Fi=function(){function e(t){(0,h.A)(this,e),this.auth=t,this.internalListeners=new Map}return(0,d.A)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,f.A)((0,s.A)().mark((function e(t){var n;return(0,s.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners["delete"](e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ui(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vi(e){(0,y._registerComponent)(new k.uA("auth",(function(t,n){var r=n.options,i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),u=i.options,s=u.apiKey,c=u.authDomain;P(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});var l={apiKey:s,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tt(e)},f=new ut(i,a,o,l);return xt(f,r),f}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){var r=e.getProvider("auth-internal");r.initialize()}))),(0,y._registerComponent)(new k.uA("auth-internal",(function(e){var t=st(e.getProvider("auth").getImmediate());return function(e){return new Fi(e)}(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,y.registerVersion)(Li,Mi,Ui(e)),(0,y.registerVersion)(Li,Mi,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji=300,Bi=(0,g.XA)("authIdTokenMaxAge")||ji,qi=null,zi=function(e){return function(){var t=(0,f.A)((0,s.A)().mark((function t(n){var r,i,a;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3,!(i&&i>Bi)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,qi!==a){t.next=12;break}return t.abrupt("return");case 12:return qi=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function Ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,y.getApp)(),t=(0,y._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();var n=_t(e,{popupRedirectResolver:Ti,persistence:[fr,Ln,Fn]}),r=(0,g.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){var i=new URL(r,location.origin);if(location.origin===i.origin){var a=zi(i.toString());bn(n,a,(function(){return a(n.currentUser)})),kn(n,(function(e){return a(e)}))}}var o=(0,g.Tj)("auth");return o&&Et(n,"http://".concat(o)),n}function Gi(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}ft({loadJS:function(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=C("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",Gi().appendChild(r)}))},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Vi("Browser")},53801:(e,t,n)=>{"use strict";n.d(t,{A:()=>r.A});var r=n(50443),i="firebase",a="10.11.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.A.registerVersion(i,a,"app-compat")},30635:(e,t,n)=>{"use strict";var r,i=n(92285),a=n(25335),o=n(28578),u=n(3604),s=n(54119),c=n(25026),l=n(69492),f=(n(28706),n(51629),n(62062),n(11745),n(38309),n(16573),n(78100),n(77936),n(94170),n(26099),n(27495),n(47764),n(25440),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(37467),n(44732),n(33684),n(79577),n(73772),n(23500),n(62953),n(50443)),h=n(47645),d=n(54497),v=n(78676),p=n(84056),y=n(14048),g=n(30388),m=n(59258),A=(n(52675),n(89463),n(2259),n(16280),n(76918),n(88431),n(2008),n(50113),n(48980),n(23418),n(74423),n(25276),n(64346),n(48598),n(44114),n(72712),n(94490),n(34782),n(15086),n(26910),n(54554),n(54743),n(59089),n(1688),n(60739),n(23288),n(62010),n(33110),n(36033),n(2892),n(32637),n(64601),n(44435),n(40875),n(79432),n(16034),n(84864),n(57465),n(87745),n(90906),n(38781),n(31415),n(23860),n(21699),n(71761),n(68156),n(5746),n(50375),n(48718),n(2945),n(42207),n(55815),n(64979),n(79739),n(13611),n(76031),n(86341)),w=n(90852),k=n(71363),b=n(64046),_=(n(13609),n(55081),n(84185),n(78459),n(58940),n(42762),"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{}),x={},E=E||{},I=_||self;function T(e){var t=(0,s.A)(e);return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function S(e){var t=(0,s.A)(e);return"object"==t&&null!=e||"function"==t}function C(e){return Object.prototype.hasOwnProperty.call(e,O)&&e[O]||(e[O]=++R)}var O="closure_uid_"+(1e9*Math.random()>>>0),R=0;function N(e,t,n){return e.call.apply(e.bind,arguments)}function D(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function P(e,t,n){return P=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?N:D,P.apply(null,arguments)}function L(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function M(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function F(){this.s=this.s,this.o=this.o}var U=0;F.prototype.s=!1,F.prototype.sa=function(){this.s||(this.s=!0,this.N(),0==U)||C(this)},F.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var V=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function j(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function B(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(T(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function q(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};I.addEventListener("test",n,t),I.removeEventListener("test",n,t)}catch(n){}return e}();function K(e){return/^[\s\xa0]*$/.test(e)}function G(){var e=I.navigator;return e&&(e=e.userAgent)?e:""}function H(e){return-1!=G().indexOf(e)}function W(e){return W[" "](e),e}function Q(e,t){var n=Lr;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}W[" "]=function(){};var Y,$,X=H("Opera"),J=H("Trident")||H("MSIE"),Z=H("Edge"),ee=Z||J,te=H("Gecko")&&!(-1!=G().toLowerCase().indexOf("webkit")&&!H("Edge"))&&!(H("Trident")||H("MSIE"))&&!H("Edge"),ne=-1!=G().toLowerCase().indexOf("webkit")&&!H("Edge");function re(){var e=I.document;return e?e.documentMode:void 0}e:{var ie="",ae=function(){var e=G();return te?/rv:([^\);]+)(\)|;)/.exec(e):Z?/Edge\/([\d\.]+)/.exec(e):J?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ne?/WebKit\/(\S+)/.exec(e):X?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ae&&(ie=ae?ae[1]:""),J){var oe=re();if(null!=oe&&oe>parseFloat(ie)){Y=String(oe);break e}}Y=ie}if(I.document&&J){var ue=re();$=ue||(parseInt(Y,10)||void 0)}else $=void 0;var se=$;function ce(e,t){if(q.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(te){e:{try{W(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:le[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ce.$.h.call(this)}}M(ce,q);var le={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),he=0;function de(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++he,this.fa=this.ia=!1}function ve(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function pe(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ye(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ge(e){var t={};for(var n in e)t[n]=e[n];return t}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(var a=0;a<me.length;a++)n=me[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function we(e){this.src=e,this.g={},this.h=0}function ke(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=V(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ve(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function be(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}we.prototype.add=function(e,t,n,r,i){var a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);var o=be(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new de(t,this.src,a,!!r,i),t.ia=n,e.push(t)),t};var _e="closure_lm_"+(1e6*Math.random()|0),xe={};function Ee(e,t,n,r,i){if(r&&r.once)return Se(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ee(e,t[a],n,r,i);return null}return n=Le(n),e&&e[fe]?e.O(t,n,S(r)?!!r.capture:!!r,i):Ie(e,t,n,!1,r,i)}function Ie(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=S(i)?!!i.capture:!!i,u=De(e);if(u||(e[_e]=u=new we(e)),n=u.add(t,n,r,o,a),n.proxy)return n;if(r=Te(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)z||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Re(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Te(){function e(n){return t.call(e.src,e.listener,n)}var t=Ne;return e}function Se(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Se(e,t[a],n,r,i);return null}return n=Le(n),e&&e[fe]?e.P(t,n,S(r)?!!r.capture:!!r,i):Ie(e,t,n,!0,r,i)}function Ce(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ce(e,t[a],n,r,i);else r=S(r)?!!r.capture:!!r,n=Le(n),e&&e[fe]?(e=e.i,t=String(t).toString(),t in e.g&&(a=e.g[t],n=be(a,n,r,i),-1<n&&(ve(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=De(e))&&(t=e.g[t.toString()],e=-1,t&&(e=be(t,n,r,i)),(n=-1<e?t[e]:null)&&Oe(n))}function Oe(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[fe])ke(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Re(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=De(t))?(ke(n,e),0==n.h&&(n.src=null,t[_e]=null)):ve(e)}}}function Re(e){return e in xe?xe[e]:xe[e]="on"+e}function Ne(e,t){if(e.fa)e=!0;else{t=new ce(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Oe(e),e=n.call(r,t)}return e}function De(e){return e=e[_e],e instanceof we?e:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(e){return"function"===typeof e?e:(e[Pe]||(e[Pe]=function(t){return e.handleEvent(t)}),e[Pe])}function Me(){F.call(this),this.i=new we(this),this.S=this,this.J=null}function Fe(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new q(t,e);else if(t instanceof q)t.target=t.target||e;else{var i=t;t=new q(r,e),Ae(t,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ue(o,r,!0,t)&&i}if(o=t.g=e,i=Ue(o,r,!0,t)&&i,i=Ue(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)o=t.g=n[a],i=Ue(o,r,!1,t)&&i}function Ue(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&ke(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}M(Me,F),Me.prototype[fe]=!0,Me.prototype.removeEventListener=function(e,t,n,r){Ce(this,e,t,n,r)},Me.prototype.N=function(){if(Me.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ve(n[r]);delete t.g[e],t.h--}}this.J=null},Me.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Me.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ve=I.JSON.stringify,je=function(){function e(t,n){(0,c.A)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,l.A)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}])}();function Be(){var e=Ye,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qe=function(){function e(){(0,c.A)(this,e),this.h=this.g=null}return(0,l.A)(e,[{key:"add",value:function(e,t){var n=ze.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}])}(),ze=new je((function(){return new Ke}),(function(e){return e.reset()})),Ke=function(){function e(){(0,c.A)(this,e),this.next=this.g=this.h=null}return(0,l.A)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}])}();function Ge(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function He(e){I.setTimeout((function(){throw e}),0)}var We,Qe=!1,Ye=new qe,$e=function(){var e=I.Promise.resolve(void 0);We=function(){e.then(Xe)}},Xe=function(){for(var e;e=Be();){try{e.h.call(e.g)}catch(n){He(n)}var t=ze;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qe=!1};function Je(e,t){Me.call(this),this.h=e||1,this.g=t||I,this.j=P(this.qb,this),this.l=Date.now()}function Ze(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function et(e,t,n){if("function"===typeof e)n&&(e=P(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=P(e.handleEvent,e)}return 2147483647<Number(t)?-1:I.setTimeout(e,t||0)}function tt(e){e.g=et((function(){e.g=null,e.i&&(e.i=!1,tt(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}M(Je,Me),r=Je.prototype,r.ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fe(this,"tick"),this.ga&&(Ze(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Je.$.N.call(this),Ze(this),delete this.g};var nt=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t),r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:tt(this)}},{key:"N",value:function(){(0,h.A)((0,d.A)(t.prototype),"N",this).call(this),this.g&&(I.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}])}(F);function rt(e){F.call(this),this.h=e,this.g={}}M(rt,F);var it=[];function at(e,t,n,r){Array.isArray(n)||(n&&(it[0]=n.toString()),n=it);for(var i=0;i<n.length;i++){var a=Ee(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ot(e){pe(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Oe(e)}),e),e.g={}}function ut(){this.g=!0}function st(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}function ct(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}function lt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+ht(e,n)+(r?" "+r:"")}))}function ft(e,t){e.info((function(){return"TIMEOUT: "+t}))}function ht(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ve(n)}catch(u){return t}}rt.prototype.N=function(){rt.$.N.call(this),ot(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ut.prototype.Ea=function(){this.g=!1},ut.prototype.info=function(){};var dt={},vt=null;function pt(){return vt=vt||new Me}function yt(e){q.call(this,dt.Ta,e)}function gt(e){var t=pt();Fe(t,new yt(t))}function mt(e,t){q.call(this,dt.STAT_EVENT,e),this.stat=t}function At(e){var t=pt();Fe(t,new mt(t,e))}function wt(e,t){q.call(this,dt.Ua,e),this.size=t}function kt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return I.setTimeout((function(){e()}),t)}dt.Ta="serverreachability",M(yt,q),dt.STAT_EVENT="statevent",M(mt,q),dt.Ua="timingevent",M(wt,q);var bt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_t={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xt(){}function Et(e){return e.h||(e.h=e.i())}function It(){}xt.prototype.h=null;var Tt,St={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ct(){q.call(this,"d")}function Ot(){q.call(this,"c")}function Rt(){}function Nt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new rt(this),this.P=Pt,e=ee?125:void 0,this.V=new Je(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Dt}function Dt(){this.i=null,this.g="",this.h=!1}M(Ct,q),M(Ot,q),M(Rt,xt),Rt.prototype.g=function(){return new XMLHttpRequest},Rt.prototype.i=function(){return{}},Tt=new Rt;var Pt=45e3,Lt={},Mt={};function Ft(e,t,n){e.L=1,e.A=on(en(t)),e.u=n,e.S=!0,Ut(e,null)}function Ut(e,t){e.G=Date.now(),qt(e),e.B=en(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),An(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Dt,e.g=xr(e.l,n?t:null,!e.u),0<e.O&&(e.M=new nt(P(e.Pa,e,e.g),e.O)),at(e.U,e.g,"readystatechange",e.nb),t=e.I?ge(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),gt(),st(e.j,e.v,e.B,e.m,e.W,e.u)}function Vt(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function jt(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if(r=Bt(e,n),r==Mt){4==t&&(e.s=4,At(14),i=!1),lt(e.j,e.m,null,"[Incomplete Response]");break}if(r==Lt){e.s=4,At(15),lt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}lt(e.j,e.m,r,null),Wt(e,r)}Vt(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,At(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yr(t),t.M=!0,At(11))):(lt(e.j,e.m,n,"[Invalid Chunked Response]"),Ht(e),Gt(e))}function Bt(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Mt:(n=Number(t.substring(n,r)),isNaN(n)?Lt:(r+=1,r+n>t.length?Mt:(t=t.slice(r,r+n),e.o=r+n,t)))}function qt(e){e.Y=Date.now()+e.P,zt(e,e.P)}function zt(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=kt(P(e.lb,e),t)}function Kt(e){e.C&&(I.clearTimeout(e.C),e.C=null)}function Gt(e){0==e.l.H||e.J||Ar(e.l,e)}function Ht(e){Kt(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ze(e.V),ot(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Wt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Tn(n.i,e)))if(!e.K&&Tn(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;mr(n),ur(n)}pr(n),At(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=kt(P(n.ib,n),6e3));if(1>=In(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else kr(n,11)}else if((e.K||n.g==e)&&mr(n),!K(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Sn(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,an(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var d=e;if(r.wa=_r(r,r.J?r.pa:null,r.Y),d.K){Cn(r.i,d);var v=d,p=r.L;p&&v.setTimeout(p),v.C&&(Kt(v),qt(v)),r.g=d}else vr(r);0<n.j.length&&cr(n)}else"stop"!=a[0]&&"close"!=a[0]||kr(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?kr(n,7):or(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}gt(4)}catch(a){}}function Qt(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(T(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Yt(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(T(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}function $t(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(T(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=Yt(e),r=Qt(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}r=Nt.prototype,r.setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;var t=this.M;t&&3==Zn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{var t=Zn(this.g),n=this.g.Ia(),r=this.g.da();if(!(3>t)&&(3!=t||ee||this.g&&(this.h.h||this.g.ja()||er(this.g)))){this.J||4!=t||7==n||gt(8==n||0>=r?3:2),Kt(this);var i=this.g.da();this.ca=i;t:if(Vt(this)){var a=er(this.g);e="";var o=a.length,u=4==Zn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ht(this),Gt(this);var s="";break t}this.h.i=new I.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==i,ct(this.j,this.v,this.B,this.m,this.W,t,i),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.s=3,At(12),Ht(this),Gt(this);break e}lt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wt(this,i)}this.S?(jt(this,t,s),ee&&this.i&&3==t&&(at(this.U,this.V,"tick",this.mb),this.V.start())):(lt(this.j,this.m,s,null),Wt(this,s)),4==t&&Ht(this),this.i&&!this.J&&(4==t?Ar(this.l,this):(this.i=!1,qt(this)))}else tr(this.g),400==i&&0<s.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Ht(this),Gt(this)}}}catch(t){}},r.mb=function(){if(this.g){var e=Zn(this.g),t=this.g.ja();this.o<t.length&&(Kt(this),jt(this,e,t),this.i&&4!=e&&qt(this))}},r.cancel=function(){this.J=!0,Ht(this)},r.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(ft(this.j,this.B),2!=this.L&&(gt(),At(17)),Ht(this),this.s=2,Gt(this)):zt(this,this.Y-e)};var Xt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zt(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Zt){this.h=e.h,tn(this,e.j),this.s=e.s,this.g=e.g,nn(this,e.m),this.l=e.l;var t=e.i,n=new pn;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),rn(this,n),this.o=e.o}else e&&(t=String(e).match(Xt))?(this.h=!1,tn(this,t[1]||"",!0),this.s=un(t[2]||""),this.g=un(t[3]||"",!0),nn(this,t[4]),this.l=un(t[5]||"",!0),rn(this,t[6]||"",!0),this.o=un(t[7]||"")):(this.h=!1,this.i=new pn(null,this.h))}function en(e){return new Zt(e)}function tn(e,t,n){e.j=n?un(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rn(e,t,n){t instanceof pn?(e.i=t,kn(e.i,e.h)):(n||(t=sn(t,dn)),e.i=new pn(t,e.h))}function an(e,t,n){e.i.set(t,n)}function on(e){return an(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function un(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cn(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Zt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sn(t,ln,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(sn(t,ln,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(sn(n,"/"==n.charAt(0)?hn:fn,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",sn(n,vn)),e.join("")};var ln=/[#\/\?@]/g,fn=/[#\?:]/g,hn=/[#\?]/g,dn=/[#\?@]/g,vn=/#/g;function pn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yn(e){e.g||(e.g=new Map,e.h=0,e.i&&Jt(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gn(e,t){yn(e),t=wn(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g["delete"](t))}function mn(e,t){return yn(e),t=wn(e,t),e.g.has(t)}function An(e,t,n){gn(e,t),0<n.length&&(e.i=null,e.g.set(wn(e,t),j(n)),e.h+=n.length)}function wn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kn(e,t){t&&!e.j&&(yn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gn(this,t),An(this,n,e))}),e)),e.j=t}r=pn.prototype,r.add=function(e,t){yn(this),this.i=null,e=wn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){yn(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.ta=function(){yn(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.Z=function(e){yn(this);var t=[];if("string"===typeof e)mn(this,e)&&(t=t.concat(this.g.get(wn(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return yn(this),this.i=null,e=wn(this,e),mn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var bn=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.g=t,this.map=n}));function _n(e){this.l=e||xn,I.PerformanceNavigationTiming?(e=I.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(I.g&&I.g.Ka&&I.g.Ka()&&I.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xn=10;function En(e){return!!e.h||!!e.g&&e.g.size>=e.j}function In(e){return e.h?1:e.g?e.g.size:0}function Tn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Sn(e,t){e.g?e.g.add(t):e.h=t}function Cn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g["delete"](t)}function On(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,u.A)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return j(e.i)}_n.prototype.cancel=function(){if(this.i=On(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,u.A)(this.g.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.cancel()}}catch(r){t.e(r)}finally{t.f()}this.g.clear()}};var Rn=function(){function e(){(0,c.A)(this,e)}return(0,l.A)(e,[{key:"stringify",value:function(e){return I.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return I.JSON.parse(e,void 0)}}])}();function Nn(){this.g=new Rn}function Dn(e,t,n){var r=n||"";try{$t(e,(function(e,n){var i=e;S(e)&&(i=Ve(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pn(e,t){var n=new ut;if(I.Image){var r=new Image;r.onload=L(Ln,n,r,"TestLoadImage: loaded",!0,t),r.onerror=L(Ln,n,r,"TestLoadImage: error",!1,t),r.onabort=L(Ln,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=L(Ln,n,r,"TestLoadImage: timeout",!1,t),I.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function Ln(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Mn(e){this.l=e.ec||null,this.j=e.ob||!1}function Fn(e,t){Me.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Un,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}M(Mn,xt),Mn.prototype.g=function(){return new Fn(this.l,this.j)},Mn.prototype.i=function(e){return function(){return e}}({}),M(Fn,Me);var Un=0;function Vn(e){e.j.read().then(e.Xa.bind(e))["catch"](e.ka.bind(e))}function jn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bn(e)}function Bn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}r=Fn.prototype,r.open=function(e,t){if(this.readyState!=Un)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||I).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.")["catch"]((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jn(this)),this.readyState=Un},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof I.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vn(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jn(this):Bn(this),3==this.readyState&&Vn(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,jn(this))},r.Ya=function(e){this.g&&(this.response=e,jn(this))},r.ka=function(){this.g&&jn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qn=I.JSON.parse;function zn(e){Me.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Kn,this.L=this.M=!1}M(zn,Me);var Kn="",Gn=/^https?$/i,Hn=["POST","PUT"];function Wn(e){return J&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Qn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Yn(e),Xn(e)}function Yn(e){e.F||(e.F=!0,Fe(e,"complete"),Fe(e,"error"))}function $n(e){if(e.h&&"undefined"!=typeof E&&(!e.C[1]||4!=Zn(e)||2!=e.da()))if(e.v&&4==Zn(e))et(e.La,0,e);else if(Fe(e,"readystatechange"),4==Zn(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Xt)[1]||null;!a&&I.self&&I.self.location&&(a=I.self.location.protocol.slice(0,-1)),i=!Gn.test(a?a.toLowerCase():"")}t=i}if(t)Fe(e,"complete"),Fe(e,"success");else{e.m=6;try{var o=2<Zn(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",Yn(e)}}finally{Xn(e)}}}function Xn(e,t){if(e.g){Jn(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Fe(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Jn(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(I.clearTimeout(e.A),e.A=null)}function Zn(e){return e.g?e.g.readyState:0}function er(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Kn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(fi){return null}}function tr(e){var t={};e=(e.g&&2<=Zn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!K(e[n])){var r=Ge(e[n]),i=r[0];if(r=r[1],"string"===typeof r){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}ye(t,(function(e){return e.join(", ")}))}function nr(e){var t="";return pe(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function rr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nr(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):an(e,t,n))}function ir(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ar(e){this.Ga=0,this.j=[],this.l=new ut,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ir("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ir("baseRetryDelayMs",5e3,e),this.hb=ir("retryDelaySeedMs",1e4,e),this.eb=ir("forwardChannelMaxRetries",2,e),this.xa=ir("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new _n(e&&e.concurrentRequestLimit),this.Ja=new Nn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function or(e){if(sr(e),3==e.H){var t=e.W++,n=en(e.I);if(an(n,"SID",e.K),an(n,"RID",t),an(n,"TYPE","terminate"),hr(e,n),t=new Nt(e,e.l,t),t.L=2,t.A=on(en(n)),n=!1,I.navigator&&I.navigator.sendBeacon)try{n=I.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&I.Image&&((new Image).src=t.A,n=!0),n||(t.g=xr(t.l,null),t.g.ha(t.A)),t.G=Date.now(),qt(t)}br(e)}function ur(e){e.g&&(yr(e),e.g.cancel(),e.g=null)}function sr(e){ur(e),e.u&&(I.clearTimeout(e.u),e.u=null),mr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&I.clearTimeout(e.m),e.m=null)}function cr(e){if(!En(e.i)&&!e.m){e.m=!0;var t=e.Na;We||$e(),Qe||(We(),Qe=!0),Ye.add(t,e),e.C=0}}function lr(e,t){return!(In(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=kt(P(e.Na,e,t),wr(e,e.C)),e.C++,!0))}function fr(e,t){var n;n=t?t.m:e.W++;var r=en(e.I);an(r,"SID",e.K),an(r,"RID",n),an(r,"AID",e.V),hr(e,r),e.o&&e.s&&rr(r,e.o,e.s),n=new Nt(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=dr(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Sn(e.i,n),Ft(n,r,t)}function hr(e,t){e.na&&pe(e.na,(function(e,n){an(t,n,e)})),e.h&&$t({},(function(e,n){an(t,n,e)}))}function dr(e,t,n){n=Math.min(e.j.length,n);var r=e.h?P(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(c-=a,0>c)a=Math.max(0,i[s].g-100),u=!1;else try{Dn(l,o,"req"+c+"_")}catch(Oa){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function vr(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;We||$e(),Qe||(We(),Qe=!0),Ye.add(t,e),e.A=0}}function pr(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=kt(P(e.Ma,e),wr(e,e.A)),e.A++,!0)}function yr(e){null!=e.B&&(I.clearTimeout(e.B),e.B=null)}function gr(e){e.g=new Nt(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=en(e.wa);an(t,"RID","rpc"),an(t,"SID",e.K),an(t,"AID",e.V),an(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&an(t,"TO",e.qa),an(t,"TYPE","xmlhttp"),hr(e,t),e.o&&e.s&&rr(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=on(en(t)),n.u=null,n.S=!0,Ut(n,e)}function mr(e){null!=e.v&&(I.clearTimeout(e.v),e.v=null)}function Ar(e,t){var n=null;if(e.g==t){mr(e),yr(e),e.g=null;var r=2}else{if(!Tn(e.i,t))return;n=t.F,Cn(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=pt(),Fe(r,new wt(r,n)),cr(e)}else vr(e);else if(i=t.s,3==i||0==i&&0<t.ca||!(1==r&&lr(e,t)||2==r&&pr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:kr(e,5);break;case 4:kr(e,10);break;case 3:kr(e,6);break;default:kr(e,2)}}function wr(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function kr(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=P(e.pb,e);n||(n=new Zt("//www.google.com/images/cleardot.gif"),I.location&&"http"==I.location.protocol||tn(n,"https"),on(n)),Pn(n.toString(),r)}else At(2);e.H=0,e.h&&e.h.za(t),br(e),sr(e)}function br(e){if(e.H=0,e.ma=[],e.h){var t=On(e.i);0==t.length&&0==e.j.length||(B(e.ma,t),B(e.ma,e.j),e.i.i.length=0,j(e.j),e.j.length=0),e.h.ya()}}function _r(e,t,n){var r=n instanceof Zt?en(n):new Zt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nn(r,r.m);else{var i=I.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Zt(null);r&&tn(a,r),t&&(a.g=t),i&&nn(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&an(r,n,t),an(r,"VER",e.ra),hr(e,r),r}function xr(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new zn(new Mn({ob:n})):new zn(e.va),t.Oa(e.J),t}function Er(){}function Ir(){if(J&&!(10<=Number(se)))throw Error("Environmental error: no available transport.")}function Tr(e,t){Me.call(this),this.g=new ar(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!K(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!K(t)&&(this.g.F=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Or(this)}function Sr(e){Ct.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cr(){Ot.call(this),this.status=1}function Or(e){this.g=e}function Rr(){this.blockSize=-1}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Dr(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Pr(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}r=zn.prototype,r.Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Tt.g(),this.C=this.u?Et(this.u):Et(Tt),this.g.onreadystatechange=P(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Qn(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=(0,u.A)(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=I.FormData&&e instanceof I.FormData,!(0<=V(Hn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=(0,u.A)(n);try{for(l.s();!(c=l.n()).done;){var f=(0,v.A)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jn(this),0<this.B&&((this.L=Wn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=P(this.ua,this)):this.A=et(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Qn(this,s)}},r.ua=function(){"undefined"!=typeof E&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fe(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fe(this,"complete"),Fe(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xn(this,!0)),zn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?$n(this):this.kb())},r.kb=function(){$n(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<Zn(this)?this.g.status:-1}catch(e){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},r=ar.prototype,r.ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Nt(this,this.l,e),n=this.s;if(this.U&&(n?(n=ge(n),Ae(n,this.U)):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(a="__data__"in a.map&&(a=a.map.__data__,"string"===typeof a)?a.length:void 0,void 0===a)break;if(r+=a,4096<r){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=dr(this,t,r),i=en(this.I),an(i,"RID",e),an(i,"CVER",22),this.F&&an(i,"X-HTTP-Session-Id",this.F),hr(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(nr(n)))+"&"+r:this.o&&rr(i,this.o,n)),Sn(this.i,t),this.bb&&an(i,"TYPE","init"),this.P?(an(i,"$req",r),an(i,"SID","null"),t.aa=!0,Ft(t,i,null)):Ft(t,i,r),this.H=2}}else 3==this.H&&(e?fr(this,e):0==this.j.length||En(this.i)||fr(this))},r.Ma=function(){if(this.u=null,gr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=kt(P(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,At(10),ur(this),gr(this))},r.ib=function(){null!=this.v&&(this.v=null,ur(this),pr(this),At(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),At(2)):(this.l.info("Failed to ping google.com"),At(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},r=Er.prototype,r.Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},Ir.prototype.g=function(e,t){return new Tr(e,t)},M(Tr,Me),Tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;At(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=_r(e,null,e.Y),cr(e)},Tr.prototype.close=function(){or(this.g)},Tr.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ve(e),e=n);t.j.push(new bn(t.fb++,e)),3==t.H&&cr(t)},Tr.prototype.N=function(){this.g.h=null,delete this.j,or(this.g),delete this.g,Tr.$.N.call(this)},M(Sr,Ct),M(Cr,Ot),M(Or,Er),Or.prototype.Ba=function(){Fe(this.g,"a")},Or.prototype.Aa=function(e){Fe(this.g,new Sr(e))},Or.prototype.za=function(e){Fe(this.g,new Cr)},Or.prototype.ya=function(){Fe(this.g,"b")},M(Nr,Rr),Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Nr.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Dr(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Dr(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Dr(this,r),i=0;break}}this.h=i,this.i+=t},Nr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Lr={};function Mr(e){return-128<=e&&128>e?Q(e,(function(e){return new Pr([0|e],0>e?-1:0)})):new Pr([0|e],0>e?-1:0)}function Fr(e){if(isNaN(e)||!isFinite(e))return jr;if(0>e)return Gr(Fr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Vr;return new Pr(t,0)}function Ur(e,t){if(0==e.length)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return Gr(Ur(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fr(Math.pow(t,8)),r=jr,i=0;i<e.length;i+=8){var a=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+a),t);8>a?(a=Fr(Math.pow(t,a)),r=r.R(a).add(Fr(o))):(r=r.R(n),r=r.add(Fr(o)))}return r}var Vr=4294967296,jr=Mr(0),Br=Mr(1),qr=Mr(16777216);function zr(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Kr(e){return-1==e.h}function Gr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Pr(n,~e.h).add(Br)}function Hr(e,t){return e.add(Gr(t))}function Wr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qr(e,t){this.g=e,this.h=t}function Yr(e,t){if(zr(t))throw Error("division by zero");if(zr(e))return new Qr(jr,jr);if(Kr(e))return t=Yr(Gr(e),t),new Qr(Gr(t.g),Gr(t.h));if(Kr(t))return t=Yr(e,Gr(t)),new Qr(Gr(t.g),t.h);if(30<e.g.length){if(Kr(e)||Kr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Br,r=t;0>=r.X(e);)n=$r(n),r=$r(r);var i=Xr(n,1),a=Xr(r,1);for(r=Xr(r,2),n=Xr(n,2);!zr(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Xr(r,1),n=Xr(n,1)}return t=Hr(e,i.R(t)),new Qr(i,t)}for(i=jr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),a=Fr(n),o=a.R(t);Kr(o)||0<o.X(e);)n-=r,a=Fr(n),o=a.R(t);zr(a)&&(a=Br),i=i.add(a),e=Hr(e,o)}return new Qr(i,e)}function $r(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Pr(n,e.h)}function Xr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Pr(i,e.h)}r=Pr.prototype,r.ea=function(){if(Kr(this))return-Gr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Vr+r)*t,t*=Vr}return e},r.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(zr(this))return"0";if(Kr(this))return"-"+Gr(this).toString(e);for(var t=Fr(Math.pow(e,6)),n=this,r="";;){var i=Yr(n,t).g;n=Hr(n,i.R(t));var a=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,zr(n))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return e=Hr(this,e),Kr(e)?-1:zr(e)?0:1},r.abs=function(){return Kr(this)?Gr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Pr(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(zr(this)||zr(e))return jr;if(Kr(this))return Kr(e)?Gr(this).R(Gr(e)):Gr(Gr(this).R(e));if(Kr(e))return Gr(this.R(Gr(e)));if(0>this.X(qr)&&0>e.X(qr))return Fr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Wr(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Wr(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Wr(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Wr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Pr(n,0)},r.gb=function(e){return Yr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Pr(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Pr(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Pr(n,this.h^e.h)},Ir.prototype.createWebChannel=Ir.prototype.g,Tr.prototype.send=Tr.prototype.u,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,_t.COMPLETE="complete",It.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Me.prototype.listen=Me.prototype.O,zn.prototype.listenOnce=zn.prototype.P,zn.prototype.getLastError=zn.prototype.Sa,zn.prototype.getLastErrorCode=zn.prototype.Ia,zn.prototype.getStatus=zn.prototype.da,zn.prototype.getResponseJson=zn.prototype.Wa,zn.prototype.getResponseText=zn.prototype.ja,zn.prototype.send=zn.prototype.ha,zn.prototype.setWithCredentials=zn.prototype.Oa,Nr.prototype.digest=Nr.prototype.l,Nr.prototype.reset=Nr.prototype.reset,Nr.prototype.update=Nr.prototype.j,Pr.prototype.add=Pr.prototype.add,Pr.prototype.multiply=Pr.prototype.R,Pr.prototype.modulo=Pr.prototype.gb,Pr.prototype.compare=Pr.prototype.X,Pr.prototype.toNumber=Pr.prototype.ea,Pr.prototype.toString=Pr.prototype.toString,Pr.prototype.getBits=Pr.prototype.D,Pr.fromNumber=Fr,Pr.fromString=Ur;var Jr=x.createWebChannelTransport=function(){return new Ir},Zr=x.getStatEventTarget=function(){return pt()},ei=x.ErrorCode=bt,ti=x.EventType=_t,ni=x.Event=dt,ri=x.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ii=(x.FetchXmlHttpFactory=Mn,x.WebChannel=It),ai=x.XhrIo=zn,oi=x.Md5=Nr,ui=x.Integer=Pr,si="@firebase/firestore",ci=function(){function e(t){(0,c.A)(this,e),this.uid=t}return(0,l.A)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}])}();ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var li="10.11.0",fi=new k.Vy("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return fi.logLevel}function di(e){fi.setLogLevel(e)}function vi(e){if(fi.logLevel<=k.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gi);fi.debug.apply(fi,["Firestore (".concat(li,"): ").concat(e)].concat((0,m.A)(i)))}}function pi(e){if(fi.logLevel<=k.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gi);fi.error.apply(fi,["Firestore (".concat(li,"): ").concat(e)].concat((0,m.A)(i)))}}function yi(e){if(fi.logLevel<=k.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gi);fi.warn.apply(fi,["Firestore (".concat(li,"): ").concat(e)].concat((0,m.A)(i)))}}function gi(e){if("string"==typeof e)return e;try{
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(li,") INTERNAL ASSERTION FAILED: ")+e;throw pi(t),new Error(t)}function Ai(e,t){e||mi()}function wi(e,t){e||mi()}function ki(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_i=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[e,n]),r.code=e,r.message=n,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return(0,o.A)(t,e),(0,l.A)(t)}(b.g),xi=(0,l.A)((function e(){var t=this;(0,c.A)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ei=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ii=function(){function e(){(0,c.A)(this,e)}return(0,l.A)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ci.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}])}(),Ti=function(){function e(t){(0,c.A)(this,e),this.token=t,this.changeListener=null}return(0,l.A)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}])}(),Si=function(){function e(t){(0,c.A)(this,e),this.t=t,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,l.A)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new xi;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new xi,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){vi("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(vi("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xi)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(vi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ai("string"==typeof n.accessToken),new Ei(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ai(null===e||"string"==typeof e),new ci(e)}}])}(),Ci=function(){function e(t,n,r){(0,c.A)(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.I=new Map}return(0,l.A)(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}])}(),Oi=function(){function e(t,n,r){(0,c.A)(this,e),this.l=t,this.h=n,this.P=r}return(0,l.A)(e,[{key:"getToken",value:function(){return Promise.resolve(new Ci(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ci.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}])}(),Ri=(0,l.A)((function e(t){(0,c.A)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ni=function(){function e(t){(0,c.A)(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return(0,l.A)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&vi("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,vi("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){vi("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):vi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ai("string"==typeof t.token),e.R=t.token,new Ri(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Di(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi=function(){function e(){(0,c.A)(this,e)}return(0,l.A)(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Di(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}])}();function Li(e,t){return e<t?-1:e>t?1:0}function Mi(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fi(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ui=function(){function e(t,n){if((0,c.A)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new _i(bi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _i(bi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new _i(bi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _i(bi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,l.A)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Li(this.nanoseconds,e.nanoseconds):Li(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new e(n,r)}}])}(),Vi=function(){function e(t){(0,c.A)(this,e),this.timestamp=t}return(0,l.A)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ui(0,0))}},{key:"max",value:function(){return new e(new Ui(253402300799,999999999))}}])}(),ji=function(){function e(t,n,r){(0,c.A)(this,e),void 0===n?n=0:n>t.length&&mi(),void 0===r?r=t.length-n:r>t.length-n&&mi(),this.segments=t,this.offset=n,this.len=r}return(0,l.A)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}])}(),Bi=function(e){function t(){return(0,c.A)(this,t),(0,a.A)(this,t,arguments)}return(0,o.A)(t,e),(0,l.A)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new _i(bi.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,m.A)(u.split("/").filter((function(e){return e.length>0}))))}return new t(e)}},{key:"emptyPath",value:function(){return new t([])}}])}(ji),qi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zi=function(e){function t(){return(0,c.A)(this,t),(0,a.A)(this,t,arguments)}return(0,o.A)(t,e),(0,l.A)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return qi.test(e)}},{key:"keyField",value:function(){return new t(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new _i(bi.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new _i(bi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new _i(bi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new _i(bi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}},{key:"emptyPath",value:function(){return new t([])}}])}(ji),Ki=function(){function e(t){(0,c.A)(this,e),this.path=t}return(0,l.A)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Bi.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Bi.fromString(t))}},{key:"fromName",value:function(t){return new e(Bi.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Bi.emptyPath())}},{key:"comparator",value:function(e,t){return Bi.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Bi(t.slice()))}}])}(),Gi=(0,l.A)((function e(t,n,r,i){(0,c.A)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e){return e.fields.find((function(e){return 2===e.kind}))}function Wi(e){return e.fields.filter((function(e){return 2!==e.kind}))}Gi.UNKNOWN_ID=-1;var Qi=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.fieldPath=t,this.kind=n}));var Yi=function(){function e(t,n){(0,c.A)(this,e),this.sequenceNumber=t,this.offset=n}return(0,l.A)(e,null,[{key:"empty",value:function(){return new e(0,Ji.min())}}])}();function $i(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vi.fromTimestamp(1e9===r?new Ui(n+1,0):new Ui(n,r));return new Ji(i,Ki.empty(),t)}function Xi(e){return new Ji(e.readTime,e.key,-1)}var Ji=function(){function e(t,n,r){(0,c.A)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,l.A)(e,null,[{key:"min",value:function(){return new e(Vi.min(),Ki.empty(),-1)}},{key:"max",value:function(){return new e(Vi.max(),Ki.empty(),-1)}}])}();function Zi(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ki.comparator(e.documentKey,t.documentKey),0!==n?n:Li(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}var ea="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ta=function(){function e(){(0,c.A)(this,e),this.onCommittedListeners=[]}return(0,l.A)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}])}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function na(e){return ra.apply(this,arguments)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return ra=(0,g.A)((0,y.A)().mark((function e(t){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.code===bi.FAILED_PRECONDITION&&t.message===ea){e.next=2;break}throw t;case 2:vi("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}var ia=function(){function e(t){var n=this;(0,c.A)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,l.A)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&mi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,u.A)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o,o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){var i=function i(){!0===t()?n().next((function(){i()}),r):e()};i()}))}}])}(),aa=function(){function e(t,n){var r=this;(0,c.A)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new xi,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new sa(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=da(e.target.error);r.V.reject(new sa(t,n))}}return(0,l.A)(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(vi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new la(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new sa(n,t)}}}])}(),oa=function(){function e(t,n,r){(0,c.A)(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S((0,b.ZQ)())&&pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,l.A)(e,[{key:"O",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(t){var n=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return vi("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new sa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new _i(bi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new _i(bi.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new sa(t,n))},i.onupgradeneeded=function(e){vi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){vi("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"B",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n,r,i){var a,o,u,s,c=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=(0,y.A)().mark((function e(){var n,u,s,l;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=aa.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.g(),e}))["catch"]((function(e){return n.abort(e),ia.reject(e)})).toPromise(),u["catch"]((function(){})),e.next=9,n.m;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e["catch"](1),s=e.t1,l="FirebaseError"!==s.name&&o<3,vi("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(s=e.t0,!s){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return vi("SimpleDb","Removing database:",e),fa(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!(0,b.zW)())return!1;if(e.C())return!0;var t=(0,b.ZQ)(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}])}(),ua=function(){function e(t){(0,c.A)(this,e),this.k=t,this.q=!1,this.K=null}return(0,l.A)(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return fa(this.k["delete"]())}}])}(),sa=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[bi.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(n)]),r.name="IndexedDbTransactionError",r}return(0,o.A)(t,e),(0,l.A)(t)}(_i);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(e){return"IndexedDbTransactionError"===e.name}var la=function(){function e(t){(0,c.A)(this,e),this.store=t}return(0,l.A)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(vi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(vi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fa(n)}},{key:"add",value:function(e){return vi("SimpleDb","ADD",this.store.name,e,e),fa(this.store.add(e))}},{key:"get",value:function(e){var t=this;return fa(this.store.get(e)).next((function(n){return void 0===n&&(n=null),vi("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return vi("SimpleDb","DELETE",this.store.name,e),fa(this.store["delete"](e))}},{key:"count",value:function(){return vi("SimpleDb","COUNT",this.store.name),fa(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){var i=r.getAll(n.range);return new ia((function(e,t){i.onerror=function(e){t(e.target.error)},i.onsuccess=function(t){e(t.target.result)}}))}var a=this.cursor(n),o=[];return this.G(a,(function(e,t){o.push(t)})).next((function(){return o}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ia((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){vi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n["delete"]()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new ia((function(n,r){t.onerror=function(e){var t=da(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r["continue"]():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new ia((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ua(i),o=t(i.primaryKey,i.value,a);if(o instanceof ia){var u=o["catch"]((function(e){return a.done(),ia.reject(e)}));n.push(u)}a.isDone?r():null===a.$?i["continue"]():i["continue"](a.$)}else r()}})).next((function(){return ia.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}])}();function fa(e){return new ia((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=da(e.target.error);n(t)}}))}var ha=!1;function da(e){var t=oa.S((0,b.ZQ)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new _i("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ha||(ha=!0,setTimeout((function(){throw r}),0)),r}}return e}var va=function(){function e(t,n){(0,c.A)(this,e),this.asyncQueue=t,this.X=n,this.task=null}return(0,l.A)(e,[{key:"start",value:function(){this.ee(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"ee",value:function(e){var t=this;vi("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=vi,e.t1="Documents written: ",e.next=6,t.X.te();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackfiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e["catch"](1),!ca(e.t4)){e.next=17;break}vi("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,na(e.t4);case 19:return e.next=21,t.ee(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}])}(),pa=function(){function e(t,n){(0,c.A)(this,e),this.localStore=t,this.persistence=n}return(0,l.A)(e,[{key:"te",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t,n=this,r=arguments;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.ne(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ne",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ia.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return vi("IndexBackfiller","Processing collection: ".concat(t)),n.re(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"re",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ie(i,n)})).next((function(n){return vi("IndexBackfiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ie",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Xi(t);Zi(r,n)>0&&(n=r)})),new Ji(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}])}(),ya=function(){function e(t,n){var r=this;(0,c.A)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return(0,l.A)(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}])}();function ga(e){return null==e}function ma(e){return 0===e&&1/e==-1/0}function Aa(e){return"number"==typeof e&&Number.isInteger(e)&&!ma(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ba(t)),t=ka(e.get(n),t);return ba(t)}function ka(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function ba(e){return e+""}function _a(e){var t=e.length;if(Ai(t>=2),2===t)return Ai(""===e.charAt(0)&&""===e.charAt(1)),Bi.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("",a);switch((o<0||o>n)&&mi(),e.charAt(o+1)){case"":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(i+=u,s=i,i=""),r.push(s);break;case"":i+=e.substring(a,o),i+="\0";break;case"":i+=e.substring(a,o+1);break;default:mi()}a=o+2}return new Bi(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ya._e=-1;var xa=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(e,t){return[e,wa(t)]}function Ia(e,t,n){return[e,wa(t),n]}var Ta={},Sa=["prefixPath","collectionGroup","readTime","documentId"],Ca=["prefixPath","collectionGroup","documentId"],Oa=["collectionGroup","readTime","prefixPath","documentId"],Ra=["canonicalId","targetId"],Na=["targetId","path"],Da=["path","targetId"],Pa=["collectionId","parent"],La=["indexId","uid"],Ma=["uid","sequenceNumber"],Fa=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ua=["indexId","uid","orderedDocumentKey"],Va=["userId","collectionPath","documentId"],ja=["userId","collectionPath","largestBatchId"],Ba=["userId","collectionGroup","largestBatchId"],qa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),za=[].concat((0,m.A)(qa),["documentOverlays"]),Ka=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ga=Ka,Ha=[].concat(Ga,["indexConfiguration","indexState","indexEntries"]),Wa=Ha,Qa=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t),r.ae=e,r.currentSequenceNumber=n,r}return(0,o.A)(t,e),(0,l.A)(t)}(ta);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(e,t){var n=ki(e);return oa.M(n.ae,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xa(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ja(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Za=function(){function e(t,n){(0,c.A)(this,e),this.comparator=t,this.root=n||to.EMPTY}return(0,l.A)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,to.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,to.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new eo(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new eo(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new eo(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new eo(this.root,e,this.comparator,!0)}}])}(),eo=function(){function e(t,n,r,i){(0,c.A)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,l.A)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}])}(),to=function(){function e(t,n,r,i,a){(0,c.A)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,l.A)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw mi();if(this.right.isRed())throw mi();var e=this.left.check();if(e!==this.right.check())throw mi();return e+(this.isRed()?0:1)}}])}();to.EMPTY=null,to.RED=!0,to.BLACK=!1,to.EMPTY=new(function(){function e(){(0,c.A)(this,e),this.size=0}return(0,l.A)(e,[{key:"key",get:function(){throw mi()}},{key:"value",get:function(){throw mi()}},{key:"color",get:function(){throw mi()}},{key:"left",get:function(){throw mi()}},{key:"right",get:function(){throw mi()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new to(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}])}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var no=function(){function e(t){(0,c.A)(this,e),this.comparator=t,this.data=new Za(this.comparator)}return(0,l.A)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ro(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ro(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}])}(),ro=function(){function e(t){(0,c.A)(this,e),this.iter=t}return(0,l.A)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}])}();function io(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao=function(){function e(t){(0,c.A)(this,e),this.fields=t,t.sort(zi.comparator)}return(0,l.A)(e,[{key:"unionWith",value:function(t){var n,r=new no(zi.comparator),i=(0,u.A)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=(0,u.A)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;r=r.add(c)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=(0,u.A)(this.fields);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.isPrefixOf(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Mi(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}])}(),oo=function(e){function t(){var e;return(0,c.A)(this,t),e=(0,a.A)(this,t,arguments),e.name="Base64DecodeError",e}return(0,o.A)(t,e),(0,l.A)(t)}((0,p.A)(Error));
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so=function(){function e(t){(0,c.A)(this,e),this.binaryString=t}return(0,l.A)(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Li(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oo("Invalid base64 string: "+e):e}}(t);return new e(n)}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}])}();so.EMPTY_BYTE_STRING=new so("");var co=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(e){if(Ai(!!e),"string"==typeof e){var t=0,n=co.exec(e);if(Ai(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fo(e.seconds),nanos:fo(e.nanos)}}function fo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ho(e){return"string"==typeof e?so.fromBase64String(e):so.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function po(e){var t=e.mapValue.fields.__previous_value__;return vo(t)?po(t):t}function yo(e){var t=lo(e.mapValue.fields.__local_write_time__.timestampValue);return new Ui(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var go=(0,l.A)((function e(t,n,r,i,a,o,u,s,l){(0,c.A)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=l})),mo=function(){function e(t,n){(0,c.A)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,l.A)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}])}(),Ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wo={nullValue:"NULL_VALUE"};function ko(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vo(e)?4:Lo(e)?9007199254740991:10:mi()}function bo(e,t){if(e===t)return!0;var n=ko(e);if(n!==ko(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yo(e).isEqual(yo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=lo(e.timestampValue),r=lo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ho(e.bytesValue).isEqual(ho(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fo(e.geoPointValue.latitude)===fo(t.geoPointValue.latitude)&&fo(e.geoPointValue.longitude)===fo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fo(e.integerValue)===fo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fo(e.doubleValue),r=fo(t.doubleValue);return n===r?ma(n)===ma(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Mi(e.arrayValue.values||[],t.arrayValue.values||[],bo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($a(n)!==$a(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bo(n[i],r[i])))return!1;return!0}(e,t);default:return mi()}}function _o(e,t){return void 0!==(e.values||[]).find((function(e){return bo(e,t)}))}function xo(e,t){if(e===t)return 0;var n=ko(e),r=ko(t);if(n!==r)return Li(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Li(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fo(e.integerValue||e.doubleValue),r=fo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Eo(e.timestampValue,t.timestampValue);case 4:return Eo(yo(e),yo(t));case 5:return Li(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ho(e),r=ho(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Li(n[i],r[i]);if(0!==a)return a}return Li(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Li(fo(e.latitude),fo(t.latitude));return 0!==n?n:Li(fo(e.longitude),fo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=xo(n[i],r[i]);if(a)return a}return Li(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ao.mapValue&&t===Ao.mapValue)return 0;if(e===Ao.mapValue)return 1;if(t===Ao.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Li(r[o],a[o]);if(0!==u)return u;var s=xo(n[r[o]],i[a[o]]);if(0!==s)return s}return Li(r.length,a.length)}(e.mapValue,t.mapValue);default:throw mi()}}function Eo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Li(e,t);var n=lo(e),r=lo(t),i=Li(n.seconds,r.seconds);return 0!==i?i:Li(n.nanos,r.nanos)}function Io(e){return To(e)}function To(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=lo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ho(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ki.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,u.A)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=To(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=(0,u.A)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(To(e.fields[o]))}}catch(s){a.e(s)}finally{a.f()}return r+"}"}(e.mapValue):mi()}function So(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Co(e){return!!e&&"integerValue"in e}function Oo(e){return!!e&&"arrayValue"in e}function Ro(e){return!!e&&"nullValue"in e}function No(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Do(e){return!!e&&"mapValue"in e}function Po(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==(0,s.A)(e.timestampValue))return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Xa(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Po(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Po(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Lo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Mo(e){return"nullValue"in e?wo:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?So(mo.empty(),Ki.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:mi()}function Fo(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?So(mo.empty(),Ki.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ao:mi()}function Uo(e,t){var n=xo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Vo(e,t){var n=xo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo=function(){function e(t){(0,c.A)(this,e),this.value=t}return(0,l.A)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Do(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Po(t)}},{key:"setAll",value:function(e){var t=this,n=zi.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Po(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Do(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return bo(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Do(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Xa(t,(function(t,n){return e[t]=n}));var r,i=(0,u.A)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Po(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}])}();function Bo(e){var t=[];return Xa(e.fields,(function(e,n){var r=new zi([e]);if(Do(n)){var i=Bo(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=(0,u.A)(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new ao(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var qo=function(){function e(t,n,r,i,a,o,u){(0,c.A)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return(0,l.A)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Vi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=jo.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=jo.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Vi.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vi.min(),Vi.min(),Vi.min(),jo.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Vi.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vi.min(),Vi.min(),jo.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vi.min(),Vi.min(),jo.empty(),2)}}])}(),zo=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.position=t,this.inclusive=n}));
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ki.comparator(Ki.fromName(o.referenceValue),n.key):xo(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Go(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!bo(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho=(0,l.A)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,c.A)(this,e),this.field=t,this.dir=n}));function Wo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo=(0,l.A)((function e(){(0,c.A)(this,e)})),Yo=function(e){function t(e,n,r){var i;return(0,c.A)(this,t),i=(0,a.A)(this,t),i.field=e,i.op=n,i.value=r,i}return(0,o.A)(t,e),(0,l.A)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xo(t,this.value)):null!==t&&ko(this.value)===ko(t)&&this.matchesComparison(xo(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mi()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new au(e,n,r):"array-contains"===n?new cu(e,r):"in"===n?new lu(e,r):"not-in"===n?new fu(e,r):"array-contains-any"===n?new hu(e,r):new t(e,n,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new ou(e,n):new uu(e,n)}}])}(Qo),$o=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t),r.filters=e,r.op=n,r.ue=null,r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"matches",value:function(e){return Xo(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,n){return new t(e,n)}}])}(Qo);function Xo(e){return"and"===e.op}function Jo(e){return"or"===e.op}function Zo(e){return eu(e)&&Xo(e)}function eu(e){var t,n=(0,u.A)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof $o)return!1}}catch(i){n.e(i)}finally{n.f()}return!0}function tu(e){if(e instanceof Yo)return e.field.canonicalString()+e.op.toString()+Io(e.value);if(Zo(e))return e.filters.map((function(e){return tu(e)})).join(",");var t=e.filters.map((function(e){return tu(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function nu(e,t){return e instanceof Yo?function(e,t){return t instanceof Yo&&e.op===t.op&&e.field.isEqual(t.field)&&bo(e.value,t.value)}(e,t):e instanceof $o?function(e,t){return t instanceof $o&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&nu(n,t.filters[r])}),!0)}(e,t):void mi()}function ru(e,t){var n=e.filters.concat(t);return $o.create(n,e.op)}function iu(e){return e instanceof Yo?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Io(e.value))}(e):e instanceof $o?function(e){return e.op.toString()+" {"+e.getFilters().map(iu).join(" ,")+"}"}(e):"Filter"}var au=function(e){function t(e,n,r){var i;return(0,c.A)(this,t),i=(0,a.A)(this,t,[e,n,r]),i.key=Ki.fromName(r.referenceValue),i}return(0,o.A)(t,e),(0,l.A)(t,[{key:"matches",value:function(e){var t=Ki.comparator(e.key,this.key);return this.matchesComparison(t)}}])}(Yo),ou=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[e,"in",n]),r.keys=su("in",n),r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}])}(Yo),uu=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[e,"not-in",n]),r.keys=su("not-in",n),r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}])}(Yo);function su(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ki.fromName(e.referenceValue)}))}var cu=function(e){function t(e,n){return(0,c.A)(this,t),(0,a.A)(this,t,[e,"array-contains",n])}return(0,o.A)(t,e),(0,l.A)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Oo(t)&&_o(t.arrayValue,this.value)}}])}(Yo),lu=function(e){function t(e,n){return(0,c.A)(this,t),(0,a.A)(this,t,[e,"in",n])}return(0,o.A)(t,e),(0,l.A)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&_o(this.value.arrayValue,t)}}])}(Yo),fu=function(e){function t(e,n){return(0,c.A)(this,t),(0,a.A)(this,t,[e,"not-in",n])}return(0,o.A)(t,e),(0,l.A)(t,[{key:"matches",value:function(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!_o(this.value.arrayValue,t)}}])}(Yo),hu=function(e){function t(e,n){return(0,c.A)(this,t),(0,a.A)(this,t,[e,"array-contains-any",n])}return(0,o.A)(t,e),(0,l.A)(t,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Oo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return _o(t.value.arrayValue,e)}))}}])}(Yo),du=(0,l.A)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,c.A)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ce=null}));function vu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new du(e,t,n,r,i,a,o)}function pu(e){var t=ki(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return tu(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ga(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Io(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Io(e)})).join(",")),t.ce=n}return t.ce}function yu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Wo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!nu(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Go(e.startAt,t.startAt)&&Go(e.endAt,t.endAt)}function gu(e){return Ki.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function mu(e,t){return e.filters.filter((function(e){return e instanceof Yo&&e.field.isEqual(t)}))}function Au(e,t,n){var r,i=wo,a=!0,o=(0,u.A)(mu(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=wo,l=!0;switch(s.op){case"<":case"<=":c=Mo(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,l=!1;break;case"!=":case"not-in":c=wo}Uo({value:i,inclusive:a},{value:c,inclusive:l})<0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];Uo({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function wu(e,t,n){var r,i=Ao,a=!0,o=(0,u.A)(mu(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=Ao,l=!0;switch(s.op){case">=":case">":c=Fo(s.value),l=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,l=!1;break;case"!=":case"not-in":c=Ao}Vo({value:i,inclusive:a},{value:c,inclusive:l})>0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];Vo({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ku=(0,l.A)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,c.A)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function bu(e,t,n,r,i,a,o,u){return new ku(e,t,n,r,i,a,o,u)}function _u(e){return new ku(e)}function xu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Eu(e){return null!==e.collectionGroup}function Iu(e){var t=ki(e);if(null===t.le){t.le=[];var n,r=new Set,i=(0,u.A)(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(c){i.e(c)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new no(zi.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new Ho(e,o))})),r.has(zi.keyField().canonicalString())||t.le.push(new Ho(zi.keyField(),o))}return t.le}function Tu(e){var t=ki(e);return t.he||(t.he=Su(t,Iu(e))),t.he}function Su(e,t){if("F"===e.limitType)return vu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Ho(e.field,t)}));var n=e.endAt?new zo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zo(e.startAt.position,e.startAt.inclusive):null;return vu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Cu(e,t){var n=e.filters.concat([t]);return new ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ou(e,t,n){return new ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ru(e,t){return yu(Tu(e),Tu(t))&&e.limitType===t.limitType}function Nu(e){return"".concat(pu(Tu(e)),"|lt:").concat(e.limitType)}function Du(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return iu(e)})).join(", "),"]")),ga(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Io(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Io(e)})).join(",")),"Target(".concat(t,")")}(Tu(e)),"; limitType=").concat(e.limitType,")")}function Pu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ki.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,u.A)(Iu(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,u.A)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ko(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Iu(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ko(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Iu(e),t))}(e,t)}function Lu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Mu(e){return function(t,n){var r,i=!1,a=(0,u.A)(Iu(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Fu(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function Fu(e,t,n){var r=e.field.isKeyField()?Ki.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xo(r,i):mi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mi()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uu=function(){function e(t,n){(0,c.A)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,l.A)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=(0,u.A)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,v.A)(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Xa(this.inner,(function(t,n){var r,i=(0,u.A)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,v.A)(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ja(this.inner)}},{key:"size",value:function(){return this.innerSize}}])}(),Vu=new Za(Ki.comparator);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(){return Vu}var Bu=new Za(Ki.comparator);function qu(){for(var e=Bu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function zu(e){var t=Bu;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ku(){return Hu()}function Gu(){return Hu()}function Hu(){return new Uu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Wu=new Za(Ki.comparator),Qu=new no(Ki.comparator);function Yu(){for(var e=Qu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var $u=new no(Li);function Xu(){return $u}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ma(t)?"-0":t}}function Zu(e){return{integerValue:""+e}}function es(e,t){return Aa(t)?Zu(t):Ju(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts=(0,l.A)((function e(){(0,c.A)(this,e),this._=void 0}));function ns(e,t,n){return e instanceof as?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vo(t)&&(t=po(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof os?us(e,t):e instanceof ss?cs(e,t):function(e,t){var n=is(e,t),r=fs(n)+fs(e.Ie);return Co(n)&&Co(e.Ie)?Zu(r):Ju(e.serializer,r)}(e,t)}function rs(e,t,n){return e instanceof os?us(e,t):e instanceof ss?cs(e,t):n}function is(e,t){return e instanceof ls?function(e){return Co(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var as=function(e){function t(){return(0,c.A)(this,t),(0,a.A)(this,t,arguments)}return(0,o.A)(t,e),(0,l.A)(t)}(ts),os=function(e){function t(e){var n;return(0,c.A)(this,t),n=(0,a.A)(this,t),n.elements=e,n}return(0,o.A)(t,e),(0,l.A)(t)}(ts);function us(e,t){var n,r=hs(t),i=(0,u.A)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return bo(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ss=function(e){function t(e){var n;return(0,c.A)(this,t),n=(0,a.A)(this,t),n.elements=e,n}return(0,o.A)(t,e),(0,l.A)(t)}(ts);function cs(e,t){var n,r=hs(t),i=(0,u.A)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!bo(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ls=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t),r.serializer=e,r.Ie=n,r}return(0,o.A)(t,e),(0,l.A)(t)}(ts);function fs(e){return fo(e.integerValue||e.doubleValue)}function hs(e){return Oo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.field=t,this.transform=n}));function vs(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof os&&t instanceof os||e instanceof ss&&t instanceof ss?Mi(e.elements,t.elements,bo):e instanceof ls&&t instanceof ls?bo(e.Ie,t.Ie):e instanceof as&&t instanceof as}(e.transform,t.transform)}var ps=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.version=t,this.transformResults=n})),ys=function(){function e(t,n){(0,c.A)(this,e),this.updateTime=t,this.exists=n}return(0,l.A)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}])}();function gs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ms=(0,l.A)((function e(){(0,c.A)(this,e)}));function As(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rs(e.key,ys.none()):new xs(e.key,e.data,ys.none());var n,r=e.data,i=jo.empty(),a=new no(zi.comparator),o=(0,u.A)(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var c=r.field(s);null===c&&s.length>1&&(s=s.popLast(),c=r.field(s)),null===c?i["delete"](s):i.set(s,c),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Es(e.key,i,new ao(a.toArray()),ys.none())}function ws(e,t,n){e instanceof xs?function(e,t,n){var r=e.value.clone(),i=Ts(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Es?function(e,t,n){if(gs(e.precondition,t)){var r=Ts(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Is(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ks(e,t,n,r){return e instanceof xs?function(e,t,n,r){if(!gs(e.precondition,t))return n;var i=e.value.clone(),a=Ss(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Es?function(e,t,n,r){if(!gs(e.precondition,t))return n;var i=Ss(e.fieldTransforms,r,t),a=t.data;return a.setAll(Is(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return gs(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bs(e,t){var n,r=null,i=(0,u.A)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=is(a.transform,o||null);null!=s&&(null===r&&(r=jo.empty()),r.set(a.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function _s(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Mi(e,t,(function(e,t){return vs(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var xs=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,c.A)(this,t),i=(0,a.A)(this,t),i.key=e,i.value=n,i.precondition=r,i.fieldTransforms=o,i.type=0,i}return(0,o.A)(t,e),(0,l.A)(t,[{key:"getFieldMask",value:function(){return null}}])}(ms),Es=function(e){function t(e,n,r,i){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,c.A)(this,t),o=(0,a.A)(this,t),o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=u,o.type=1,o}return(0,o.A)(t,e),(0,l.A)(t,[{key:"getFieldMask",value:function(){return this.fieldMask}}])}(ms);function Is(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ts(e,t,n){var r=new Map;Ai(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,rs(o,u,n[i]))}return r}function Ss(e,t,n){var r,i=new Map,a=(0,u.A)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,c=n.data.field(o.field);i.set(o.field,ns(s,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Cs,Os,Rs=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t),r.key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"getFieldMask",value:function(){return null}}])}(ms),Ns=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t),r.key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"getFieldMask",value:function(){return null}}])}(ms),Ds=function(){function e(t,n,r,i){(0,c.A)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,l.A)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ws(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=(0,u.A)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ks(i,e,t,this.localWriteTime))}}catch(c){r.e(c)}finally{r.f()}var a,o=(0,u.A)(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=ks(s,e,t,this.localWriteTime))}}catch(c){o.e(c)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Gu();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields);u=t.has(i.key)?null:u;var s=As(o,u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Vi.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Yu())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Mi(this.mutations,e.mutations,(function(e,t){return _s(e,t)}))&&Mi(this.baseMutations,e.baseMutations,(function(e,t){return _s(e,t)}))}}])}(),Ps=function(){function e(t,n,r,i){(0,c.A)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,l.A)(e,null,[{key:"from",value:function(t,n,r){Ai(t.mutations.length===r.length);for(var i=function(){return Wu}(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}])}(),Ls=function(){function e(t,n){(0,c.A)(this,e),this.largestBatchId=t,this.mutation=n}return(0,l.A)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}])}(),Ms=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.count=t,this.unchangedNames=n}));function Fs(e){switch(e){default:return mi();case bi.CANCELLED:case bi.UNKNOWN:case bi.DEADLINE_EXCEEDED:case bi.RESOURCE_EXHAUSTED:case bi.INTERNAL:case bi.UNAVAILABLE:case bi.UNAUTHENTICATED:return!1;case bi.INVALID_ARGUMENT:case bi.NOT_FOUND:case bi.ALREADY_EXISTS:case bi.PERMISSION_DENIED:case bi.FAILED_PRECONDITION:case bi.ABORTED:case bi.OUT_OF_RANGE:case bi.UNIMPLEMENTED:case bi.DATA_LOSS:return!0}}function Us(e){if(void 0===e)return pi("GRPC error has no .code"),bi.UNKNOWN;switch(e){case Cs.OK:return bi.OK;case Cs.CANCELLED:return bi.CANCELLED;case Cs.UNKNOWN:return bi.UNKNOWN;case Cs.DEADLINE_EXCEEDED:return bi.DEADLINE_EXCEEDED;case Cs.RESOURCE_EXHAUSTED:return bi.RESOURCE_EXHAUSTED;case Cs.INTERNAL:return bi.INTERNAL;case Cs.UNAVAILABLE:return bi.UNAVAILABLE;case Cs.UNAUTHENTICATED:return bi.UNAUTHENTICATED;case Cs.INVALID_ARGUMENT:return bi.INVALID_ARGUMENT;case Cs.NOT_FOUND:return bi.NOT_FOUND;case Cs.ALREADY_EXISTS:return bi.ALREADY_EXISTS;case Cs.PERMISSION_DENIED:return bi.PERMISSION_DENIED;case Cs.FAILED_PRECONDITION:return bi.FAILED_PRECONDITION;case Cs.ABORTED:return bi.ABORTED;case Cs.OUT_OF_RANGE:return bi.OUT_OF_RANGE;case Cs.UNIMPLEMENTED:return bi.UNIMPLEMENTED;case Cs.DATA_LOSS:return bi.DATA_LOSS;default:return mi()}}(Os=Cs||(Cs={}))[Os.OK=0]="OK",Os[Os.CANCELLED=1]="CANCELLED",Os[Os.UNKNOWN=2]="UNKNOWN",Os[Os.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Os[Os.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Os[Os.NOT_FOUND=5]="NOT_FOUND",Os[Os.ALREADY_EXISTS=6]="ALREADY_EXISTS",Os[Os.PERMISSION_DENIED=7]="PERMISSION_DENIED",Os[Os.UNAUTHENTICATED=16]="UNAUTHENTICATED",Os[Os.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Os[Os.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Os[Os.ABORTED=10]="ABORTED",Os[Os.OUT_OF_RANGE=11]="OUT_OF_RANGE",Os[Os.UNIMPLEMENTED=12]="UNIMPLEMENTED",Os[Os.INTERNAL=13]="INTERNAL",Os[Os.UNAVAILABLE=14]="UNAVAILABLE",Os[Os.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vs=null;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return new TextEncoder}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bs=new ui([4294967295,4294967295],0);function qs(e){var t=js().encode(e),n=new oi;return n.update(t),new Uint8Array(n.digest())}function zs(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ui([n,r],0),new ui([i,a],0)]}var Ks=function(){function e(t,n,r){if((0,c.A)(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gs("Invalid padding: ".concat(n));if(r<0)throw new Gs("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Gs("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Gs("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=ui.fromNumber(this.Te)}return(0,l.A)(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(ui.fromNumber(n)));return 1===r.compare(Bs)&&(r=new ui([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=qs(e),n=zs(t),r=(0,v.A)(n,2),i=r[0],a=r[1],o=0;o<this.hashCount;o++){var u=this.de(i,a,o);if(!this.Ae(u))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=qs(e),n=zs(t),r=(0,v.A)(n,2),i=r[0],a=r[1],o=0;o<this.hashCount;o++){var u=this.de(i,a,o);this.Re(u)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new e(a,i,n);return r.forEach((function(e){return o.insert(e)})),o}}])}(),Gs=function(e){function t(){var e;return(0,c.A)(this,t),e=(0,a.A)(this,t,arguments),e.name="BloomFilterError",e}return(0,o.A)(t,e),(0,l.A)(t)}((0,p.A)(Error)),Hs=function(){function e(t,n,r,i,a){(0,c.A)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,l.A)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Ws.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Vi.min(),i,new Za(Li),ju(),Yu())}}])}(),Ws=function(){function e(t,n,r,i,a){(0,c.A)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,l.A)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Yu(),Yu(),Yu())}}])}(),Qs=(0,l.A)((function e(t,n,r,i){(0,c.A)(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),Ys=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.targetId=t,this.fe=n})),$s=(0,l.A)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:so.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,c.A)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Xs=function(){function e(){(0,c.A)(this,e),this.ge=0,this.pe=ec(),this.ye=so.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return(0,l.A)(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=Yu(),t=Yu(),n=Yu();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mi()}})),new Ws(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=ec()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,Ai(this.ge>=0)}},{key:"Le",value:function(){this.Se=!0,this.we=!0}}])}(),Js=function(){function e(t){(0,c.A)(this,e),this.Be=t,this.ke=new Map,this.qe=ju(),this.Qe=Zs(),this.Ke=new Za(Li)}return(0,l.A)(e,[{key:"$e",value:function(e){var t,n=(0,u.A)(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(s){n.e(s)}finally{n.f()}var i,a=(0,u.A)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:mi()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(gu(i))if(0===n){var a=new Ki(i.path);this.We(t,a,qo.newNoDocument(a,Vi.min()))}else Ai(1===n);else{var o=this.Ze(t);if(o!==n){var u=this.Xe(e),s=u?this.et(u,e,o):1;if(0!==s){this.He(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==Vs||Vs.tt(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(o,e.fe,this.Be.nt(),u,s))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=ho(o).toUint8Array()}catch(e){if(e instanceof oo)return yi("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Ks(n,s,l)}catch(e){return yi(e instanceof Gs?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Be.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Be.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&gu(a.target)){var o=new Ki(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,qo.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=Yu();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Hs(e,n,this.Ke,this.qe,r);return this.qe=ju(),this.Qe=Zs(),this.Ke=new Za(Li),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t)["delete"](e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke["delete"](e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new Xs,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new no(Li),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||vi("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new Xs),this.Be.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}])}();function Zs(){return new Za(Ki.comparator)}function ec(){return new Za(Ki.comparator)}var tc=function(){var e={asc:"ASCENDING",desc:"DESCENDING"};return e}(),nc=function(){var e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e}(),rc=function(){var e={and:"AND",or:"OR"};return e}(),ic=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.databaseId=t,this.useProto3Json=n}));function ac(e,t){return e.useProto3Json||ga(t)?t:{value:t}}function oc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function uc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sc(e,t){return oc(e,t.toTimestamp())}function cc(e){return Ai(!!e),Vi.fromTimestamp(function(e){var t=lo(e);return new Ui(t.seconds,t.nanos)}(e))}function lc(e,t){return fc(e,t).canonicalString()}function fc(e,t){var n=function(e){return new Bi(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function hc(e){var t=Bi.fromString(e);return Ai(Uc(t)),t}function dc(e,t){return lc(e.databaseId,t.path)}function vc(e,t){var n=hc(t);if(n.get(1)!==e.databaseId.projectId)throw new _i(bi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _i(bi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ki(mc(n))}function pc(e,t){return lc(e.databaseId,t)}function yc(e){var t=hc(e);return 4===t.length?Bi.emptyPath():mc(t)}function gc(e){return new Bi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mc(e){return Ai(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ac(e,t,n){return{name:dc(e,t),fields:n.value.mapValue.fields}}function wc(e,t,n){var r=vc(e,t.name),i=cc(t.updateTime),a=t.createTime?cc(t.createTime):Vi.min(),o=new jo({mapValue:{fields:t.fields}}),u=qo.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function kc(e,t){return"found"in t?function(e,t){Ai(!!t.found),t.found.name,t.found.updateTime;var n=vc(e,t.found.name),r=cc(t.found.updateTime),i=t.found.createTime?cc(t.found.createTime):Vi.min(),a=new jo({mapValue:{fields:t.found.fields}});return qo.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Ai(!!t.missing),Ai(!!t.readTime);var n=vc(e,t.missing),r=cc(t.readTime);return qo.newNoDocument(n,r)}(e,t):mi()}function bc(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Ai(void 0===t||"string"==typeof t),so.fromBase64String(t||"")):(Ai(void 0===t||t instanceof Buffer||t instanceof Uint8Array),so.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?bi.UNKNOWN:Us(e.code);return new _i(t,e.message||"")}(o);n=new $s(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=vc(e,s.document.name),l=cc(s.document.updateTime),f=s.document.createTime?cc(s.document.createTime):Vi.min(),h=new jo({mapValue:{fields:s.document.fields}}),d=qo.newFoundDocument(c,l,f,h),v=s.targetIds||[],p=s.removedTargetIds||[];n=new Qs(v,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var g=vc(e,y.document),m=y.readTime?cc(y.readTime):Vi.min(),A=qo.newNoDocument(g,m),w=y.removedTargetIds||[];n=new Qs([],w,A.key,A)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var b=vc(e,k.document),_=k.removedTargetIds||[];n=new Qs([],_,b,null)}else{if(!("filter"in t))return mi();t.filter;var x=t.filter;x.targetId;var E=x.count,I=void 0===E?0:E,T=x.unchangedNames,S=new Ms(I,T),C=x.targetId;n=new Ys(C,S)}return n}function _c(e,t){var n;if(t instanceof xs)n={update:Ac(e,t.key,t.value)};else if(t instanceof Rs)n={delete:dc(e,t.key)};else if(t instanceof Es)n={update:Ac(e,t.key,t.data),updateMask:Fc(t.fieldMask)};else{if(!(t instanceof Ns))return mi();n={verify:dc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof as)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof os)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ss)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ls)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw mi()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mi()}(e,t.precondition)),n}function xc(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ys.updateTime(cc(e.updateTime)):void 0!==e.exists?ys.exists(e.exists):ys.none()}(t.currentDocument):ys.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ai("REQUEST_TIME"===t.setToServerValue),n=new as;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new os(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ss(i)}else"increment"in t?n=new ls(e,t.increment):mi();var a=zi.fromServerFormat(t.fieldPath);return new ds(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=vc(e,t.update.name),a=new jo({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ao(t.map((function(e){return zi.fromServerFormat(e)})))}(t.updateMask);return new Es(i,a,o,n,r)}return new xs(i,a,n,r)}if(t["delete"]){var u=vc(e,t["delete"]);return new Rs(u,n)}if(t.verify){var s=vc(e,t.verify);return new Ns(s,n)}return mi()}function Ec(e,t){return e&&e.length>0?(Ai(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?cc(e.updateTime):cc(t);return n.isEqual(Vi.min())&&(n=cc(t)),new ps(n,e.transformResults||[])}(e,t)}))):[]}function Ic(e,t){return{documents:[pc(e,t.path)]}}function Tc(e,t){var n,r={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n=i,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=pc(e,n);var a=function(e){if(0!==e.length)return Mc($o.create(e,"and"))}(t.filters);a&&(r.structuredQuery.where=a);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Pc(e.field),direction:Rc(e.dir)}}(e)}))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);var u=ac(e,t.limit);return null!==u&&(r.structuredQuery.limit=u),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:r,parent:n}}function Sc(e){var t=yc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ai(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Oc(e);return t instanceof $o&&Zo(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new Ho(Lc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var c=null;n.limit&&(c=function(e){var t;return t="object"==(0,s.A)(e)?e.value:e,ga(t)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new zo(n,t)}(n.startAt));var f=null;return n.endAt&&(f=function(e){var t=!e.before,n=e.values||[];return new zo(n,t)}(n.endAt)),bu(t,i,u,o,c,"F",l,f)}function Cc(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mi()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}function Oc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Lc(e.unaryFilter.field);return Yo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Lc(e.unaryFilter.field);return Yo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lc(e.unaryFilter.field);return Yo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lc(e.unaryFilter.field);return Yo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mi()}}(e):void 0!==e.fieldFilter?function(e){return Yo.create(Lc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mi()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $o.create(e.compositeFilter.filters.map((function(e){return Oc(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mi()}}(e.compositeFilter.op))}(e):mi()}function Rc(e){return tc[e]}function Nc(e){return nc[e]}function Dc(e){return rc[e]}function Pc(e){return{fieldPath:e.canonicalString()}}function Lc(e){return zi.fromServerFormat(e.fieldPath)}function Mc(e){return e instanceof Yo?function(e){if("=="===e.op){if(No(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NAN"}};if(Ro(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(No(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NOT_NAN"}};if(Ro(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(e.field),op:Nc(e.op),value:e.value}}}(e):e instanceof $o?function(e){var t=e.getFilters().map((function(e){return Mc(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Dc(e.op),filters:t}}}(e):mi()}function Fc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Uc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vi.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vi.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:so.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,c.A)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return(0,l.A)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}])}(),jc=(0,l.A)((function e(t){(0,c.A)(this,e),this.ct=t}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(e,t){var n;if(t.document)n=wc(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ki.fromSegments(t.noDocument.path),i=Gc(t.noDocument.readTime);n=qo.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return mi();var a=Ki.fromSegments(t.unknownDocument.path),o=Gc(t.unknownDocument.version);n=qo.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ui(e[0],e[1]);return Vi.fromTimestamp(t)}(t.readTime)),n}function qc(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:zc(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:dc(e,t.key),fields:t.data.value.mapValue.fields,updateTime:oc(e,t.version.toTimestamp()),createTime:oc(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Kc(t.version)};else{if(!t.isUnknownDocument())return mi();r.unknownDocument={path:n.path.toArray(),version:Kc(t.version)}}return r}function zc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Kc(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Gc(e){var t=new Ui(e.seconds,e.nanoseconds);return Vi.fromTimestamp(t)}function Hc(e,t){for(var n=(t.baseMutations||[]).map((function(t){return xc(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return xc(e.ct,t)})),u=Ui.fromMillis(t.localWriteTimeMs);return new Ds(t.batchId,u,n,o)}function Wc(e){var t,n=Gc(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Gc(e.lastLimboFreeSnapshotVersion):Vi.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return Ai(1===e.documents.length),Tu(_u(yc(e.documents[0])))}(e.query):function(e){return Tu(Sc(e))}(e.query),new Vc(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,so.fromBase64String(e.resumeToken))}function Qc(e,t){var n,r=Kc(t.snapshotVersion),i=Kc(t.lastLimboFreeSnapshotVersion);n=gu(t.target)?Ic(e.ct,t.target):Tc(e.ct,t.target).ut;var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:pu(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Yc(e){var t=Sc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ou(t,t.limit,"L"):t}function $c(e,t){return new Ls(t.largestBatchId,xc(e.ct,t.overlayMutation))}function Xc(e,t){var n=t.path.lastSegment();return[e,wa(t.path.popLast()),n]}function Jc(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Kc(r.readTime),documentKey:wa(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zc=function(){function e(){(0,c.A)(this,e)}return(0,l.A)(e,[{key:"getBundleMetadata",value:function(e,t){return el(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:Gc(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return el(e).put(function(e){return{bundleId:e.id,createTime:Kc(cc(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return tl(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Yc(e.bundledQuery),readTime:Gc(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return tl(e).put(function(e){return{name:e.name,readTime:Kc(cc(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}])}();function el(e){return Ya(e,"bundles")}function tl(e){return Ya(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nl=function(){function e(t,n){(0,c.A)(this,e),this.serializer=t,this.userId=n}return(0,l.A)(e,[{key:"getOverlay",value:function(e,t){var n=this;return rl(e).get(Xc(this.userId,t)).next((function(e){return e?$c(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ku();return ia.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Ls(t,a);i.push(r.ht(e,o))})),ia.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(wa(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(rl(e).H("collectionPathOverlayIndex",i))})),ia.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ku(),a=wa(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rl(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=(0,u.A)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=$c(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ku(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rl(e).Y({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=$c(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return rl(e).put(function(e,t,n){var r=Xc(t,n.mutation.key),i=(0,v.A)(r,3),a=(i[0],i[1]),o=i[2];return{userId:t,collectionPath:a,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:_c(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){var r=n.uid||"";return new e(t,r)}}])}();function rl(e){return Ya(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var il=function(){function e(){(0,c.A)(this,e)}return(0,l.A)(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(fo(e.integerValue));else if("doubleValue"in e){var n=fo(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ma(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r&&(r=lo(r)),t.At("".concat(r.seconds||"")),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ho(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Lo(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):mi()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=(0,u.A)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Ki.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}])}();function al(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ol(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=al(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}il.bt=new il;var ul=function(){function e(){(0,c.A)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,l.A)(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ct(n.value),n=t.next();this.vt()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=(0,u.A)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{var a=r.codePointAt(0);this.Ct(240|a>>>18),this.Ct(128|63&a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.vt()}},{key:"Nt",value:function(e){var t,n=(0,u.A)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Lt",value:function(e){var t=this.Bt(e),n=ol(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Bt(e),n=ol(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Bt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ct",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"vt",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}])}(),sl=function(){function e(t){(0,c.A)(this,e),this.Gt=t}return(0,l.A)(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Lt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}])}(),cl=function(){function e(t){(0,c.A)(this,e),this.Gt=t}return(0,l.A)(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}])}(),ll=function(){function e(){(0,c.A)(this,e),this.Gt=new ul,this.zt=new sl(this.Gt),this.jt=new cl(this.Gt)}return(0,l.A)(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}])}(),fl=function(){function e(t,n,r,i){(0,c.A)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,l.A)(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}])}();function hl(e,t){var n=e.indexId-t.indexId;return 0!==n?n:(n=dl(e.arrayValue,t.arrayValue),0!==n?n:(n=dl(e.directionalValue,t.directionalValue),0!==n?n:Ki.comparator(e.documentKey,t.documentKey)))}function dl(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vl=function(){function e(t){(0,c.A)(this,e),this.Yt=new no((function(e,t){return zi.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];var n,r=(0,u.A)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i;a.isInequality()?this.Yt=this.Yt.add(a):this.Xt.push(a)}}catch(o){r.e(o)}finally{r.f()}}return(0,l.A)(e,[{key:"en",get:function(){return this.Yt.size>1}},{key:"tn",value:function(e){if(Ai(e.collectionGroup===this.collectionId),this.en)return!1;var t=Hi(e);if(void 0!==t&&!this.nn(t))return!1;for(var n=Wi(e),r=new Set,i=0,a=0;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){var o=this.Yt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var u=n[i];if(!this.rn(o,u)||!this.sn(this.Zt[a++],u))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Zt.length||!this.sn(this.Zt[a++],s))return!1}return!0}},{key:"on",value:function(){if(this.en)return null;var e,t=new no(zi.comparator),n=[],r=(0,u.A)(this.Xt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new Qi(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new Qi(i.field,0))}}}catch(c){r.e(c)}finally{r.f()}var a,o=(0,u.A)(this.Zt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new Qi(s.field,"asc"===s.dir?0:1)))}}catch(c){o.e(c)}finally{o.f()}return new Gi(Gi.UNKNOWN_ID,this.collectionId,n,Yi.empty())}},{key:"nn",value:function(e){var t,n=(0,u.A)(this.Xt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.rn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"rn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}])}();
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(e){var t,n;if(Ai(e instanceof Yo||e instanceof $o),e instanceof Yo){if(e instanceof lu){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Yo.create(e.field,"==",t)})))||[];return $o.create(r,"or")}return e}var i=e.filters.map((function(e){return pl(e)}));return $o.create(i,e.op)}function yl(e){if(0===e.getFilters().length)return[];var t=wl(pl(e));return Ai(Al(t)),gl(t)||ml(t)?[t]:t.getFilters()}function gl(e){return e instanceof Yo}function ml(e){return e instanceof $o&&Zo(e)}function Al(e){return gl(e)||ml(e)||function(e){if(e instanceof $o&&Jo(e)){var t,n=(0,u.A)(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!gl(r)&&!ml(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function wl(e){if(Ai(e instanceof Yo||e instanceof $o),e instanceof Yo)return e;if(1===e.filters.length)return wl(e.filters[0]);var t=e.filters.map((function(e){return wl(e)})),n=$o.create(t,e.op);return n=_l(n),Al(n)?n:(Ai(n instanceof $o),Ai(Xo(n)),Ai(n.filters.length>1),n.filters.reduce((function(e,t){return kl(e,t)})))}function kl(e,t){var n;return Ai(e instanceof Yo||e instanceof $o),Ai(t instanceof Yo||t instanceof $o),n=e instanceof Yo?t instanceof Yo?function(e,t){return $o.create([e,t],"and")}(e,t):bl(e,t):t instanceof Yo?bl(t,e):function(e,t){if(Ai(e.filters.length>0&&t.filters.length>0),Xo(e)&&Xo(t))return ru(e,t.getFilters());var n=Jo(e)?e:t,r=Jo(e)?t:e,i=n.filters.map((function(e){return kl(e,r)}));return $o.create(i,"or")}(e,t),_l(n)}function bl(e,t){if(Xo(t))return ru(t,e.getFilters());var n=t.filters.map((function(t){return kl(e,t)}));return $o.create(n,"or")}function _l(e){if(Ai(e instanceof Yo||e instanceof $o),e instanceof Yo)return e;var t=e.getFilters();if(1===t.length)return _l(t[0]);if(eu(e))return e;var n=t.map((function(e){return _l(e)})),r=[];return n.forEach((function(t){t instanceof Yo?r.push(t):t instanceof $o&&(t.op===e.op?r.push.apply(r,(0,m.A)(t.filters)):r.push(t))})),1===r.length?r[0]:$o.create(r,e.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var xl=function(){function e(){(0,c.A)(this,e),this._n=new El}return(0,l.A)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),ia.resolve()}},{key:"getCollectionParents",value:function(e,t){return ia.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ia.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ia.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return ia.resolve()}},{key:"createTargetIndexes",value:function(e,t){return ia.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ia.resolve(null)}},{key:"getIndexType",value:function(e,t){return ia.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ia.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ia.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ia.resolve(Ji.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ia.resolve(Ji.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ia.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ia.resolve()}}])}(),El=function(){function e(){(0,c.A)(this,e),this.index={}}return(0,l.A)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new no(Bi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new no(Bi.comparator)).toArray()}}])}(),Il=new Uint8Array(0),Tl=function(){function e(t,n){(0,c.A)(this,e),this.databaseId=n,this.an=new El,this.un=new Uu((function(e){return pu(e)}),(function(e,t){return yu(e,t)})),this.uid=t.uid||""}return(0,l.A)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.an.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.an.add(t)}));var a={collectionId:r,parent:wa(i)};return Sl(e).put(a)}return ia.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fi(t),""],!1,!0);return Sl(e).W(r).next((function(e){var r,i=(0,u.A)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(_a(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Ol(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Rl(e);return a.next((function(e){o.put(Jc(e,n.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Ol(e),r=Rl(e),i=Cl(e);return n["delete"](t.indexId).next((function(){return r["delete"](IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i["delete"](IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=Ol(e),n=Cl(e),r=Rl(e);return t.H().next((function(){return n.H()})).next((function(){return r.H()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return ia.forEach(this.cn(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new vl(t).on();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Cl(e),i=!0,a=new Map;return ia.forEach(this.cn(t),(function(t){return n.ln(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Yu(),o=[];return ia.forEach(a,(function(i,a){vi("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(pu(t)));var s=function(e,t){var n=Hi(t);if(void 0===n)return null;var r,i=(0,u.A)(mu(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=(0,u.A)(Wi(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=(0,u.A)(mu(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var c=a.value;switch(c.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),c.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),c.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=(0,u.A)(Wi(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Au(e,o.fieldPath,e.startAt):wu(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new zo(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=(0,u.A)(Wi(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?wu(e,o.fieldPath,e.endAt):Au(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new zo(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),v=n.Pn(i,a,c),p=n.In(i.indexId,s,h,l.inclusive,d,f.inclusive,v);return ia.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Ki.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ia.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:yl($o.create(e.filters,"and")).map((function(t){return vu(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"In",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Tn(t[h/c]):Il,f=u.En(e,s,n[h%c],r),d=u.dn(e,s,i[h%c],a),v=o.map((function(t){return u.En(e,s,t,!0)}));l.push.apply(l,(0,m.A)(u.createRange(f,d,v)))},h=0;h<s;++h)f();return l}},{key:"En",value:function(e,t,n,r){var i=new fl(e,Ki.empty(),t,n);return r?i:i.Jt()}},{key:"dn",value:function(e,t,n,r){var i=new fl(e,Ki.empty(),t,n);return r?i.Jt():i}},{key:"ln",value:function(e,t){var n=new vl(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=(0,u.A)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return ia.forEach(i,(function(t){return n.ln(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new no(zi.comparator),r=!1,i=(0,u.A)(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,s=(0,u.A)(o.getFlattenedFilters());try{for(s.s();!(a=s.n()).done;){var c=a.value;c.field.isKeyField()||("array-contains"===c.op||"array-contains-any"===c.op?r=!0:n=n.add(c.field))}}catch(d){s.e(d)}finally{s.f()}}}catch(d){i.e(d)}finally{i.f()}var l,f=(0,u.A)(e.orderBy);try{for(f.s();!(l=f.n()).done;){var h=l.value;h.field.isKeyField()||(n=n.add(h.field))}}catch(d){f.e(d)}finally{f.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"An",value:function(e,t){var n,r=new ll,i=(0,u.A)(Wi(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ht(a.kind);il.bt.Pt(o,s)}}catch(c){i.e(c)}finally{i.f()}return r.Wt()}},{key:"Tn",value:function(e){var t=new ll;return il.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"Rn",value:function(e,t){var n=new ll;return il.bt.Pt(So(this.databaseId,t),n.Ht(function(e){var t=Wi(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"Pn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ll);var i,a=0,o=(0,u.A)(Wi(e));try{for(o.s();!(i=o.n()).done;){var s,c=i.value,l=n[a++],f=(0,u.A)(r);try{for(f.s();!(s=f.n()).done;){var h=s.value;if(this.Vn(t,c.fieldPath)&&Oo(l))r=this.mn(r,c,l);else{var d=h.Ht(c.kind);il.bt.Pt(l,d)}}}catch(v){f.e(v)}finally{f.f()}}}catch(v){o.e(v)}finally{o.f()}return this.fn(r)}},{key:"hn",value:function(e,t,n){return this.Pn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"mn",value:function(e,t,n){var r,i=(0,m.A)(e),a=[],o=(0,u.A)(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,l=(0,u.A)(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new ll;h.seed(f.Wt()),il.bt.Pt(c,h.Ht(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"Vn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Yo&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Ol(e),i=Rl(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ia.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Yi(t.sequenceNumber,new Ji(Gc(t.readTime),new Ki(_a(t.documentKey)),t.largestBatchId)):Yi.empty(),r=e.fields.map((function(e){var t=(0,v.A)(e,2),n=t[0],r=t[1];return new Qi(zi.fromServerFormat(n),r)}));return new Gi(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Li(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Ol(e),a=Rl(e);return this.gn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ia.forEach(t,(function(t){return a.put(Jc(t.indexId,r.uid,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ia.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ia.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ia.forEach(a,(function(r){return n.pn(e,t,r).next((function(t){var a=n.yn(i,r);return t.isEqual(a)?ia.resolve():n.wn(e,i,r,t,a)}))}))}))}))}},{key:"Sn",value:function(e,t,n,r){return Cl(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"bn",value:function(e,t,n,r){return Cl(e)["delete"]([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}},{key:"pn",value:function(e,t,n){var r=Cl(e),i=new no(hl);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(function(e,r){i=i.add(new fl(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"yn",value:function(e,t){var n=new no(hl),r=this.An(t,e);if(null==r)return n;var i=Hi(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Oo(a)){var o,s=(0,u.A)(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var c=o.value;n=n.add(new fl(t.indexId,e.key,this.Tn(c),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new fl(t.indexId,e.key,Il,r));return n}},{key:"wn",value:function(e,t,n,r,i){var a=this;vi("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=io(a),s=io(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=io(o)):l?(i(u),u=io(a)):(u=io(a),s=io(o))}}(r,i,hl,(function(r){o.push(a.Sn(e,t,n,r))}),(function(r){o.push(a.bn(e,t,n,r))})),ia.waitFor(o)}},{key:"gn",value:function(e){var t=1;return Rl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return hl(e,t)})).filter((function(e,t,n){return!t||0!==hl(e,n[t-1])}));var r=[];r.push(e);var i,a=(0,u.A)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=hl(o,e),c=hl(o,t);if(0===s)r[0]=e.Jt();else if(s>0&&c<0)r.push(o),r.push(o.Jt());else if(c>0)break}}catch(v){a.e(v)}finally{a.f()}r.push(t);for(var l=[],f=0;f<r.length;f+=2){if(this.Dn(r[f],r[f+1]))return[];var h=[r[f].indexId,this.uid,r[f].arrayValue,r[f].directionalValue,Il,[]],d=[r[f+1].indexId,this.uid,r[f+1].arrayValue,r[f+1].directionalValue,Il,[]];l.push(IDBKeyRange.bound(h,d))}return l}},{key:"Dn",value:function(e,t){return hl(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Nl)}},{key:"getMinOffset",value:function(e,t){var n=this;return ia.mapArray(this.cn(t),(function(t){return n.ln(e,t).next((function(e){return e||mi()}))})).next(Nl)}}])}();function Sl(e){return Ya(e,"collectionParents")}function Cl(e){return Ya(e,"indexEntries")}function Ol(e){return Ya(e,"indexConfiguration")}function Rl(e){return Ya(e,"indexState")}function Nl(e){Ai(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Zi(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ji(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pl=function(){function e(t,n,r){(0,c.A)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,l.A)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ll(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,c=r.Y({range:o},(function(e,t,n){return s++,n["delete"]()}));a.push(c.next((function(){Ai(1===s)})));var l,f=[],h=(0,u.A)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,v=Ia(t,d.key.path,n.batchId);a.push(i["delete"](v)),f.push(d.key)}}catch(p){h.e(p)}finally{h.f()}return ia.waitFor(a).next((function(){return f}))}function Ml(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw mi();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pl.DEFAULT_COLLECTION_PERCENTILE=10,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pl.DEFAULT=new Pl(41943040,Pl.DEFAULT_COLLECTION_PERCENTILE,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pl.DISABLED=new Pl(-1,0,0);var Fl=function(){function e(t,n,r,i){(0,c.A)(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}return(0,l.A)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).Y({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=jl(e),o=Vl(e);return o.add({}).next((function(s){Ai("number"==typeof s);var c,l=new Ds(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return _c(e.ct,t)})),i=n.mutations.map((function(t){return _c(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,l),h=[],d=new no((function(e,t){return Li(e.canonicalString(),t.canonicalString())})),v=(0,u.A)(r);try{for(v.s();!(c=v.n()).done;){var p=c.value,y=Ia(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),h.push(o.put(f)),h.push(a.put(y,Ta))}}catch(g){v.e(g)}finally{v.f()}return d.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Cn[s]=l.keys()})),ia.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Vl(e).get(t).next((function(e){return e?(Ai(e.userId===n.userId),Hc(n.serializer,e)):null}))}},{key:"vn",value:function(e,t){var n=this;return this.Cn[t]?ia.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Cn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Vl(e).Y({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ai(t.batchId>=r),a=Hc(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vl(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Hc(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ea(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return jl(e).Y({range:i},(function(r,i,o){var u=(0,v.A)(r,3),s=u[0],c=u[1],l=u[2],f=_a(c);if(s===n.userId&&t.path.isEqual(f))return Vl(e).get(l).next((function(e){if(!e)throw mi();Ai(e.userId===n.userId),a.push(Hc(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new no(Li),i=[];return t.forEach((function(t){var a=Ea(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=jl(e).Y({range:o},(function(e,i,a){var o=(0,v.A)(e,3),u=o[0],s=o[1],c=o[2],l=_a(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ia.waitFor(i).next((function(){return n.Fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ea(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new no(Li);return jl(e).Y({range:o},(function(e,t,a){var o=(0,v.A)(e,3),s=o[0],c=o[1],l=o[2],f=_a(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Fn(e,u)}))}},{key:"Fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Vl(e).get(t).next((function(e){if(null===e)throw mi();Ai(e.userId===n.userId),r.push(Hc(n.serializer,e))})))})),ia.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ll(e.ae,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Mn(t.batchId)})),ia.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Mn",value:function(e){delete this.Cn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ia.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return jl(e).Y({range:r},(function(e,n,r){if(e[0]===t.userId){var a=_a(e[1]);i.push(a)}else r.done()})).next((function(){Ai(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Ul(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return Bl(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){Ai(""!==t.uid);var a=t.isAuthenticated()?t.uid:"";return new e(a,n,r,i)}}])}();function Ul(e,t,n){var r=Ea(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return jl(e).Y({range:a,J:!0},(function(e,n,r){var a=(0,v.A)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Vl(e){return Ya(e,"mutations")}function jl(e){return Ya(e,"documentMutations")}function Bl(e){return Ya(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ql=function(){function e(t){(0,c.A)(this,e),this.On=t}return(0,l.A)(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}])}(),zl=function(){function e(t,n){(0,c.A)(this,e),this.referenceDelegate=t,this.serializer=n}return(0,l.A)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new ql(n.highestTargetId);return n.highestTargetId=r.next(),t.kn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return Vi.fromTimestamp(new Ui(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.kn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.qn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.Qn(t,r),n.kn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kl(e)["delete"](t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return Ai(t.targetCount>0),t.targetCount-=1,n.kn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Kl(e).Y((function(o,u){var s=Wc(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ia.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Kl(e).Y((function(e,n){var r=Wc(n);t(r)}))}},{key:"Bn",value:function(e){return Gl(e).get("targetGlobalKey").next((function(e){return Ai(null!==e),e}))}},{key:"kn",value:function(e,t){return Gl(e).put("targetGlobalKey",t)}},{key:"qn",value:function(e,t){return Kl(e).put(Qc(this.serializer,t))}},{key:"Qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=pu(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kl(e).Y({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Wc(n);yu(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Hl(e);return t.forEach((function(t){var o=wa(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ia.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Hl(e);return ia.forEach(t,(function(t){var a=wa(t.path);return ia.waitFor([i["delete"]([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Hl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n["delete"](r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Hl(e),i=Yu();return r.Y({range:n,J:!0},(function(e,t,n){var r=_a(e[1]),a=new Ki(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=wa(t.path),r=IDBKeyRange.bound([n],[Fi(n)],!1,!0),i=0;return Hl(e).Y({index:"documentTargetsIndex",J:!0,range:r},(function(e,t,n){var r=(0,v.A)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"_t",value:function(e,t){return Kl(e).get(t).next((function(e){return e?Wc(e):null}))}}])}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(e){return Ya(e,"targets")}function Gl(e){return Ya(e,"targetGlobal")}function Hl(e){return Ya(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(e,t){var n=(0,v.A)(e,2),r=n[0],i=n[1],a=(0,v.A)(t,2),o=a[0],u=a[1],s=Li(r,o);return 0===s?Li(i,u):s}var Ql=function(){function e(t){(0,c.A)(this,e),this.Kn=t,this.buffer=new no(Wl),this.$n=0}return(0,l.A)(e,[{key:"Un",value:function(){return++this.$n}},{key:"Wn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Wl(t,n)<0&&(this.buffer=this.buffer["delete"](n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}])}(),Yl=function(){function e(t,n,r){(0,c.A)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return(0,l.A)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"zn",value:function(e){var t=this;vi("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e["catch"](1),!ca(e.t0)){e.next=12;break}vi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,na(e.t0);case 14:return e.next=16,t.zn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}])}(),$l=function(){function e(t,n){(0,c.A)(this,e),this.jn=t,this.params=n}return(0,l.A)(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.Hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ia.resolve(ya._e);var r=new Ql(t);return this.jn.forEachTarget(e,(function(e){return r.Wn(e.sequenceNumber)})).next((function(){return n.jn.Jn(e,(function(e){return r.Wn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(vi("LruGarbageCollector","Garbage collection skipped; disabled"),ia.resolve(Dl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(vi("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Dl):n.Yn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Yn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(vi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),hi()<=k.$b.DEBUG&&vi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ia.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}])}();function Xl(e,t){return new $l(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jl=function(){function e(t,n){(0,c.A)(this,e),this.db=t,this.garbageCollector=Xl(this,n)}return(0,l.A)(e,[{key:"Hn",value:function(e){var t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Zn",value:function(e){var t=0;return this.Jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Jn",value:function(e,t){return this.Xn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Zl(e,n)}},{key:"removeReference",value:function(e,t,n){return Zl(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Zl(e,t)}},{key:"er",value:function(e,t){return function(e,t){var n=!1;return Bl(e).Z((function(r){return Ul(e,r,t).next((function(e){return e&&(n=!0),ia.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Xn(e,(function(o,u){if(u<=t){var s=n.er(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Vi.min()),Hl(e)["delete"](function(e){return[0,wa(e.path)]}(o))}))}));i.push(s)}})).next((function(){return ia.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Zl(e,t)}},{key:"Xn",value:function(e,t){var n,r=Hl(e),i=ya._e;return r.Y({index:"documentTargetsIndex"},(function(e,r){var a=(0,v.A)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ya._e&&t(new Ki(_a(n)),i),i=s,n=u):i=ya._e})).next((function(){i!==ya._e&&t(new Ki(_a(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}])}();function Zl(e,t){return Hl(e).put(function(e,t){return{targetId:0,path:wa(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ef=function(){function e(){(0,c.A)(this,e),this.changes=new Uu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,l.A)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,qo.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ia.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}])}(),tf=function(){function e(t){(0,c.A)(this,e),this.serializer=t}return(0,l.A)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return of(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return of(e)["delete"](function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],zc(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.tr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=qo.newInvalidDocument(t);return of(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(uf(t))},(function(e,i){r=n.nr(t,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r={size:0,document:qo.newInvalidDocument(t)};return of(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(uf(t))},(function(e,i){r={document:n.nr(t,i),size:Ml(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ju();return this.ir(e,t,(function(e,t){var i=n.nr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"sr",value:function(e,t){var n=this,r=ju(),i=new Za(Ki.comparator);return this.ir(e,t,(function(e,t){var a=n.nr(e,t);r=r.insert(e,a),i=i.insert(e,Ml(t))})).next((function(){return{documents:r,_r:i}}))}},{key:"ir",value:function(e,t,n){if(t.isEmpty())return ia.resolve();var r=new no(cf);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(uf(r.first()),uf(r.last())),a=r.getIterator(),o=a.getNext();return of(e).Y({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ki.fromSegments([].concat((0,m.A)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&cf(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.U(uf(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),zc(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return of(e).W(IDBKeyRange.bound(s,c,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=ju(),s=(0,u.A)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value,l=a.nr(Ki.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);l.isFoundDocument()&&(Pu(t,l)||r.has(l.key))&&(o=o.insert(l.key,l))}}catch(f){s.e(f)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ju(),o=sf(t,n),u=sf(t,Ji.max());return of(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.nr(Ki.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);a=a.insert(o.key,o),a.size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new rf(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return af(e).get("remoteDocumentGlobalKey").next((function(e){return Ai(!!e),e}))}},{key:"tr",value:function(e,t){return af(e).put("remoteDocumentGlobalKey",t)}},{key:"nr",value:function(e,t){if(t){var n=Bc(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Vi.min()))return n}return qo.newInvalidDocument(e)}}])}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(e){return new tf(e)}var rf=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t),r.ar=e,r.trackRemovals=n,r.ur=new Uu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new no((function(e,t){return Li(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ur.get(a);if(n.push(t.ar.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=qc(t.ar.serializer,o);i=i.add(a.path.popLast());var c=Ml(s);r+=c-u.size,n.push(t.ar.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=qc(t.ar.serializer,o.convertToNoDocument(Vi.min()));n.push(t.ar.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ar.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ar.updateMetadata(e,r)),ia.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ar.rr(e,t).next((function(e){return n.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ar.sr(e,t).next((function(e){var t=e.documents,r=e._r;return r.forEach((function(e,r){n.ur.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}])}(ef);function af(e){return Ya(e,"remoteDocumentGlobal")}function of(e){return Ya(e,"remoteDocumentsV14")}function uf(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function sf(e,t){var n=t.documentKey.path.toArray();return[e,zc(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function cf(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Li(n[a],r[a]),i)return i;return i=Li(n.length,r.length),i||(i=Li(n[n.length-2],r[r.length-2]),i||Li(n[n.length-1],r[r.length-1])
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}var lf=(0,l.A)((function e(t,n){(0,c.A)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ff=function(){function e(t,n,r,i){(0,c.A)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,l.A)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&ks(r.mutation,e,ao.empty(),Ui.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Yu()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yu(),i=Ku();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=qu();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ku();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Yu())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ju(),a=Hu(),o=function(){return Hu()}();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Es)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),ks(o.mutation,t,o.mutation.getFieldMask(),Ui.now())):a.set(t.key,ao.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new lf(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Hu(),i=new Za((function(e,t){return e-t})),a=Yu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=(0,u.A)(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ao.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Yu()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Gu();c.forEach((function(e){if(!a.has(e)){var n=As(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ia.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Ki.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Eu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ia.resolve(Ku()),u=-1,s=a;return o.next((function(t){return ia.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ia.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Yu())})).next((function(e){return{batchId:u,changes:zu(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ki(t)).next((function(e){var t=qu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=qu();return this.indexManager.getCollectionParents(e,a).next((function(u){return ia.forEach(u,(function(u){var s=function(e,t){return new ku(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,qo.newInvalidDocument(r)))}));var n=qu();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&ks(a.mutation,r,ao.empty(),Ui.now()),Pu(t,r)&&(n=n.insert(e,r))})),n}))}}])}(),hf=function(){function e(t){(0,c.A)(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return(0,l.A)(e,[{key:"getBundleMetadata",value:function(e,t){return ia.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:cc(e.createTime)}}(t)),ia.resolve()}},{key:"getNamedQuery",value:function(e,t){return ia.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Yc(e.bundledQuery),readTime:cc(e.readTime)}}(t)),ia.resolve()}}])}(),df=function(){function e(){(0,c.A)(this,e),this.overlays=new Za(Ki.comparator),this.hr=new Map}return(0,l.A)(e,[{key:"getOverlay",value:function(e,t){return ia.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ku();return ia.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),ia.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr["delete"](n)),ia.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ku(),i=t.length+1,a=new Ki(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ia.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Za((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ku(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ku(),c=i.getIterator();c.hasNext();)if(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),s.size()>=r)break;return ia.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId)["delete"](n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ls(t,n));var a=this.hr.get(t);void 0===a&&(a=Yu(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}])}(),vf=function(){function e(){(0,c.A)(this,e),this.Pr=new no(pf.Ir),this.Tr=new no(pf.Er)}return(0,l.A)(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new pf(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new pf(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new Ki(new Bi([])),r=new pf(n,e),i=new pf(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr["delete"](e),this.Tr=this.Tr["delete"](e)}},{key:"gr",value:function(e){var t=new Ki(new Bi([])),n=new pf(t,e),r=new pf(t,e+1),i=Yu();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new pf(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}])}(),pf=function(){function e(t,n){(0,c.A)(this,e),this.key=t,this.pr=n}return(0,l.A)(e,null,[{key:"Ir",value:function(e,t){return Ki.comparator(e.key,t.key)||Li(e.pr,t.pr)}},{key:"Er",value:function(e,t){return Li(e.pr,t.pr)||Ki.comparator(e.key,t.key)}}])}(),yf=function(){function e(t,n){(0,c.A)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new no(pf.Ir)}return(0,l.A)(e,[{key:"checkEmpty",value:function(e){return ia.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ds(i,t,n,r);this.mutationQueue.push(a);var o,s=(0,u.A)(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;this.wr=this.wr.add(new pf(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return ia.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ia.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return ia.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ia.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return ia.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new pf(t,0),i=new pf(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),ia.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new no(Li);return t.forEach((function(e){var t=new pf(e,0),i=new pf(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),ia.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ki.isDocumentKey(i)||(i=i.child(""));var a=new pf(new Ki(i),0),o=new no(Li);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),ia.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ai(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return ia.forEach(t.mutations,(function(i){var a=new pf(i.key,t.batchId);return r=r["delete"](a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new pf(t,0),r=this.wr.firstAfterOrEqual(n);return ia.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ia.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}])}(),gf=function(){function e(t){(0,c.A)(this,e),this.vr=t,this.docs=function(){return new Za(Ki.comparator)}(),this.size=0}return(0,l.A)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ia.resolve(n?n.document.mutableCopy():qo.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ju();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():qo.newInvalidDocument(e))})),ia.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=ju(),a=t.path,o=new Ki(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Zi(Xi(l),n)<=0||(r.has(l.key)||Pu(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ia.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){mi()}},{key:"Fr",value:function(e,t){return ia.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new mf(this)}},{key:"getSize",value:function(e){return ia.resolve(this.size)}}])}(),mf=function(e){function t(e){var n;return(0,c.A)(this,t),n=(0,a.A)(this,t),n.ar=e,n}return(0,o.A)(t,e),(0,l.A)(t,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),ia.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}])}(ef),Af=function(){function e(t){(0,c.A)(this,e),this.persistence=t,this.Mr=new Uu((function(e){return pu(e)}),yu),this.lastRemoteSnapshotVersion=Vi.min(),this.highestTargetId=0,this.Or=0,this.Nr=new vf,this.targetCount=0,this.Lr=ql.Nn()}return(0,l.A)(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),ia.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ia.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ia.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),ia.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ia.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,ia.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),ia.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr["delete"](t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ia.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Mr["delete"](o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ia.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ia.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return ia.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),ia.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ia.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),ia.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return ia.resolve(n)}},{key:"containsKey",value:function(e,t){return ia.resolve(this.Nr.containsKey(t))}}])}(),wf=function(){function e(t,n){var r=this;(0,c.A)(this,e),this.Br={},this.overlays={},this.kr=new ya(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Af(this),this.indexManager=new xl,this.remoteDocumentCache=function(e){return new gf(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new jc(n),this.$r=new hf(this.serializer)}return(0,l.A)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new df,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new yf(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;vi("MemoryPersistence","Starting transaction:",e);var i=new kf(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return ia.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}])}(),kf=function(e){function t(e){var n;return(0,c.A)(this,t),n=(0,a.A)(this,t),n.currentSequenceNumber=e,n}return(0,o.A)(t,e),(0,l.A)(t)}(ta),bf=function(){function e(t){(0,c.A)(this,e),this.persistence=t,this.zr=new vf,this.jr=null}return(0,l.A)(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw mi()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr["delete"](n.toString()),ia.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ia.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),ia.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ia.forEach(this.Jr,(function(r){var i=Ki.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,Vi.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr["delete"](t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return ia.or([function(){return ia.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}])}(),_f=function(){function e(t){(0,c.A)(this,e),this.serializer=t}return(0,l.A)(e,[{key:"N",value:function(e,t,n,r){var i=this,a=new aa("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xa,{unique:!0}),e.createObjectStore("documentMutations")}(e),xf(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ia.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),xf(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vi.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xa,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ia.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Xr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ei(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ti(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ni(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ri(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Va});t.createIndex("collectionPathOverlayIndex",ja,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ba,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Sa});t.createIndex("documentKeyIndex",Ca),t.createIndex("collectionGroupIndex",Oa)}(e)})).next((function(){return i.ii(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:La}).createIndex("sequenceNumberIndex",Ma,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Fa}).createIndex("documentKeyIndex",Ua,{unique:!1})}(e)}))),n<16&&r>=16&&(o=o.next((function(){t.objectStore("indexState").clear()})).next((function(){t.objectStore("indexEntries").clear()}))),o}},{key:"ei",value:function(e){var t=0;return e.store("remoteDocuments").Y((function(e,n){t+=Ml(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Xr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ia.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ia.forEach(r,(function(r){Ai(r.userId===n.userId);var i=Hc(t.serializer,r);return Ll(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ti",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Y((function(n,i){var a=new Bi(n),o=function(e){return[0,wa(e)]}(a);r.push(t.get(o).next((function(n){return n?ia.resolve():function(n){return t.put({targetId:0,path:wa(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ia.waitFor(r)}))}))}},{key:"ni",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Pa});var n=t.store("collectionParents"),r=new El,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:wa(i)})}};return t.store("remoteDocuments").Y({J:!0},(function(e,t){var n=new Bi(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Y({J:!0},(function(e,t){var n=(0,v.A)(e,3),r=(n[0],n[1]),a=(n[2],_a(r));return i(a.popLast())}))}))}},{key:"ri",value:function(e){var t=this,n=e.store("targets");return n.Y((function(e,r){var i=Wc(r),a=Qc(t.serializer,i);return n.put(a)}))}},{key:"ii",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Y((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Ki(Bi.fromString(e.document.name).popFirst(5)):e.noDocument?Ki.fromSegments(e.noDocument.path):e.unknownDocument?Ki.fromSegments(e.unknownDocument.path):mi()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return ia.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=nf(this.serializer),a=new wf(bf.Hr,this.serializer.ct);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Yu();Hc(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ia.forEach(r,(function(e,r){var o=new ci(r),u=nl.lt(n.serializer,o),s=a.getIndexManager(o),c=Fl.lt(o,n.serializer,s,a.referenceDelegate);return new ff(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Qa(t,ya._e),e).next()}))}))}}])}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(e){e.createObjectStore("targetDocuments",{keyPath:Na}).createIndex("documentTargetsIndex",Da,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ra,{unique:!0}),e.createObjectStore("targetGlobal")}var Ef="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",If=function(){function e(t,n,r,i,a,o,u,s,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if((0,c.A)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.oi=a,this.window=o,this.document=u,this._i=l,this.ai=f,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=function(e){return Promise.resolve()},!e.D())throw new _i(bi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jl(this,i),this.Ti=n+"main",this.serializer=new jc(s),this.Ei=new oa(this.Ti,this.ui,new _f(this.serializer)),this.Qr=new zl(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nf(this.serializer),this.$r=new Zc,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===f&&pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,l.A)(e,[{key:"start",value:function(){var e=this;return this.Ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new _i(bi.FAILED_PRECONDITION,Ef);return e.Ri(),e.Vi(),e.mi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Qr.getHighestSequenceNumber(t)}))})).then((function(t){e.kr=new ya(t,e._i)})).then((function(){e.qr=!0}))["catch"]((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"fi",value:function(e){var t=this;return this.Ii=function(){var n=(0,g.A)((0,y.A)().mark((function n(r){return(0,y.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.B(function(){var t=(0,g.A)((0,y.A)().mark((function t(n){return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Sf(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.gi(t).next((function(t){t||(e.isPrimary=!1,e.oi.enqueueRetryable((function(){return e.Ii(!1)})))}))})).next((function(){return e.pi(t)})).next((function(n){return e.isPrimary&&!n?e.yi(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))}))["catch"]((function(t){if(ca(t))return vi("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return vi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.oi.enqueueRetryable((function(){return e.Ii(t)})),e.isPrimary=t}))}},{key:"gi",value:function(e){var t=this;return Tf(e).get("owner").next((function(e){return ia.resolve(t.Si(e))}))}},{key:"bi",value:function(e){return Sf(e)["delete"](this.clientId)}},{key:"Di",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t,n,r,i,a=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ci(this.Pi,18e5)){e.next=6;break}return this.Pi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ya(e,"clientMetadata");return t.W().next((function(e){var n=a.vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ia.forEach(r,(function(e){return t["delete"](e.clientId)})).next((function(){return r}))}))}))["catch"]((function(){return[]}));case 4:if(t=e.sent,this.di){n=(0,u.A)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.di.removeItem(this.Fi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mi",value:function(){var e=this;this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ai().then((function(){return e.Di()})).then((function(){return e.mi()}))}))}},{key:"Si",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"pi",value:function(e){var t=this;return this.ai?ia.resolve(!0):Tf(e).get("owner").next((function(n){if(null!==n&&t.Ci(n.leaseTimestampMs,5e3)&&!t.Mi(n.ownerId)){if(t.Si(n)&&t.networkEnabled)return!0;if(!t.Si(n)){if(!n.allowTabSynchronization)throw new _i(bi.FAILED_PRECONDITION,Ef);return!1}}return!(!t.networkEnabled||!t.inForeground)||Sf(e).W().next((function(e){return void 0===t.vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&vi("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Qa(e,ya._e);return t.yi(n).next((function(){return t.bi(n)}))}));case 7:this.Ei.close(),this.Li();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"vi",value:function(e,t){var n=this;return e.filter((function(e){return n.Ci(e.updateTimeMs,t)&&!n.Mi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Sf(t).W().next((function(t){return e.vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.qr}},{key:"getMutationQueue",value:function(e,t){return Fl.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Tl(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return nl.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;vi("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 16===e?Wa:15===e?Ha:14===e?Ga:13===e?Ka:12===e?za:11===e?qa:void mi()}(this.ui);return this.Ei.runTransaction(e,a,o,(function(a){return i=new Qa(a,r.kr?r.kr.next():ya._e),"readwrite-primary"===t?r.gi(i).next((function(e){return!!e||r.pi(i)})).next((function(t){if(!t)throw pi("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.oi.enqueueRetryable((function(){return r.Ii(!1)})),new _i(bi.FAILED_PRECONDITION,ea);return n(i)})).next((function(e){return r.wi(i).next((function(){return e}))})):r.ki(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"ki",value:function(e){var t=this;return Tf(e).get("owner").next((function(e){if(null!==e&&t.Ci(e.leaseTimestampMs,5e3)&&!t.Mi(e.ownerId)&&!t.Si(e)&&!(t.ai||t.allowTabSynchronization&&e.allowTabSynchronization))throw new _i(bi.FAILED_PRECONDITION,Ef)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tf(e).put("owner",t)}},{key:"yi",value:function(e){var t=this,n=Tf(e);return n.get("owner").next((function(e){return t.Si(e)?(vi("IndexedDbPersistence","Releasing primary lease."),n["delete"]("owner")):ia.resolve()}))}},{key:"Ci",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(pi("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=function(){e.oi.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ai()}))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}},{key:"Oi",value:function(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}},{key:"Vi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;(0,b.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.oi.enterRestrictedMode(!0),t.oi.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"Ni",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Mi",value:function(e){var t;try{var n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return vi("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return pi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){pi("Failed to set zombie client id.",e)}}},{key:"Li",value:function(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}},{key:"Fi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return oa.D()}}])}();function Tf(e){return Ya(e,"owner")}function Sf(e){return Ya(e,"clientMetadata")}function Cf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Of=function(){function e(t,n,r,i){(0,c.A)(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return(0,l.A)(e,null,[{key:"Ki",value:function(t,n){var r,i=Yu(),a=Yu(),o=(0,u.A)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}])}(),Rf=function(){function e(){(0,c.A)(this,e),this._documentReadCount=0}return(0,l.A)(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}])}(),Nf=function(){function e(){(0,c.A)(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return(0,b.nr)()?8:oa.v((0,b.ZQ)())>0?6:4}()}return(0,l.A)(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new Rf;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(hi()<=k.$b.DEBUG&&vi("QueryEngine","SDK will not create cache indexes for query:",Du(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ia.resolve()):(hi()<=k.$b.DEBUG&&vi("QueryEngine","Query:",Du(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(hi()<=k.$b.DEBUG&&vi("QueryEngine","The SDK decides to create cache indexes for query:",Du(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tu(t))):ia.resolve())}},{key:"ji",value:function(e,t){var n=this;if(xu(t))return ia.resolve(null);var r=Tu(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ou(t,null,"F"),r=Tu(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Yu.apply(void 0,(0,m.A)(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,Ou(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return xu(t)||r.isEqual(Vi.min())?ia.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?ia.resolve(null):(hi()<=k.$b.DEBUG&&vi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Du(t)),i.es(e,o,t,$i(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new no(Mu(e));return t.forEach((function(t,r){Pu(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return hi()<=k.$b.DEBUG&&vi("QueryEngine","Using full collection scan to execute query:",Du(t)),this.zi.getDocumentsMatchingQuery(e,t,Ji.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}])}(),Df=function(){function e(t,n,r,i){(0,c.A)(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new Za(Li),this.rs=new Uu((function(e){return pu(e)}),yu),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return(0,l.A)(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ff(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}])}();
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(e,t,n,r){return new Df(e,t,n,r)}function Lf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,g.A)((0,y.A)().mark((function e(t,n){var r;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Yu(),c=(0,u.A)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l.batchId);var f,h=(0,u.A)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(w){h.e(w)}finally{h.f()}}}catch(w){c.e(w)}finally{c.f()}var v,p=(0,u.A)(n);try{for(p.s();!(v=p.n()).done;){var y=v.value;o.push(y.batchId);var g,m=(0,u.A)(y.mutations);try{for(m.s();!(g=m.n()).done;){var A=g.value;s=s.add(A.key)}}catch(w){m.e(w)}finally{m.f()}}}catch(w){p.e(w)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Ff(e,t){var n=ki(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ia.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ai(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Yu(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Uf(e){var t=ki(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function Vf(e,t){var n=ki(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(so.EMPTY_BYTE_STRING,Vi.min()).withLastLimboFreeSnapshotVersion(Vi.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var u=ju(),s=Yu();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jf(e,a,t.documentUpdates).next((function(e){u=e.cs,s=e.ls}))),!r.isEqual(Vi.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ia.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.ns=i,e}))}function jf(e,t,n){var r=Yu(),i=Yu();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ju();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Vi.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):vi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function Bf(e,t){var n=ki(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function qf(e,t){var n=ki(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,ia.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new Vc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function zf(e,t,n){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a,o;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=ki(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e["catch"](1),ca(e.t1)){e.next=12;break}throw e.t1;case 12:vi("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs["delete"](a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Kf.apply(this,arguments)}function Gf(e,t,n){var r=ki(e),i=Vi.min(),a=Yu();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=ki(e),i=r.rs.get(n);return void 0!==i?ia.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Tu(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:Vi.min(),n?a:Yu())})).next((function(e){return Qf(r,Lu(t),e),{documents:e,hs:a}}))}))}function Hf(e,t){var n=ki(e),r=ki(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r._t(e,t).next((function(e){return e?e.target:null}))}))}function Wf(e,t){var n=ki(e),r=n.ss.get(t)||Vi.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.os.getAllFromCollectionGroup(e,t,$i(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Qf(n,t,e),e}))}function Qf(e,t,n){var r=e.ss.get(t)||Vi.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}function Yf(e,t,n,r){return $f.apply(this,arguments)}function $f(){return $f=(0,g.A)((0,y.A)().mark((function e(t,n,r,i){var a,o,s,c,l,f,h,d,v,p;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=ki(t),o=Yu(),s=ju(),c=(0,u.A)(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Ps(f.metadata.name),f.document&&(o=o.add(h)),d=n.Is(f),d.setReadTime(n.Ts(f.metadata.readTime)),s=s.insert(h,d)}catch(y){c.e(y)}finally{c.f()}return v=a.os.newChangeBuffer({trackRemovals:!0}),e.next=7,qf(a,function(e){return Tu(_u(Bi.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return jf(e,v,s).next((function(t){return v.apply(e),t})).next((function(t){return a.Qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls)})).next((function(){return t.cs}))}))})));case 9:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Xf(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a,o=arguments;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Yu(),e.next=3,qf(t,Tu(Yc(n.bundledQuery)));case 3:return i=e.sent,a=ki(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=cc(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$r.saveNamedQuery(e,n);var o=i.withResumeToken(so.EMPTY_BYTE_STRING,t);return a.ns=a.ns.insert(o.targetId,o),a.Qr.updateTargetData(e,o).next((function(){return a.Qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$r.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function eh(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function th(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var nh=function(){function e(t,n,r,i){(0,c.A)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,l.A)(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==(0,s.A)(a)&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==(0,s.A)(a.error));return o&&a.error&&(o="string"==typeof a.error.message&&"string"==typeof a.error.code,o&&(i=new _i(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(pi("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}])}(),rh=function(){function e(t,n,r){(0,c.A)(this,e),this.targetId=t,this.state=n,this.error=r}return(0,l.A)(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==(0,s.A)(i)&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==(0,s.A)(i.error));return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new _i(i.error.code,i.error.message))),a?new e(t,i.state,r):(pi("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}])}(),ih=function(){function e(t,n){(0,c.A)(this,e),this.clientId=t,this.activeTargetIds=n}return(0,l.A)(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==(0,s.A)(r)&&r.activeTargetIds instanceof Array,a=Xu(),o=0;i&&o<r.activeTargetIds.length;++o)i=Aa(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(pi("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}])}(),ah=function(){function e(t,n){(0,c.A)(this,e),this.clientId=t,this.onlineState=n}return(0,l.A)(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==(0,s.A)(n)&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(pi("SharedClientState","Failed to parse online state: ".concat(t)),null)}}])}(),oh=function(){function e(){(0,c.A)(this,e),this.activeTargetIds=Xu()}return(0,l.A)(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds["delete"](e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}])}(),uh=function(){function e(t,n,r,i,a){(0,c.A)(this,e),this.window=t,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Za(Li),this.started=!1,this.ys=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ws=Zf(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new oh),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}return(0,l.A)(e,[{key:"start",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t,n,r,i,a,o,s,c,l,f,h,d=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=(0,u.A)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if(i=r.value,i!==this.Vs){e.next=10;break}return e.abrupt("continue",12);case 10:a=this.getItem(Zf(this.persistenceKey,i)),a&&(o=ih.Es(i,a),o&&(this.ps=this.ps.insert(o.clientId,o)));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ms(),s=this.storage.getItem(this.vs),s&&(c=this.xs(s),c&&this.Os(c)),l=(0,u.A)(this.ys);try{for(l.s();!(f=l.n()).done;)h=f.value,this.gs(h)}catch(v){l.e(v)}finally{l.f()}this.ys=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ss,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ns(this.ps)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ps.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ls(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ls(e,t,n),this.Bs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(th(this.persistenceKey,e));if(n){var r=rh.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ks.Rs(e),this.Ms()}},{key:"isLocalQueryTarget",value:function(e){return this.ks.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(th(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Bs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ks(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return vi("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){vi("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){vi("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"gs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(vi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void pi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,g.A)((0,y.A)().mark((function e(){var r,i,a,o,u,s,c;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.bs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.$s(n.key),e.abrupt("return",t.Us(r,null));case 6:if(i=t.Ws(n.key,n.newValue),!i){e.next=9;break}return e.abrupt("return",t.Us(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Ds.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(a=t.Gs(n.key,n.newValue),!a){e.next=16;break}return e.abrupt("return",t.zs(a));case 16:e.next=41;break;case 18:if(!t.Cs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(o=t.js(n.key,n.newValue),!o){e.next=23;break}return e.abrupt("return",t.Hs(o));case 23:e.next=41;break;case 25:if(n.key!==t.vs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(u=t.xs(n.newValue),!u){e.next=30;break}return e.abrupt("return",t.Os(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ss){e.next=37;break}s=function(e){var t=ya._e;if(null!=e)try{var n=JSON.parse(e);Ai("number"==typeof n),t=n}catch(e){pi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ya._e&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Fs){e.next=41;break}return c=t.Js(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ys(e)})));case 41:e.next=44;break;case 43:t.ys.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"ks",get:function(){return this.ps.get(this.Vs)}},{key:"Ms",value:function(){this.setItem(this.ws,this.ks.ds())}},{key:"Ls",value:function(e,t,n){var r=new nh(this.currentUser,e,t,n),i=eh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}},{key:"Bs",value:function(e){var t=eh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Qs",value:function(e){var t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}},{key:"qs",value:function(e,t,n){var r=th(this.persistenceKey,e),i=new rh(e,t,n);this.setItem(r,i.ds())}},{key:"Ks",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}},{key:"$s",value:function(e){var t=this.bs.exec(e);return t?t[1]:null}},{key:"Ws",value:function(e,t){var n=this.$s(e);return ih.Es(n,t)}},{key:"Gs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return nh.Es(new ci(i),r,t)}},{key:"js",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]);return rh.Es(r,t)}},{key:"xs",value:function(e){return ah.Es(e)}},{key:"Js",value:function(e){return JSON.parse(e)}},{key:"zs",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(t){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Zs(t.batchId,t.state,t.error));case 2:vi("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Hs",value:function(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}},{key:"Us",value:function(e,t){var n=this,r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),a=this.Ns(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.eo(o,u).then((function(){n.ps=r}))}},{key:"Os",value:function(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ns",value:function(e){var t=Xu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}])}(),sh=function(){function e(){(0,c.A)(this,e),this.no=new oh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,l.A)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new oh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}])}(),ch=function(){function e(){(0,c.A)(this,e)}return(0,l.A)(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}])}(),lh=function(){function e(){var t=this;(0,c.A)(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return(0,l.A)(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){vi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,u.A)(this.uo);try{for(t.s();!(e=t.n()).done;){var n=e.value;n(0)}}catch(r){t.e(r)}finally{t.f()}}},{key:"ao",value:function(){vi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,u.A)(this.uo);try{for(t.s();!(e=t.n()).done;){var n=e.value;n(1)}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}])}(),fh=null;function hh(){return null===fh?fh=function(){return 268435456+Math.round(2147483648*Math.random())}():fh++,"0x"+fh.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var dh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},vh=function(){function e(t){(0,c.A)(this,e),this.lo=t.lo,this.ho=t.ho}return(0,l.A)(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}])}(),ph="WebChannelConnection",yh=function(e){function t(e){var n;return(0,c.A)(this,t),n=(0,a.A)(this,t,[e]),n.forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n.longPollingOptions=e.longPollingOptions,n}return(0,o.A)(t,e),(0,l.A)(t,[{key:"Co",value:function(e,t,n,r){var i=hh();return new Promise((function(a,o){var u=new ai;u.setWithCredentials(!0),u.listenOnce(ti.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case ei.NO_ERROR:var t=u.getResponseJson();vi(ph,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ei.TIMEOUT:vi(ph,"RPC '".concat(e,"' ").concat(i," timed out")),o(new _i(bi.DEADLINE_EXCEEDED,"Request time out"));break;case ei.HTTP_ERROR:var n=u.getStatus();if(vi(ph,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(bi).indexOf(t)>=0?t:bi.UNKNOWN}(s.status);o(new _i(c,s.message))}else o(new _i(bi.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new _i(bi.UNAVAILABLE,"Connection failed."));break;default:mi()}}finally{vi(ph,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);vi(ph,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=hh(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Jr(),o=Zr(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");vi(ph,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new vh({lo:function(t){h?vi(ph,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(vi(ph,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),vi(ph,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ho:function(){return l.close()}}),v=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return v(l,ii.EventType.OPEN,(function(){h||vi(ph,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),v(l,ii.EventType.CLOSE,(function(){h||(h=!0,vi(ph,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),v(l,ii.EventType.ERROR,(function(t){h||(h=!0,yi(ph,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new _i(bi.UNAVAILABLE,"The operation could not be completed")))})),v(l,ii.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Ai(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){vi(ph,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Cs[e];if(void 0!==t)return Us(t)}(u),c=o.message;void 0===s&&(s=bi.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.Vo(new _i(s,c)),l.close()}else vi(ph,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),v(o,ni.STAT_EVENT,(function(t){t.stat===ri.PROXY?vi(ph,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ri.NOPROXY&&vi(ph,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}])}(function(){function e(t){(0,c.A)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return(0,l.A)(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=hh(),o=this.bo(e,t.toUriEncodedString());vi("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,r,i),this.Co(e,o,u,n).then((function(t){return vi("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw yi("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+li}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=dh[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}},{key:"terminate",value:function(){}}])}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(){return"undefined"!=typeof window?window:null}function mh(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(e){return new ic(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,c.A)(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}return(0,l.A)(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&vi("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}])}(),kh=function(){function e(t,n,r,i,a,o,u,s){(0,c.A)(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new wh(t,n)}return(0,l.A)(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===bi.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===bi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,v.A)(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new _i(bi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo((0,g.A)((0,y.A)().mark((function t(){return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return vi("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(vi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}])}(),bh=function(e){function t(e,n,r,i,o,u){var s;return(0,c.A)(this,t),s=(0,a.A)(this,t,[e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u]),s.serializer=o,s}return(0,o.A)(t,e),(0,l.A)(t,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=bc(this.serializer,e),n=function(e){if(!("targetChange"in e))return Vi.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vi.min():t.readTime?cc(t.readTime):Vi.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=gc(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if(n=gu(r)?{documents:Ic(e,r)}:{query:Tc(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=uc(e,t.resumeToken);var i=ac(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Vi.min())>0){n.readTime=oc(e,t.snapshotVersion.toTimestamp());var a=ac(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=Cc(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=gc(this.serializer),t.removeTarget=e,this.t_(t)}}])}(kh),_h=function(e){function t(e,n,r,i,o,u){var s;return(0,c.A)(this,t),s=(0,a.A)(this,t,[e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u]),s.serializer=o,s.h_=!1,s}return(0,o.A)(t,e),(0,l.A)(t,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,(0,h.A)((0,d.A)(t.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(Ai(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=Ec(e.writeResults,e.commitTime),n=cc(e.commitTime);return this.listener.T_(n,t)}return Ai(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=gc(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return _c(t.serializer,e)}))};this.t_(n)}}])}(kh),xh=function(e){function t(e,n,r,i){var o;return(0,c.A)(this,t),o=(0,a.A)(this,t),o.authCredentials=e,o.appCheckCredentials=n,o.connection=r,o.serializer=i,o.A_=!1,o}return(0,o.A)(t,e),(0,l.A)(t,[{key:"R_",value:function(){if(this.A_)throw new _i(bi.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,v.A)(a,2),u=o[0],s=o[1];return i.connection.So(e,fc(t,n),r,u,s)}))["catch"]((function(e){throw"FirebaseError"===e.name?(e.code===bi.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new _i(bi.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r,i){var a=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,v.A)(o,2),s=u[0],c=u[1];return a.connection.vo(e,fc(t,n),r,s,c,i)}))["catch"]((function(e){throw"FirebaseError"===e.name?(e.code===bi.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new _i(bi.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0,this.connection.terminate()}}])}((0,l.A)((function e(){(0,c.A)(this,e)})));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eh=function(){function e(t,n){(0,c.A)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return(0,l.A)(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(pi(t),this.g_=!1):vi("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}])}(),Ih=(0,l.A)((function e(t,n,r,i,a){var o=this;(0,c.A)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget((0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=Fh(o),!e.t0){e.next=5;break}return vi("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,g.A)((0,y.A)().mark((function e(t){var n;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ki(t),n.v_.add(4),e.next=4,Ch(n);case 4:return n.x_.set("Unknown"),n.v_["delete"](4),e.next=8,Th(n);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new Eh(r,i)}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,g.A)((0,y.A)().mark((function e(t){var n,r,i;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Fh(t)){e.next=18;break}n=(0,u.A)(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Sh.apply(this,arguments)}function Ch(e){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,g.A)((0,y.A)().mark((function e(t){var n,r,i;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=(0,u.A)(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Oh.apply(this,arguments)}function Rh(e,t){var n=ki(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Mh(n)?Lh(n):hd(n).Jo()&&Dh(n,t))}function Nh(e,t){var n=ki(e),r=hd(n);n.C_["delete"](t),r.Jo()&&Ph(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Fh(n)&&n.x_.set("Unknown"))}function Dh(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vi.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hd(e).c_(t)}function Ph(e,t){e.O_.Oe(t),hd(e).l_(t)}function Lh(e){e.O_=new Js({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.C_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),hd(e).start(),e.x_.p_()}function Mh(e){return Fh(e)&&!hd(e).Ho()&&e.C_.size>0}function Fh(e){return 0===ki(e).v_.size}function Uh(e){e.O_=void 0}function Vh(e){return jh.apply(this,arguments)}function jh(){return jh=(0,g.A)((0,y.A)().mark((function e(t){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){Dh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Bh(e,t){return qh.apply(this,arguments)}function qh(){return qh=(0,g.A)((0,y.A)().mark((function e(t,n){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Uh(t),Mh(t)?(t.x_.S_(n),Lh(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}function zh(e,t,n){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof $s&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a,o;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.cause,i=(0,u.A)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_["delete"](o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));function t(t,n){return e.apply(this,arguments)}return t}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e["catch"](1),vi("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Gh(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof Qs?t.O_.$e(n):n instanceof Ys?t.O_.Je(n):t.O_.Ge(n),r.isEqual(Vi.min())){e.next=29;break}return e.prev=14,e.next=17,Uf(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(so.EMPTY_BYTE_STRING,r.snapshotVersion)),Ph(e,t);var i=new Vc(r.target,t,n,r.sequenceNumber);Dh(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e["catch"](14),vi("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Gh(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Kh.apply(this,arguments)}function Gh(e,t,n){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,g.A)((0,y.A)().mark((function e(t,n,r){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ca(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,Ch(t);case 5:t.x_.set("Offline"),r||(r=function(){return Uf(t.localStore)}),t.asyncQueue.enqueueRetryable((0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return vi("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_["delete"](1),e.next=6,Th(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Wh(e,t){return t()["catch"]((function(n){return Gh(e,n,t)}))}function Qh(e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,g.A)((0,y.A)().mark((function e(t){var n,r,i,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=ki(t),r=dd(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!$h(n)){e.next=19;break}return e.prev=3,e.next=6,Bf(n.localStore,i);case 6:if(a=e.sent,null!==a){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,Xh(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](3),e.next=17,Gh(n,e.t0);case 17:e.next=2;break;case 19:Jh(n)&&Zh(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Yh.apply(this,arguments)}function $h(e){return Fh(e)&&e.D_.length<10}function Xh(e,t){e.D_.push(t);var n=dd(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Jh(e){return Fh(e)&&!dd(e).Ho()&&e.D_.length>0}function Zh(e){dd(e).start()}function ed(e){return td.apply(this,arguments)}function td(){return td=(0,g.A)((0,y.A)().mark((function e(t){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:dd(t).d_();case 1:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e){return rd.apply(this,arguments)}function rd(){return rd=(0,g.A)((0,y.A)().mark((function e(t){var n,r,i,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=dd(t),r=(0,u.A)(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t,n){return ad.apply(this,arguments)}function ad(){return ad=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=Ps.from(i,n,r),e.next=3,Wh(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Qh(t);case 5:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e,t){return ud.apply(this,arguments)}function ud(){return ud=(0,g.A)((0,y.A)().mark((function e(t,n){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=n&&dd(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n){var r;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!function(e){return Fs(e)&&e!==bi.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),dd(t).Zo(),e.next=5,Wh(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Qh(t);case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()(t,n);case 4:Jh(t)&&Zh(t);case 5:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}function sd(e,t){return cd.apply(this,arguments)}function cd(){return cd=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),r.asyncQueue.verifyOperationInProgress(),vi("RemoteStore","RemoteStore received new credentials"),i=Fh(r),r.v_.add(3),e.next=6,Ch(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_["delete"](3),e.next=12,Th(r);case 12:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(e,t){return fd.apply(this,arguments)}function fd(){return fd=(0,g.A)((0,y.A)().mark((function e(t,n){var r;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=ki(t),!n){e.next=7;break}return r.v_["delete"](2),e.next=5,Th(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,Ch(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}function hd(e){return e.N_||(e.N_=function(e,t,n){var r=ki(e);return r.R_(),new bh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Po:Vh.bind(null,e),To:Bh.bind(null,e),u_:zh.bind(null,e)}),e.F_.push(function(){var t=(0,g.A)((0,y.A)().mark((function t(n){return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),Mh(e)?Lh(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:Uh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function dd(e){return e.L_||(e.L_=function(e,t,n){var r=ki(e);return r.R_(),new _h(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ed.bind(null,e),To:od.bind(null,e),E_:nd.bind(null,e),T_:id.bind(null,e)}),e.F_.push(function(){var t=(0,g.A)((0,y.A)().mark((function t(n){return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Zo(),t.next=4,Qh(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.D_.length>0&&(vi("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.L_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var vd=function(){function e(t,n,r,i,a){(0,c.A)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise["catch"]((function(e){}))}return(0,l.A)(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _i(bi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=Date.now()+r,u=new e(t,n,o,i,a);return u.start(r),u}}])}();function pd(e,t){if(pi("AsyncQueue","".concat(t,": ").concat(e)),ca(e))return new _i(bi.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yd,gd,md=function(){function e(t){(0,c.A)(this,e),this.comparator=t?function(e,n){return t(e,n)||Ki.comparator(e.key,n.key)}:function(e,t){return Ki.comparator(e.key,t.key)},this.keyedMap=qu(),this.sortedSet=new Za(this.comparator)}return(0,l.A)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this["delete"](e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}])}(),Ad=function(){function e(){(0,c.A)(this,e),this.B_=new Za(Ki.comparator)}return(0,l.A)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):mi():this.B_=this.B_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}])}(),wd=function(){function e(t,n,r,i,a,o,u,s,l){(0,c.A)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return(0,l.A)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,md.emptySet(n),o,r,i,!0,!1,a)}}])}(),kd=function(){function e(){(0,c.A)(this,e),this.q_=void 0,this.Q_=[]}return(0,l.A)(e,[{key:"K_",value:function(){return this.Q_.some((function(e){return e.U_()}))}}])}(),bd=(0,l.A)((function e(){(0,c.A)(this,e),this.queries=new Uu((function(e){return Nu(e)}),Ru),this.onlineState="Unknown",this.W_=new Set}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(e,t){return xd.apply(this,arguments)}function xd(){return xd=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a,o,u;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=ki(t),i=3,a=n.query,o=r.queries.get(a),o?!o.K_()&&n.U_()&&(i=2):(o=new kd,i=n.U_()?0:1),e.prev=5,e.t0=i,e.next=0===e.t0?9:1===e.t0?13:2===e.t0?17:19;break;case 9:return e.next=11,r.onListen(a,!0);case 11:return o.q_=e.sent,e.abrupt("break",19);case 13:return e.next=15,r.onListen(a,!1);case 15:return o.q_=e.sent,e.abrupt("break",19);case 17:return e.next=19,r.onFirstRemoteStoreListen(a);case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e["catch"](5),u=pd(e.t1,"Initialization of query '".concat(Du(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 25:r.queries.set(a,o),o.Q_.push(n),n.G_(r.onlineState),o.q_&&n.z_(o.q_)&&Cd(r);case 26:case"end":return e.stop()}}),e,null,[[5,21]])}))),xd.apply(this,arguments)}function Ed(e,t){return Id.apply(this,arguments)}function Id(){return Id=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a,o,u;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=ki(t),i=n.query,a=3,o=r.queries.get(i),o&&(u=o.Q_.indexOf(n),u>=0&&(o.Q_.splice(u,1),0===o.Q_.length?a=n.U_()?0:1:!o.K_()&&n.U_()&&(a=2))),e.t0=a,e.next=0===e.t0?7:1===e.t0?8:2===e.t0?9:10;break;case 7:return e.abrupt("return",(r.queries["delete"](i),r.onUnlisten(i,!0)));case 8:return e.abrupt("return",(r.queries["delete"](i),r.onUnlisten(i,!1)));case 9:return e.abrupt("return",r.onLastRemoteStoreUnlisten(i));case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)}))),Id.apply(this,arguments)}function Td(e,t){var n,r=ki(e),i=!1,a=(0,u.A)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,c=r.queries.get(s);if(c){var l,f=(0,u.A)(c.Q_);try{for(f.s();!(l=f.n()).done;){var h=l.value;h.z_(o)&&(i=!0)}}catch(d){f.e(d)}finally{f.f()}c.q_=o}}}catch(d){a.e(d)}finally{a.f()}i&&Cd(r)}function Sd(e,t,n){var r=ki(e),i=r.queries.get(t);if(i){var a,o=(0,u.A)(i.Q_);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.onError(n)}}catch(c){o.e(c)}finally{o.f()}}r.queries["delete"](t)}function Cd(e){e.W_.forEach((function(e){e.next()}))}(gd=yd||(yd={})).j_="default",gd.Cache="cache";var Od=function(){function e(t,n,r){(0,c.A)(this,e),this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}return(0,l.A)(e,[{key:"z_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,u.A)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new wd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),a=!0):this.X_(e,this.onlineState)&&(this.ea(e),a=!0),this.Y_=e,a}},{key:"onError",value:function(e){this.H_.error(e)}},{key:"G_",value:function(e){this.onlineState=e;var t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}},{key:"X_",value:function(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;var n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ea",value:function(e){e=wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}},{key:"U_",value:function(){return this.options.source!==yd.Cache}}])}(),Rd=function(){function e(t,n){(0,c.A)(this,e),this.na=t,this.byteLength=n}return(0,l.A)(e,[{key:"ra",value:function(){return"metadata"in this.na}}])}(),Nd=function(){function e(t){(0,c.A)(this,e),this.serializer=t}return(0,l.A)(e,[{key:"Ps",value:function(e){return vc(this.serializer,e)}},{key:"Is",value:function(e){return e.metadata.exists?wc(this.serializer,e.document,!1):qo.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return cc(e)}}])}(),Dd=function(){function e(t,n,r){(0,c.A)(this,e),this.ia=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pd(t)}return(0,l.A)(e,[{key:"sa",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;var n=Bi.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"oa",value:function(e){var t,n=new Map,r=new Nd(this.serializer),i=(0,u.A)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ps(a.metadata.name),c=(0,u.A)(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||Yu()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t,n,r,i,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Yf(this.localStore,new Nd(this.serializer),this.documents,this.ia.id);case 2:t=e.sent,n=this.oa(this.documents),r=(0,u.A)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Xf(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ld=(0,l.A)((function e(t){(0,c.A)(this,e),this.key=t})),Md=(0,l.A)((function e(t){(0,c.A)(this,e),this.key=t})),Fd=function(){function e(t,n){(0,c.A)(this,e),this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Yu(),this.mutatedKeys=Yu(),this.ha=Mu(t),this.Pa=new md(this.ha)}return(0,l.A)(e,[{key:"Ia",get:function(){return this.ua}},{key:"Ta",value:function(e,t){var n=this,r=t?t.Ea:new Ad,i=t?t.Pa:this.Pa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Pu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.da(l,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.ha(f,s)>0||c&&n.ha(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),v=!0):l&&!f&&(r.track({type:1,doc:l}),v=!0,(s||c)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a["delete"](e)):(o=o["delete"](e),a=a["delete"](e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o["delete"](l.key),a=a["delete"](l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:u,mutatedKeys:a}}},{key:"da",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;var o=e.Ea.k_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mi()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||i.ha(e.doc,t.doc)})),this.Aa(n),r=null!=r&&r;var u=t&&!r?this.Ra():[],s=0===this.la.size&&this.current&&!r?1:0,c=s!==this.ca;return this.ca=s,0!==o.length||c?{snapshot:new wd(this.query,e.Pa,a,o,e.mutatedKeys,0===s,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:u}:{Va:u}}},{key:"G_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Ad,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}},{key:"ma",value:function(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}},{key:"Aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ua=t.ua.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ua=t.ua["delete"](e)})),this.current=e.current)}},{key:"Ra",value:function(){var e=this;if(!this.current)return[];var t=this.la;this.la=Yu(),this.Pa.forEach((function(t){e.ma(t.key)&&(e.la=e.la.add(t.key))}));var n=[];return t.forEach((function(t){e.la.has(t)||n.push(new Md(t))})),this.la.forEach((function(e){t.has(e)||n.push(new Ld(e))})),n}},{key:"fa",value:function(e){this.ua=e.hs,this.la=Yu();var t=this.Ta(e.documents);return this.applyChanges(t,!0)}},{key:"ga",value:function(){return wd.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}])}(),Ud=(0,l.A)((function e(t,n,r){(0,c.A)(this,e),this.query=t,this.targetId=n,this.view=r})),Vd=(0,l.A)((function e(t){(0,c.A)(this,e),this.key=t,this.pa=!1})),jd=function(){function e(t,n,r,i,a,o){(0,c.A)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Uu((function(e){return Nu(e)}),Ru),this.Sa=new Map,this.ba=new Set,this.Da=new Za(Ki.comparator),this.Ca=new Map,this.va=new vf,this.Fa={},this.Ma=new Map,this.xa=ql.Ln(),this.onlineState="Unknown",this.Oa=void 0}return(0,l.A)(e,[{key:"isPrimaryClient",get:function(){return!0===this.Oa}}])}();function Bd(e,t){return qd.apply(this,arguments)}function qd(){return qd=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a,o,u=arguments;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=!(u.length>2&&void 0!==u[2])||u[2],i=jv(t),o=i.wa.get(n),!o){e.next=7;break}i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.ga(),e.next=10;break;case 7:return e.next=9,Gd(i,n,r,!0);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function zd(e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,g.A)((0,y.A)().mark((function e(t,n){var r;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=jv(t),e.next=3,Gd(r,n,!0,!1);case 3:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}function Gd(e,t,n,r){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,g.A)((0,y.A)().mark((function e(t,n,r,i){var a,o,u,s;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qf(t.localStore,Tu(n));case 2:if(a=e.sent,o=a.targetId,u=r?t.sharedClientState.addLocalQueryTarget(o):"not-current",e.t0=i,!e.t0){e.next=10;break}return e.next=9,Wd(t,n,o,"current"===u,a.resumeToken);case 9:s=e.sent;case 10:return t.isPrimaryClient&&r&&Rh(t.remoteStore,a),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),Hd.apply(this,arguments)}function Wd(e,t,n,r,i){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,g.A)((0,y.A)().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.Na=function(e,n,r){return function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n,r,i){var a,o,u,s;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=n.view.Ta(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,Gf(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ta(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=i&&null!=i.targetMismatches.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o,u),e.abrupt("return",(yv(t,n.targetId,s.Va),s.snapshot));case 8:case"end":return e.stop()}}),e)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()(t,e,n,r)},e.next=3,Gf(t.localStore,n,!0);case 3:return o=e.sent,u=new Fd(n,o.hs),s=u.Ta(o.documents),c=Ws.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),yv(t,r,l.Va),f=new Ud(n,r,u),e.abrupt("return",(t.wa.set(n,f),t.Sa.has(r)?t.Sa.get(r).push(n):t.Sa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Qd.apply(this,arguments)}function Yd(e,t,n){return $d.apply(this,arguments)}function $d(){return $d=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a,o;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=ki(t),a=i.wa.get(n),o=i.Sa.get(a.targetId),!(o.length>1)){e.next=3;break}return e.abrupt("return",(i.Sa.set(a.targetId,o.filter((function(e){return!Ru(e,n)}))),void i.wa["delete"](n)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,zf(i.localStore,a.targetId,!1).then((function(){i.sharedClientState.clearQueryState(a.targetId),r&&Nh(i.remoteStore,a.targetId),vv(i,a.targetId)}))["catch"](na);case 9:e.next=14;break;case 11:return vv(i,a.targetId),e.next=14,zf(i.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),$d.apply(this,arguments)}function Xd(e,t){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=ki(t),i=r.wa.get(n),a=r.Sa.get(i.targetId),r.isPrimaryClient&&1===a.length&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),Nh(r.remoteStore,i.targetId));case 2:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}function Zd(e,t,n){return ev.apply(this,arguments)}function ev(){return ev=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a,o;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Bv(t),e.prev=1,e.next=4,function(e,t){var n,r,i=ki(e),a=Ui.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Yu());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=ju(),c=Yu();return i.os.getEntries(e,o).next((function(e){s=e,s.forEach((function(e,t){t.isValidDocument()||(c=c.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],c=(0,u.A)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=bs(l,n.get(l.key).overlayedDocument);null!=f&&s.push(new Es(l.key,f,Bo(f.value.mapValue),ys.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,c);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:zu(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Fa[e.currentUser.toKey()];r||(r=new Za(Li)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Av(i,a.changes);case 9:return e.next=11,Qh(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](1),o=pd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ev.apply(this,arguments)}function tv(e,t){return nv.apply(this,arguments)}function nv(){return nv=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),e.prev=1,e.next=4,Vf(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Ca.get(t);n&&(Ai(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.pa=!0:e.modifiedDocuments.size>0?Ai(n.pa):e.removedDocuments.size>0&&(Ai(n.pa),n.pa=!1))})),e.next=8,Av(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e["catch"](1),e.next=14,na(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),nv.apply(this,arguments)}function rv(e,t,n){var r=ki(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wa.forEach((function(e,n){var r=n.view.G_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ki(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=(0,u.A)(n.Q_);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.G_(t)&&(r=!0)}}catch(s){a.e(s)}finally{a.f()}})),r&&Cd(n)}(r.eventManager,t),i.length&&r.ya.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function iv(e,t,n){return av.apply(this,arguments)}function av(){return av=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a,o,u,s,c;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=ki(t),i.sharedClientState.updateQueryState(n,"rejected",r),a=i.Ca.get(n),o=a&&a.key,!o){e.next=14;break}return u=new Za(Ki.comparator),u=u.insert(o,qo.newNoDocument(o,Vi.min())),s=Yu().add(o),c=new Hs(Vi.min(),new Map,new Za(Li),u,s),e.next=9,tv(i,c);case 9:i.Da=i.Da.remove(o),i.Ca["delete"](n),mv(i),e.next=16;break;case 14:return e.next=16,zf(i.localStore,n,!1).then((function(){return vv(i,n,r)}))["catch"](na);case 16:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e,t){return uv.apply(this,arguments)}function uv(){return uv=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),i=n.batch.batchId,e.prev=1,e.next=4,Ff(r.localStore,n);case 4:return a=e.sent,dv(r,i,null),hv(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Av(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](1),e.next=16,na(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),uv.apply(this,arguments)}function sv(e,t,n){return cv.apply(this,arguments)}function cv(){return cv=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=ki(t),e.prev=1,e.next=4,function(e,t){var n=ki(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Ai(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,dv(i,n,r),hv(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Av(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](1),e.next=16,na(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),cv.apply(this,arguments)}function lv(e,t){return fv.apply(this,arguments)}function fv(){return fv=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a,o;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),Fh(r.remoteStore)||vi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ki(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(i=e.sent,-1!==i){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:a=r.Ma.get(i)||[],a.push(n),r.Ma.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),o=pd(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),fv.apply(this,arguments)}function hv(e,t){(e.Ma.get(t)||[]).forEach((function(e){e.resolve()})),e.Ma["delete"](t)}function dv(e,t,n){var r=ki(e),i=r.Fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function vv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,u.A)(e.Sa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wa["delete"](a),n&&e.ya.La(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Sa["delete"](t),e.isPrimaryClient&&e.va.Vr(t).forEach((function(t){e.va.containsKey(t)||pv(e,t)}))}function pv(e,t){e.ba["delete"](t.path.canonicalString());var n=e.Da.get(t);null!==n&&(Nh(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca["delete"](n),mv(e))}function yv(e,t,n){var r,i=(0,u.A)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Ld?(e.va.addReference(a.key,t),gv(e,a)):a instanceof Md?(vi("SyncEngine","Document no longer in limbo: "+a.key),e.va.removeReference(a.key,t),e.va.containsKey(a.key)||pv(e,a.key)):mi()}}catch(o){i.e(o)}finally{i.f()}}function gv(e,t){var n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(vi("SyncEngine","New document in limbo: "+n),e.ba.add(r),mv(e))}function mv(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){var t=e.ba.values().next().value;e.ba["delete"](t);var n=new Ki(Bi.fromString(t)),r=e.xa.next();e.Ca.set(r,new Vd(n)),e.Da=e.Da.insert(n,r),Rh(e.remoteStore,new Vc(Tu(_u(n.path)),r,"TargetPurposeLimboResolution",ya._e))}}function Av(e,t,n){return wv.apply(this,arguments)}function wv(){return wv=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a,o,s;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=ki(t),a=[],o=[],s=[],e.t0=i.wa.isEmpty(),e.t0){e.next=9;break}return i.wa.forEach((function(e,t){s.push(i.Na(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Of.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ya.u_(a),e.next=9,function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a,o,s,c,l,f;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ia.forEach(n,(function(t){return ia.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ia.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e["catch"](1),ca(e.t0)){e.next=10;break}throw e.t0;case 10:vi("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=(0,u.A)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(c=r.ns.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.ns=r.ns.insert(s,f))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));function t(t,n){return e.apply(this,arguments)}return t}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function kv(e,t){return bv.apply(this,arguments)}function bv(){return bv=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=ki(t),r.currentUser.isEqual(n)){e.next=11;break}return vi("SyncEngine","User change. New user:",n.toKey()),e.next=5,Lf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ma.forEach((function(e){e.forEach((function(e){e.reject(new _i(bi.CANCELLED,t))}))})),e.Ma.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Av(r,i.us);case 11:case"end":return e.stop()}}),e)}))),bv.apply(this,arguments)}function _v(e,t){var n=ki(e),r=n.Ca.get(t);if(r&&r.pa)return Yu().add(r.key);var i=Yu(),a=n.Sa.get(t);if(!a)return i;var o,s=(0,u.A)(a);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=n.wa.get(c);i=i.unionWith(l.view.Ia)}}catch(f){s.e(f)}finally{s.f()}return i}function xv(e,t){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),e.next=3,Gf(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.fa(i),e.abrupt("return",(r.isPrimaryClient&&yv(r,n.targetId,a.Va),a));case 6:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function Iv(e,t){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,g.A)((0,y.A)().mark((function e(t,n){var r;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),e.abrupt("return",Wf(r.localStore,n).then((function(e){return Av(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Sv(e,t,n,r){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,g.A)((0,y.A)().mark((function e(t,n,r,i){var a,o;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=ki(t),e.next=3,function(e,t){var n=ki(e),r=ki(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ia.resolve(null)}))}))}(a.localStore,n);case 3:if(o=e.sent,null===o){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Qh(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(dv(a,n,i||null),hv(a,n),function(e,t){ki(ki(e).mutationQueue).Mn(t)}(a.localStore,n)):mi();case 11:return e.next=13,Av(a,o);case 13:e.next=16;break;case 15:vi("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Cv.apply(this,arguments)}function Ov(e,t){return Rv.apply(this,arguments)}function Rv(){return Rv=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a,o,s,c,l,f;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=ki(t),jv(r),Bv(r),!0!==n||!0===r.Oa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Nv(r,i.toArray());case 5:return a=e.sent,r.Oa=!0,e.next=9,ld(r.remoteStore,!0);case 9:o=(0,u.A)(a);try{for(o.s();!(s=o.n()).done;)c=s.value,Rh(r.remoteStore,c)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Oa){e.next=25;break}return l=[],f=Promise.resolve(),r.Sa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return vv(r,t),zf(r.localStore,t,!0)})),Nh(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Nv(r,l);case 21:return function(e){var t=ki(e);t.Ca.forEach((function(e,n){Nh(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new Za(Ki.comparator)}(r),r.Oa=!1,e.next=25,ld(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}function Nv(e,t,n){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,v,p,g,m,A;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=ki(t),a=[],o=[],s=(0,u.A)(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,h=i.Sa.get(l),!h||0===h.length){e.next=34;break}return e.next=11,qf(i.localStore,Tu(h[0]));case 11:f=e.sent,d=(0,u.A)(h),e.prev=13,d.s();case 15:if((v=d.n()).done){e.next=24;break}return p=v.value,g=i.wa.get(p),e.next=20,xv(i,g);case 20:m=e.sent,m.snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Hf(i.localStore,l);case 36:return A=e.sent,e.next=39,qf(i.localStore,A);case 39:return f=e.sent,e.next=42,Wd(i,Pv(A),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e["catch"](2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.ya.u_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Dv.apply(this,arguments)}function Pv(e){return bu(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Lv(e){return function(e){return ki(ki(e).persistence).Bi()}(ki(e).localStore)}function Mv(e,t,n,r){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,g.A)((0,y.A)().mark((function e(t,n,r,i){var a,o,u,s;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=ki(t),!a.Oa){e.next=3;break}return e.abrupt("return",void vi("SyncEngine","Ignoring unexpected query state notification."));case 3:if(o=a.Sa.get(n),!(o&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Wf(a.localStore,Lu(o[0]));case 10:return u=e.sent,s=Hs.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,so.EMPTY_BYTE_STRING),e.next=14,Av(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,zf(a.localStore,n,!0);case 17:return vv(a,n,i),e.abrupt("break",20);case 19:mi();case 20:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Uv(e,t,n){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=jv(t),!i.Oa){e.next=45;break}a=(0,u.A)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Sa.has(s)||!i.sharedClientState.isActiveQueryTarget(s)){e.next=10;break}return vi("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Hf(i.localStore,s);case 12:return c=e.sent,e.next=15,qf(i.localStore,c);case 15:return l=e.sent,e.next=18,Wd(i,Pv(c),l.targetId,!1,l.resumeToken);case 18:Rh(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=(0,u.A)(r),e.prev=30,d=(0,y.A)().mark((function e(){var t;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.Sa.has(t),!e.t0){e.next=5;break}return e.next=5,zf(i.localStore,t,!1).then((function(){Nh(i.remoteStore,t),vv(i,t)}))["catch"](na);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e["catch"](30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Vv.apply(this,arguments)}function jv(e){var t=ki(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_v.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iv.bind(null,t),t.ya.u_=Td.bind(null,t.eventManager),t.ya.La=Sd.bind(null,t.eventManager),t}function Bv(e){var t=ki(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ov.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sv.bind(null,t),t}function qv(e,t,n){var r=ki(e);(function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a,o,u,s;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ki(e),r=cc(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$r.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Pd(i)),a=new Dd(i,t.localStore,n.serializer),e.next=15,n.Ba();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.sa(o);case 19:return u=e.sent,u&&r._updateProgress(u),e.next=23,n.Ba();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Av(t,s.aa,void 0);case 31:return e.next=33,function(e,t){var n=ki(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$r.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s._a));case 37:return e.prev=37,e.t0=e["catch"](0),e.abrupt("return",(yi("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));function t(t,n,r){return e.apply(this,arguments)}return t})()
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var zv=function(){function e(){(0,c.A)(this,e),this.synchronizeTabs=!1}return(0,l.A)(e,[{key:"initialize",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(t){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Pf(this.persistence,new Nf,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new wf(bf.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new sh}},{key:"terminate",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t,n;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(n=this.indexBackfillerScheduler)||void 0===n||n.stop(),this.sharedClientState.shutdown(),e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}(),Kv=function(e){function t(e,n,r){var i;return(0,c.A)(this,t),i=(0,a.A)(this,t),i.ka=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,o.A)(t,e),(0,l.A)(t,[{key:"initialize",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(n){var r=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,h.A)((0,d.A)(t.prototype),"initialize",this).call(this,n);case 2:return e.next=4,this.ka.initialize(this,n);case 4:return e.next=6,Bv(this.ka.syncEngine);case 6:return e.next=8,Qh(this.ka.remoteStore);case 8:return e.next=10,this.persistence.fi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));function n(t){return e.apply(this,arguments)}return n}()},{key:"createLocalStore",value:function(e){return Pf(this.persistence,new Nf,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Yl(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new pa(t,this.persistence);return new va(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Cf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pl.withCacheSize(this.cacheSizeBytes):Pl.DEFAULT;return new If(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gh(),mh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new sh}}])}(zv),Gv=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[e,n,!1]),r.ka=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"initialize",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(n){var r,i=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,h.A)((0,d.A)(t.prototype),"initialize",this).call(this,n);case 2:if(r=this.ka.syncEngine,e.t0=this.sharedClientState instanceof uh,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Zs:Sv.bind(null,r),Xs:Mv.bind(null,r),eo:Uv.bind(null,r),Bi:Lv.bind(null,r),Ys:Iv.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.fi(function(){var e=(0,g.A)((0,y.A)().mark((function e(t){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ov(i.ka.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));function n(t){return e.apply(this,arguments)}return n}()},{key:"createSharedClientState",value:function(e){var t=gh();if(!uh.D(t))throw new _i(bi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Cf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}])}(Kv),Hv=function(){function e(){(0,c.A)(this,e)}return(0,l.A)(e,[{key:"initialize",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n){var r=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return rv(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kv.bind(null,this.syncEngine),e.next=12,ld(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"createEventManager",value:function(e){return function(){return new bd}()}},{key:"createDatastore",value:function(e){var t=Ah(e.databaseInfo.databaseId),n=function(e){return new yh(e)}(e.databaseInfo);return function(e,t,n,r){return new xh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Ih(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return rv(t.syncEngine,e,0)}),function(){return lh.D()?new lh:new ch}())}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new jd(e,t,n,r,i,a);return o&&(u.Oa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=(0,g.A)((0,y.A)().mark((function e(t){var n;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ki(t),vi("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,Ch(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()(this.remoteStore);case 2:null===(t=this.datastore)||void 0===t||t.terminate();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Wv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,g.A)((0,y.A)().mark((function r(){var i;return(0,y.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return(0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=function(){function e(t){(0,c.A)(this,e),this.observer=t,this.muted=!1}return(0,l.A)(e,[{key:"next",value:function(e){this.observer.next&&this.qa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.qa(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString())}},{key:"Qa",value:function(){this.muted=!0}},{key:"qa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}])}(),Yv=function(){function e(t,n){var r=this;(0,c.A)(this,e),this.Ka=t,this.serializer=n,this.metadata=new xi,this.buffer=new Uint8Array,this.$a=function(){return new TextDecoder("utf-8")}(),this.Ua().then((function(e){e&&e.ra()?r.metadata.resolve(e.na.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(function(e){return r.metadata.reject(e)}))}return(0,l.A)(e,[{key:"close",value:function(){return this.Ka.cancel()}},{key:"getMetadata",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Ba",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ua());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Ua",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t,n,r,i;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.Wa();case 2:if(t=e.sent,null!==t){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.$a.decode(t),r=Number(n),isNaN(r)&&this.Ga("length string (".concat(n,") is not valid number")),e.next=9,this.za(r);case 9:return i=e.sent,e.abrupt("return",new Rd(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ja",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Wa",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t,n;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.ja()<0)){e.next=7;break}return e.next=3,this.Ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return t=this.ja(),t<0&&this.Ga("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"za",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(t){var n;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ga("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.$a.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Ga",value:function(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ha",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t,n;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.Ka.read();case 2:return t=e.sent,t.done||(n=new Uint8Array(this.buffer.length+t.value.length),n.set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}(),$v=function(){function e(t){(0,c.A)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}return(0,l.A)(e,[{key:"lookup",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(t){var n,r=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw this.lastTransactionError=new _i(bi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;case 2:return e.next=4,function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i,a,o,u;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),i={documents:n.map((function(e){return dc(r.serializer,e)}))},e.next=4,r.vo("BatchGetDocuments",r.serializer.databaseId,Bi.emptyPath(),i,n.length);case 4:return a=e.sent,o=new Map,a.forEach((function(e){var t=kc(r.serializer,e);o.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=o.get(e.toString());Ai(!!t),u.push(t)})),u));case 9:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Rs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t,n=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastTransactionError){e.next=2;break}throw this.lastTransactionError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t["delete"](e.key.toString())})),t.forEach((function(e,t){var r=Ki.fromPath(t);n.mutations.push(new Ns(r,n.precondition(r)))})),e.next=7,function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ki(t),i={writes:n.map((function(e){return _c(r.serializer,e)}))},e.next=3,r.So("Commit",r.serializer.databaseId,Bi.emptyPath(),i);case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mi();t=Vi.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new _i(bi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vi.min())?ys.exists(!1):ys.updateTime(t):ys.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vi.min()))throw new _i(bi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ys.updateTime(t)}return ys.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}])}(),Xv=function(){function e(t,n,r,i,a){(0,c.A)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Ja=r.maxAttempts,this.jo=new wh(this.asyncQueue,"transaction_retry")}return(0,l.A)(e,[{key:"Ya",value:function(){this.Ja-=1,this.Za()}},{key:"Za",value:function(){var e=this;this.jo.qo((0,g.A)((0,y.A)().mark((function t(){var n,r;return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new $v(e.datastore),r=e.Xa(n),r&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)}))["catch"]((function(t){e.eu(t)}))}))}))["catch"]((function(t){e.eu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Xa",value:function(e){try{var t=this.updateFunction(e);return!ga(t)&&t["catch"]&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"eu",value:function(e){var t=this;this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((function(){return t.Za(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"tu",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Fs(t)}return!1}}])}(),Jv=function(){function e(t,n,r,i){var a=this;(0,c.A)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ci.UNAUTHENTICATED,this.clientId=Pi.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,g.A)((0,y.A)().mark((function e(t){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return vi("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return vi("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,l.A)(e,[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new _i(bi.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.A)((0,y.A)().mark((function n(){var r;return(0,y.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n["catch"](0),r=pd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(e,t){return ep.apply(this,arguments)}function ep(){return ep=(0,g.A)((0,y.A)().mark((function e(t,n){var r,i;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),vi("FirestoreClient","Initializing OfflineComponentProvider"),r=t.configuration,e.next=4,n.initialize(r);case 4:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,g.A)((0,y.A)().mark((function e(t){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Lf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 6:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}function tp(e,t){return np.apply(this,arguments)}function np(){return np=(0,g.A)((0,y.A)().mark((function e(t,n){var r;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ip(t);case 3:return r=e.sent,vi("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.initialize(r,t.configuration);case 7:t.setCredentialChangeListener((function(e){return sd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sd(n.remoteStore,t)})),t._onlineComponents=n;case 10:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(e){return"FirebaseError"===e.name?e.code===bi.FAILED_PRECONDITION||e.code===bi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function ip(e){return ap.apply(this,arguments)}function ap(){return ap=(0,g.A)((0,y.A)().mark((function e(t){var n;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return vi("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Zv(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e["catch"](3),n=e.t0,rp(n)){e.next=13;break}throw n;case 13:return yi("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Zv(t,new zv);case 16:e.next=21;break;case 18:return vi("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Zv(t,new zv);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),ap.apply(this,arguments)}function op(e){return up.apply(this,arguments)}function up(){return up=(0,g.A)((0,y.A)().mark((function e(t){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return vi("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,tp(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return vi("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,tp(t,new Hv);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function sp(e){return ip(e).then((function(e){return e.persistence}))}function cp(e){return ip(e).then((function(e){return e.localStore}))}function lp(e){return op(e).then((function(e){return e.remoteStore}))}function fp(e){return op(e).then((function(e){return e.syncEngine}))}function hp(e){return op(e).then((function(e){return e.datastore}))}function dp(e){return vp.apply(this,arguments)}function vp(){return vp=(0,g.A)((0,y.A)().mark((function e(t){var n,r;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,op(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Bd.bind(null,n.syncEngine),r.onUnlisten=Yd.bind(null,n.syncEngine),r.onFirstRemoteStoreListen=zd.bind(null,n.syncEngine),r.onLastRemoteStoreUnlisten=Xd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function pp(e){return e.asyncQueue.enqueue((0,g.A)((0,y.A)().mark((function t(){var n,r;return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,sp(e);case 2:return n=t.sent,t.next=5,lp(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ki(e);return t.v_["delete"](0),Th(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}function yp(e){return e.asyncQueue.enqueue((0,g.A)((0,y.A)().mark((function t(){var n,r;return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,sp(e);case 2:return n=t.sent,t.next=5,lp(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=(0,g.A)((0,y.A)().mark((function e(t){var n;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ki(t),n.v_.add(0),e.next=4,Ch(n);case 4:n.x_.set("Offline");case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()(r)));case 7:case"end":return t.stop()}}),t)}))))}function gp(e,t){var n=new xi;return e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function r(){return(0,y.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ki(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:i=e.sent,i.isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new _i(bi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),a=pd(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,n,r){return e.apply(this,arguments)}return t}(),r.next=3,cp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}function mp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new xi;return e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function i(){return(0,y.A)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Qv({next:function(a){t.enqueueAndForget((function(){return Ed(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new _i(bi.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new _i(bi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Od(_u(n.path),a,{includeMetadataChanges:!0,ta:!0});return _d(e,o)},i.next=3,dp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ap(e,t){var n=new xi;return e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function r(){return(0,y.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,g.A)((0,y.A)().mark((function e(t,n,r){var i,a,o,u,s;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gf(t,n,!0);case 3:i=e.sent,a=new Fd(n,i.hs),o=a.Ta(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),s=pd(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t,n,r){return e.apply(this,arguments)}return t}(),r.next=3,cp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}function wp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new xi;return e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function i(){return(0,y.A)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Qv({next:function(n){t.enqueueAndForget((function(){return Ed(e,o)})),n.fromCache&&"server"===r.source?i.reject(new _i(bi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Od(n,a,{includeMetadataChanges:!0,ta:!0});return _d(e,o)},i.next=3,dp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kp(e,t){var n=new Qv(t);return e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function t(){return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ki(e).W_.add(t),t.next()},t.next=3,dp(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Qa(),e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function t(){return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ki(e).W_["delete"](t)},t.next=3,dp(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}function bp(e,t,n,r){var i=function(e,t){var n;return n="string"==typeof e?js().encode(e):e,function(e,t){return new Yv(e,t)}(function(e,t){if(e instanceof Uint8Array)return Wv(e,t);if(e instanceof ArrayBuffer)return Wv(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ah(t));e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function t(){return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=qv,t.next=3,fp(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}function _p(e,t){return e.asyncQueue.enqueue((0,g.A)((0,y.A)().mark((function n(){return(0,y.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ki(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$r.getNamedQuery(e,t)}))},n.next=3,cp(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xp(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ep=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(e,t,n){if(!n)throw new _i(bi.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Tp(e,t,n,r){if(!0===t&&!0===r)throw new _i(bi.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Sp(e){if(!Ki.isDocumentKey(e))throw new _i(bi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cp(e){if(Ki.isDocumentKey(e))throw new _i(bi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Op(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==(0,s.A)(e)){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":mi()}function Rp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _i(bi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Op(e);throw new _i(bi.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Np(e,t){if(t<=0)throw new _i(bi.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dp=function(){function e(t){var n,r;if((0,c.A)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new _i(bi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _i(bi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Tp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xp(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _i(bi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new _i(bi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new _i(bi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return(0,l.A)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}])}(),Pp=function(){function e(t,n,r,i){(0,c.A)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dp({}),this._settingsFrozen=!1}return(0,l.A)(e,[{key:"app",get:function(){if(!this._app)throw new _i(bi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new _i(bi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ii;switch(e.type){case"firstParty":return new Oi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _i(bi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ep.get(e);t&&(vi("ComponentProvider","Removing Datastore"),Ep["delete"](e),t.terminate())}(this),Promise.resolve()}}])}();function Lp(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Rp(e,Pp))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=ci.MOCK_USER;else{u=(0,b.Fy)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new _i(bi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new ci(c)}e._authCredentials=new Ti(new Ei(u,s))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mp=function(){function e(t,n,r){(0,c.A)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,l.A)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}])}(),Fp=function(){function e(t,n,r){(0,c.A)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,l.A)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Up(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}])}(),Up=function(e){function t(e,n,r){var i;return(0,c.A)(this,t),i=(0,a.A)(this,t,[e,n,_u(r)]),i._path=r,i.type="collection",i}return(0,o.A)(t,e),(0,l.A)(t,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Fp(this.firestore,null,new Ki(e))}},{key:"withConverter",value:function(e){return new t(this.firestore,e,this._path)}}])}(Mp);function Vp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,b.Ku)(e),Ip("collection","path",t),e instanceof Pp){var a=Bi.fromString.apply(Bi,[t].concat(r));return Cp(a),new Up(e,null,a)}if(!(e instanceof Fp||e instanceof Up))throw new _i(bi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Bi.fromString.apply(Bi,[t].concat(r)));return Cp(o),new Up(e.firestore,null,o)}function jp(e,t){if(e=Rp(e,Pp),Ip("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _i(bi.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Mp(e,null,function(e){return new ku(Bi.emptyPath(),e)}(t))}function Bp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,b.Ku)(e),1===arguments.length&&(t=Pi.newId()),Ip("doc","path",t),e instanceof Pp){var a=Bi.fromString.apply(Bi,[t].concat(r));return Sp(a),new Fp(e,null,new Ki(a))}if(!(e instanceof Fp||e instanceof Up))throw new _i(bi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Bi.fromString.apply(Bi,[t].concat(r)));return Sp(o),new Fp(e.firestore,e instanceof Up?e.converter:null,new Ki(o))}function qp(e,t){return e=(0,b.Ku)(e),t=(0,b.Ku)(t),(e instanceof Fp||e instanceof Up)&&(t instanceof Fp||t instanceof Up)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function zp(e,t){return e=(0,b.Ku)(e),t=(0,b.Ku)(t),e instanceof Mp&&t instanceof Mp&&e.firestore===t.firestore&&Ru(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Kp=function(){function e(){var t=this;(0,c.A)(this,e),this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new wh(this,"async_queue_retry"),this.cu=function(){var e=mh();e&&vi("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=mh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.cu)}return(0,l.A)(e,[{key:"isShuttingDown",get:function(){return this.iu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.lu(),this.hu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.iu){this.iu=!0,this.au=e||!1;var t=mh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}},{key:"enqueue",value:function(e){var t=this;if(this.lu(),this.iu)return new Promise((function(){}));var n=new xi;return this.hu((function(){return t.iu&&t.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ru.push(e),t.Pu()}))}},{key:"Pu",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t=this;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0===this.ru.length){e.next=14;break}return e.prev=1,e.next=4,this.ru[0]();case 4:this.ru.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e["catch"](1),ca(e.t0)){e.next=12;break}throw e.t0;case 12:vi("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ru.length>0&&this.jo.qo((function(){return t.Pu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"hu",value:function(e){var t=this,n=this.nu.then((function(){return t._u=!0,e()["catch"]((function(e){t.ou=e,t._u=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw pi("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t._u=!1,e}))}));return this.nu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.lu(),this.uu.indexOf(e)>-1&&(t=0);var i=vd.createAndSchedule(this,e,t,n,(function(e){return r.Iu(e)}));return this.su.push(i),i}},{key:"lu",value:function(){this.ou&&mi()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Tu",value:function(){var e=(0,g.A)((0,y.A)().mark((function e(){var t;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.nu,e.next=3,t;case 3:if(t!==this.nu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Eu",value:function(e){var t,n=(0,u.A)(this.su);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.timerId===e)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"du",value:function(e){var t=this;return this.Tu().then((function(){t.su.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,u.A)(t.su);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Tu()}))}},{key:"Au",value:function(e){this.uu.push(e)}},{key:"Iu",value:function(e){var t=this.su.indexOf(e);this.su.splice(t,1)}}])}();function Gp(e){return function(e,t){if("object"!=(0,s.A)(e)||null===e)return!1;var n,r=e,i=(0,u.A)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}var Hp=function(){function e(){(0,c.A)(this,e),this._progressObserver={},this._taskCompletionResolver=new xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,l.A)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise["catch"](e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}])}(),Wp=-1,Qp=function(e){function t(e,n,r,i){var o;return(0,c.A)(this,t),o=(0,a.A)(this,t,[e,n,r,i]),o.type="firestore",o._queue=function(){return new Kp}(),o._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]",o}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_terminate",value:function(){return this._firestoreClient||$p(this),this._firestoreClient.terminate()}}])}(Pp);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(e){return e._firestoreClient||$p(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $p(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new go(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,xp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Jv(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Xp(e,t){oy(e=Rp(e,Qp));var n=Yp(e);if(n._uninitializedComponentsProvider)throw new _i(bi.FAILED_PRECONDITION,"SDK cache is already specified.");yi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new Hv;return Zp(n,i,new Kv(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Jp(e){oy(e=Rp(e,Qp));var t=Yp(e);if(t._uninitializedComponentsProvider)throw new _i(bi.FAILED_PRECONDITION,"SDK cache is already specified.");yi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new Hv;return Zp(t,r,new Gv(r,n.cacheSizeBytes))}function Zp(e,t,n){var r=new xi;return e.asyncQueue.enqueue((0,g.A)((0,y.A)().mark((function i(){var a;return(0,y.A)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Zv(e,n);case 3:return i.next=5,tp(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i["catch"](0),a=i.t0,rp(a)){i.next=13;break}throw a;case 13:yi("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ey(e){if(e._initialized&&!e._terminated)throw new _i(bi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new xi;return e._queue.enqueueAndForgetEvenWhileRestricted((0,g.A)((0,y.A)().mark((function n(){return(0,y.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=(0,g.A)((0,y.A)().mark((function e(t){var n;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(oa.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,oa["delete"](n);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()(Cf(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function ty(e){return function(e){var t=new xi;return e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function n(){return(0,y.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=lv,n.next=3,fp(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Yp(e=Rp(e,Qp)))}function ny(e){return pp(Yp(e=Rp(e,Qp)))}function ry(e){return yp(Yp(e=Rp(e,Qp)))}function iy(e,t){var n=Yp(e=Rp(e,Qp)),r=new Hp;return bp(n,e._databaseId,t,r),r}function ay(e,t){return _p(Yp(e=Rp(e,Qp)),t).then((function(t){return t?new Mp(e,null,t.query):null}))}function oy(e){if(e._initialized||e._terminated)throw new _i(bi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uy=function(){function e(t){(0,c.A)(this,e),this._byteString=t}return(0,l.A)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(so.fromBase64String(t))}catch(t){throw new _i(bi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(so.fromUint8Array(t))}}])}(),sy=function(){function e(){(0,c.A)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new _i(bi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(n)}return(0,l.A)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cy=(0,l.A)((function e(t){(0,c.A)(this,e),this._methodName=t})),ly=function(){function e(t,n){if((0,c.A)(this,e),!isFinite(t)||t<-90||t>90)throw new _i(bi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _i(bi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,l.A)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Li(this._lat,e._lat)||Li(this._long,e._long)}}])}(),fy=/^__.*__$/,hy=function(){function e(t,n,r){(0,c.A)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,l.A)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Es(e,this.data,this.fieldMask,t,this.fieldTransforms):new xs(e,this.data,t,this.fieldTransforms)}}])}(),dy=function(){function e(t,n,r){(0,c.A)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,l.A)(e,[{key:"toMutation",value:function(e,t){return new Es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}])}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mi()}}var py=function(){function e(t,n,r,i,a,o){(0,c.A)(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ru(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,l.A)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"mu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"fu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}},{key:"yu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}},{key:"wu",value:function(e){return this.mu({path:void 0,gu:!0})}},{key:"Su",value:function(e){return Ly(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ru",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.pu(this.path.get(e))}},{key:"pu",value:function(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(vy(this.Vu)&&fy.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}])}(),yy=function(){function e(t,n,r){(0,c.A)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(t)}return(0,l.A)(e,[{key:"Cu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new py({Vu:e,methodName:t,Du:n,path:zi.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}])}();function gy(e){var t=e._freezeSettings(),n=Ah(e._databaseId);return new yy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function my(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Cu(a.merge||a.mergeFields?2:0,t,n,i);Ry("Data must be an object, but it was:",o,r);var s,c,l=Cy(r,o);if(a.merge)s=new ao(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=(0,u.A)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var v=f.value,p=Ny(t,v,n);if(!o.contains(p))throw new _i(bi.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));My(h,p)||h.push(p)}}catch(y){d.e(y)}finally{d.f()}s=new ao(h),c=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=o.fieldTransforms;return new hy(new jo(l),s,c)}var Ay=function(e){function t(){return(0,c.A)(this,t),(0,a.A)(this,t,arguments)}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof t}}])}(cy);function wy(e,t,n){return new py({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var ky=function(e){function t(){return(0,c.A)(this,t),(0,a.A)(this,t,arguments)}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_toFieldTransform",value:function(e){return new ds(e.path,new as)}},{key:"isEqual",value:function(e){return e instanceof t}}])}(cy),by=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[e]),r.vu=n,r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_toFieldTransform",value:function(e){var t=wy(this,e,!0),n=this.vu.map((function(e){return Sy(e,t)})),r=new os(n);return new ds(e.path,r)}},{key:"isEqual",value:function(e){return e instanceof t&&(0,b.bD)(this.vu,e.vu)}}])}(cy),_y=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[e]),r.vu=n,r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_toFieldTransform",value:function(e){var t=wy(this,e,!0),n=this.vu.map((function(e){return Sy(e,t)})),r=new ss(n);return new ds(e.path,r)}},{key:"isEqual",value:function(e){return e instanceof t&&(0,b.bD)(this.vu,e.vu)}}])}(cy),xy=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[e]),r.Fu=n,r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_toFieldTransform",value:function(e){var t=new ls(e.serializer,es(e.serializer,this.Fu));return new ds(e.path,t)}},{key:"isEqual",value:function(e){return e instanceof t&&this.Fu===e.Fu}}])}(cy);function Ey(e,t,n,r){var i=e.Cu(1,t,n);Ry("Data must be an object, but it was:",i,r);var a=[],o=jo.empty();Xa(r,(function(e,r){var u=Py(t,e,n);r=(0,b.Ku)(r);var s=i.yu(u);if(r instanceof Ay)a.push(u);else{var c=Sy(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ao(a);return new dy(o,u,i.fieldTransforms)}function Iy(e,t,n,r,i,a){var o=e.Cu(1,t,n),u=[Ny(t,r,n)],s=[i];if(a.length%2!=0)throw new _i(bi.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Ny(t,a[c])),s.push(a[c+1]);for(var l=[],f=jo.empty(),h=u.length-1;h>=0;--h)if(!My(l,u[h])){var d=u[h],v=s[h];v=(0,b.Ku)(v);var p=o.yu(d);if(v instanceof Ay)l.push(d);else{var y=Sy(v,p);null!=y&&(l.push(d),f.set(d,y))}}var g=new ao(l);return new dy(f,g,o.fieldTransforms)}function Ty(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Sy(n,e.Cu(r?4:3,t))}function Sy(e,t){if(Oy(e=(0,b.Ku)(e)))return Ry("Unsupported field value:",t,e),Cy(e,t);if(e instanceof cy)return function(e,t){if(!vy(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=(0,u.A)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=Sy(o,t.wu(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}}catch(c){a.e(c)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,b.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return es(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ui.fromDate(e);return{timestampValue:oc(t.serializer,n)}}if(e instanceof Ui){var r=new Ui(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:oc(t.serializer,r)}}if(e instanceof ly)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uy)return{bytesValue:uc(t.serializer,e._byteString)};if(e instanceof Fp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Su("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:lc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(Op(e)))}(e,t)}function Cy(e,t){var n={};return Ja(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xa(e,(function(e,r){var i=Sy(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Oy(e){return!("object"!=(0,s.A)(e)||null===e||e instanceof Array||e instanceof Date||e instanceof Ui||e instanceof ly||e instanceof uy||e instanceof Fp||e instanceof cy)}function Ry(e,t,n){if(!Oy(n)||!function(e){return"object"==(0,s.A)(e)&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Op(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function Ny(e,t,n){if((t=(0,b.Ku)(t))instanceof sy)return t._internalPath;if("string"==typeof t)return Py(e,t);throw Ly("Field path arguments must be of type string or ",e,!1,void 0,n)}var Dy=new RegExp("[~\\*/\\[\\]]");function Py(e,t,n){if(t.search(Dy)>=0)throw Ly("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,i.A)(sy,(0,m.A)(t.split(".")))._internalPath}catch(M){throw Ly("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ly(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new _i(bi.INVALID_ARGUMENT,u+e+s)}function My(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fy=function(){function e(t,n,r,i,a){(0,c.A)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,l.A)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Fp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Uy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Vy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}])}(),Uy=function(e){function t(){return(0,c.A)(this,t),(0,a.A)(this,t,arguments)}return(0,o.A)(t,e),(0,l.A)(t,[{key:"data",value:function(){return(0,h.A)((0,d.A)(t.prototype),"data",this).call(this)}}])}(Fy);function Vy(e,t){return"string"==typeof t?Py(e,t):t instanceof sy?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _i(bi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var By=(0,l.A)((function e(){(0,c.A)(this,e)})),qy=function(e){function t(){return(0,c.A)(this,t),(0,a.A)(this,t,arguments)}return(0,o.A)(t,e),(0,l.A)(t)}(By);function zy(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof By&&n.push(t),n=n.concat(i),function(e){var t=e.filter((function(e){return e instanceof Hy})).length,n=e.filter((function(e){return e instanceof Ky})).length;if(t>1||t>0&&n>0)throw new _i(bi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n);var o,s=(0,u.A)(n);try{for(s.s();!(o=s.n()).done;){var c=o.value;e=c._apply(e)}}catch(l){s.e(l)}finally{s.f()}return e}var Ky=function(e){function t(e,n,r){var i;return(0,c.A)(this,t),i=(0,a.A)(this,t),i._field=e,i._op=n,i._value=r,i.type="where",i}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_apply",value:function(e){var t=this._parse(e);return ug(e._query,t),new Mp(e.firestore,e.converter,Cu(e._query,t))}},{key:"_parse",value:function(e){var t=gy(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new _i(bi.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){og(o,a);var c,l=[],f=(0,u.A)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(ag(r,e,h))}}catch(d){f.e(d)}finally{f.f()}s={arrayValue:{values:l}}}else s=ag(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||og(o,a),s=Ty(n,t,o,"in"===a||"not-in"===a);return Yo.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}])}(qy);function Gy(e,t,n){var r=t,i=Vy("where",e);return Ky._create(i,r,n)}var Hy=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t),r.type=e,r._queryConstraints=n,r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:$o.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=t.getFlattenedFilters(),a=(0,u.A)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;ug(r,o),r=Cu(r,o)}}catch(s){a.e(s)}finally{a.f()}}(e._query,t),new Mp(e.firestore,e.converter,Cu(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,n){return new t(e,n)}}])}(By);var Wy=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t),r._field=e,r._direction=n,r.type="orderBy",r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new _i(bi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _i(bi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ho(t,n)}(e._query,this._field,this._direction);return new Mp(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ku(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,n){return new t(e,n)}}])}(qy);function Qy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Vy("orderBy",e);return Wy._create(r,n)}var Yy=function(e){function t(e,n,r){var i;return(0,c.A)(this,t),i=(0,a.A)(this,t),i.type=e,i._limit=n,i._limitType=r,i}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_apply",value:function(e){return new Mp(e.firestore,e.converter,Ou(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}])}(qy);function $y(e){return Np("limit",e),Yy._create("limit",e,"F")}function Xy(e){return Np("limitToLast",e),Yy._create("limitToLast",e,"L")}var Jy=function(e){function t(e,n,r){var i;return(0,c.A)(this,t),i=(0,a.A)(this,t),i.type=e,i._docOrFields=n,i._inclusive=r,i}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_apply",value:function(e){var t=ig(e,this.type,this._docOrFields,this._inclusive);return new Mp(e.firestore,e.converter,function(e,t){return new ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}])}(qy);function Zy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jy._create("startAt",t,!0)}function eg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jy._create("startAfter",t,!1)}var tg=function(e){function t(e,n,r){var i;return(0,c.A)(this,t),i=(0,a.A)(this,t),i.type=e,i._docOrFields=n,i._inclusive=r,i}return(0,o.A)(t,e),(0,l.A)(t,[{key:"_apply",value:function(e){var t=ig(e,this.type,this._docOrFields,this._inclusive);return new Mp(e.firestore,e.converter,function(e,t){return new ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}])}(qy);function ng(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tg._create("endBefore",t,!1)}function rg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tg._create("endAt",t,!0)}function ig(e,t,n,r){if(n[0]=(0,b.Ku)(n[0]),n[0]instanceof Fy)return function(e,t,n,r,i){if(!r)throw new _i(bi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=(0,u.A)(Iu(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(So(t,r.key));else{var l=r.data.field(c.field);if(vo(l))throw new _i(bi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new _i(bi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new zo(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=gy(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new _i(bi.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],c=0;c<i.length;c++){var l=i[c];if(o[c].field.isKeyField()){if("string"!=typeof l)throw new _i(bi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat((0,s.A)(l)));if(!Eu(e)&&-1!==l.indexOf("/"))throw new _i(bi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var f=e.path.child(Bi.fromString(l));if(!Ki.isDocumentKey(f))throw new _i(bi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(f,"' is not because it contains an odd number of segments."));var h=new Ki(f);u.push(So(t,h))}else{var d=Ty(n,r,l);u.push(d)}}return new zo(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ag(e,t,n){if("string"==typeof(n=(0,b.Ku)(n))){if(""===n)throw new _i(bi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eu(t)&&-1!==n.indexOf("/"))throw new _i(bi.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Bi.fromString(n));if(!Ki.isDocumentKey(r))throw new _i(bi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return So(e,new Ki(r))}if(n instanceof Fp)return So(e,n._key);throw new _i(bi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Op(n),"."))}function og(e,t){if(!Array.isArray(e)||0===e.length)throw new _i(bi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ug(e,t){var n=function(e,t){var n,r=(0,u.A)(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=(0,u.A)(a.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var s=i.value;if(t.indexOf(s.op)>=0)return s.op}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new _i(bi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new _i(bi.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var sg=function(){function e(){(0,c.A)(this,e)}return(0,l.A)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mi()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Xa(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new ly(fo(e.latitude),fo(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=po(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yo(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=lo(e);return new Ui(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Bi.fromString(e);Ai(Uc(n));var r=new mo(n.get(1),n.get(3)),i=new Ki(n.popFirst(5));return r.isEqual(t)||pi("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(e,t,n){var r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var lg=function(e){function t(e){var n;return(0,c.A)(this,t),n=(0,a.A)(this,t),n.firestore=e,n}return(0,o.A)(t,e),(0,l.A)(t,[{key:"convertBytes",value:function(e){return new uy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fp(this.firestore,null,t)}}])}(sg);
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fg=function(){function e(t,n){(0,c.A)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,l.A)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}])}(),hg=function(e){function t(e,n,r,i,o,u){var s;return(0,c.A)(this,t),s=(0,a.A)(this,t,[e,n,r,i,u]),s._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,o.A)(t,e),(0,l.A)(t,[{key:"exists",value:function(){return(0,h.A)((0,d.A)(t.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Vy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}])}(Fy),dg=function(e){function t(){return(0,c.A)(this,t),(0,a.A)(this,t,arguments)}return(0,o.A)(t,e),(0,l.A)(t,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.A)((0,d.A)(t.prototype),"data",this).call(this,e)}}])}(hg),vg=function(){function e(t,n,r,i){(0,c.A)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new fg(i.hasPendingWrites,i.fromCache),this.query=r}return(0,l.A)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new dg(n._firestore,n._userDataWriter,r.key,r,new fg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _i(bi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new dg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new dg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r["delete"](t.doc.key)),1!==t.type&&(r=r.add(t.doc),a=r.indexOf(t.doc.key)),{type:pg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}])}();function pg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mi()}}function yg(e,t){return e instanceof hg&&t instanceof hg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vg&&t instanceof vg&&e._firestore===t._firestore&&zp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(e){e=Rp(e,Fp);var t=Rp(e.firestore,Qp);return mp(Yp(t),e._key).then((function(n){return Rg(t,e,n)}))}var mg=function(e){function t(e){var n;return(0,c.A)(this,t),n=(0,a.A)(this,t),n.firestore=e,n}return(0,o.A)(t,e),(0,l.A)(t,[{key:"convertBytes",value:function(e){return new uy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fp(this.firestore,null,t)}}])}(sg);function Ag(e){e=Rp(e,Fp);var t=Rp(e.firestore,Qp),n=Yp(t),r=new mg(t);return gp(n,e._key).then((function(n){return new hg(t,r,e._key,n,new fg(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function wg(e){e=Rp(e,Fp);var t=Rp(e.firestore,Qp);return mp(Yp(t),e._key,{source:"server"}).then((function(n){return Rg(t,e,n)}))}function kg(e){e=Rp(e,Mp);var t=Rp(e.firestore,Qp),n=Yp(t),r=new mg(t);return jy(e._query),wp(n,e._query).then((function(n){return new vg(t,r,e,n)}))}function bg(e){e=Rp(e,Mp);var t=Rp(e.firestore,Qp),n=Yp(t),r=new mg(t);return Ap(n,e._query).then((function(n){return new vg(t,r,e,n)}))}function _g(e){e=Rp(e,Mp);var t=Rp(e.firestore,Qp),n=Yp(t),r=new mg(t);return wp(n,e._query,{source:"server"}).then((function(n){return new vg(t,r,e,n)}))}function xg(e,t,n){e=Rp(e,Fp);var r=Rp(e.firestore,Qp),i=cg(e.converter,t,n);return Og(r,[my(gy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ys.none())])}function Eg(e,t,n){e=Rp(e,Fp);for(var r,i=Rp(e.firestore,Qp),a=gy(i),o=arguments.length,u=new Array(o>3?o-3:0),s=3;s<o;s++)u[s-3]=arguments[s];return r="string"==typeof(t=(0,b.Ku)(t))||t instanceof sy?Iy(a,"updateDoc",e._key,t,n,u):Ey(a,"updateDoc",e._key,t),Og(i,[r.toMutation(e._key,ys.exists(!0))])}function Ig(e){return Og(Rp(e.firestore,Qp),[new Rs(e._key,ys.none())])}function Tg(e,t){var n=Rp(e.firestore,Qp),r=Bp(e),i=cg(e.converter,t);return Og(n,[my(gy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ys.exists(!1))]).then((function(){return r}))}function Sg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=(0,b.Ku)(e);var u={includeMetadataChanges:!1,source:"default"},c=0;"object"!=(0,s.A)(n[c])||Gp(n[c])||(u=n[c],c++);var l,f,h,d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Gp(n[c])){var v=n[c];n[c]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[c+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[c+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof Fp)f=Rp(e.firestore,Qp),h=_u(e._key.path),l={next:function(t){n[c]&&n[c](Rg(f,e,t))},error:n[c+1],complete:n[c+2]};else{var p=Rp(e,Mp);f=Rp(p.firestore,Qp),h=p._query;var m=new mg(f);l={next:function(e){n[c]&&n[c](new vg(f,m,p,e))},error:n[c+1],complete:n[c+2]},jy(e._query)}return function(e,t,n,r){var i=new Qv(r),a=new Od(t,i,n);return e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function t(){return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=_d,t.next=3,dp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Qa(),e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function t(){return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Ed,t.next=3,dp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Yp(f),h,d,l)}function Cg(e,t){return kp(Yp(e=Rp(e,Qp)),Gp(t)?t:{next:t})}function Og(e,t){return function(e,t){var n=new xi;return e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function r(){return(0,y.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=Zd,r.next=3,fp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Yp(e),t)}function Rg(e,t,n){var r=n.docs.get(t._key),i=new mg(e);return new hg(e,i,t._key,r,new fg(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ng={maxAttempts:5},Dg=function(){function e(t,n){(0,c.A)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=gy(t)}return(0,l.A)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Pg(e,this._firestore),i=cg(r.converter,t,n),a=my(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ys.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Pg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=(0,b.Ku)(t))||t instanceof sy?Iy(this._dataReader,"WriteBatch.update",i._key,t,n,o):Ey(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ys.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Pg(e,this._firestore);return this._mutations=this._mutations.concat(new Rs(t._key,ys.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new _i(bi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}])}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(e,t){if((e=(0,b.Ku)(e)).firestore!==t)throw new _i(bi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lg=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[e,n]),r._firestore=e,r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"get",value:function(e){var n=this,r=Pg(e,this._firestore),i=new mg(this._firestore);return(0,h.A)((0,d.A)(t.prototype),"get",this).call(this,e).then((function(e){return new hg(n._firestore,i,r._key,e._document,new fg(!1,!1),r.converter)}))}}])}(function(){function e(t,n){(0,c.A)(this,e),this._firestore=t,this._transaction=n,this._dataReader=gy(t)}return(0,l.A)(e,[{key:"get",value:function(e){var t=this,n=Pg(e,this._firestore),r=new lg(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return mi();var i=e[0];if(i.isFoundDocument())return new Fy(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fy(t._firestore,r,n._key,null,n.converter);throw mi()}))}},{key:"set",value:function(e,t,n){var r=Pg(e,this._firestore),i=cg(r.converter,t,n),a=my(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Pg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=(0,b.Ku)(t))||t instanceof sy?Iy(this._dataReader,"Transaction.update",i._key,t,n,o):Ey(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Pg(e,this._firestore);return this._transaction["delete"](t._key),this}}])}());function Mg(e,t,n){e=Rp(e,Qp);var r=Object.assign(Object.assign({},Ng),n);return function(e){if(e.maxAttempts<1)throw new _i(bi.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new xi;return e.asyncQueue.enqueueAndForget((0,g.A)((0,y.A)().mark((function i(){var a;return(0,y.A)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,hp(e);case 2:a=i.sent,new Xv(e.asyncQueue,a,n,t,r).Ya();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Yp(e),(function(n){return t(new Lg(e,n))}),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){return new Ay("deleteField")}function Ug(){return new ky("serverTimestamp")}function Vg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new by("arrayUnion",t)}function jg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _y("arrayRemove",t)}function Bg(e){return new xy("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new WeakMap;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){li=e}(A.SDK_VERSION),(0,A._registerComponent)(new w.uA("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Qp(new Si(e.getProvider("auth-internal")),new Ni(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _i(bi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),(0,A.registerVersion)(si,"4.6.0",e),(0,A.registerVersion)(si,"4.6.0","esm2017")}();var qg="@firebase/firestore-compat",zg="0.3.29";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Kg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _i("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(){if("undefined"===typeof Uint8Array)throw new _i("unimplemented","Uint8Arrays are not available in this environment.")}function Hg(){if(!uo())throw new _i("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Wg=function(){function e(t){(0,c.A)(this,e),this._delegate=t}return(0,l.A)(e,[{key:"toBase64",value:function(){return Hg(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Gg(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Hg(),new e(uy.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Gg(),new e(uy.fromUint8Array(t))}}])}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(e){return Yg(e,["next","error","complete"])}function Yg(e,t){if("object"!==(0,s.A)(e)||null===e)return!1;var n,r=e,i=(0,u.A)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $g=function(){function e(){(0,c.A)(this,e)}return(0,l.A)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Xp(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Jp(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return ey(e._delegate)}}])}(),Xg=function(){function e(t,n,r){var i=this;(0,c.A)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof mo||(this._appCompat=t)}return(0,l.A)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||yi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Lp(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ny(this._delegate)}},{key:"disableNetwork",value:function(){return ry(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Tp("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return ty(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Cg(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new _i("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new hm(this,Vp(this._delegate,e))}catch(t){throw im(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new rm(this,Bp(this._delegate,e))}catch(t){throw im(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new cm(this,jp(this._delegate,e))}catch(t){throw im(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Mg(this._delegate,(function(n){return e(new em(t,n))}))}},{key:"batch",value:function(){var e=this;return Yp(this._delegate),new tm(new Dg(this._delegate,(function(t){return Og(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return iy(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ay(this._delegate,e).then((function(e){return e?new cm(t,e):null}))}}])}(),Jg=function(e){function t(e){var n;return(0,c.A)(this,t),n=(0,a.A)(this,t),n.firestore=e,n}return(0,o.A)(t,e),(0,l.A)(t,[{key:"convertBytes",value:function(e){return new Wg(new uy(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rm.forKey(t,this.firestore,null)}}])}(sg);function Zg(e){di(e)}var em=function(){function e(t,n){(0,c.A)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Jg(t)}return(0,l.A)(e,[{key:"get",value:function(e){var t=this,n=dm(e);return this._delegate.get(n).then((function(e){return new um(t._firestore,new hg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=dm(e);return n?(Kg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=dm(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=dm(e);return this._delegate["delete"](t),this}}])}(),tm=function(){function e(t){(0,c.A)(this,e),this._delegate=t}return(0,l.A)(e,[{key:"set",value:function(e,t,n){var r=dm(e);return n?(Kg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=dm(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=dm(e);return this._delegate["delete"](t),this}},{key:"commit",value:function(){return this._delegate.commit()}}])}(),nm=function(){function e(t,n,r){(0,c.A)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,l.A)(e,[{key:"fromFirestore",value:function(e,t){var n=new dg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sm(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Jg(t),n),i.set(n,a)),a}}])}();nm.INSTANCES=new WeakMap;var rm=function(){function e(t,n){(0,c.A)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Jg(t)}return(0,l.A)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new hm(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new hm(this.firestore,Vp(this._delegate,e))}catch(t){throw im(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return e=(0,b.Ku)(e),e instanceof Fp&&qp(this._delegate,e)}},{key:"set",value:function(e,t){t=Kg("DocumentReference.set",t);try{return t?xg(this._delegate,e,t):xg(this._delegate,e)}catch(n){throw im(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Eg(this._delegate,e):Eg.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw im(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Ig(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=am(n),a=om(n,(function(t){return new um(e.firestore,new hg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Sg(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ag(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?wg(this._delegate):gg(this._delegate),t.then((function(e){return new um(n.firestore,new hg(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new _i("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Fp(n._delegate,r,new Ki(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Fp(n._delegate,r,t))}}])}();function im(e,t,n){return e.message=e.message.replace(t,n),e}function am(e){var t,n=(0,u.A)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===(0,s.A)(r)&&!Qg(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function om(e,t){var n,r,i;return i=Qg(e[0])?e[0]:Qg(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:function(e){i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var um=function(){function e(t,n){(0,c.A)(this,e),this._firestore=t,this._delegate=n}return(0,l.A)(e,[{key:"ref",get:function(){return new rm(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return yg(this._delegate,e._delegate)}}])}(),sm=function(e){function t(){return(0,c.A)(this,t),(0,a.A)(this,t,arguments)}return(0,o.A)(t,e),(0,l.A)(t,[{key:"data",value:function(e){var t=this._delegate.data(e);return this._delegate._converter||wi(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}])}(um),cm=function(){function e(t,n){(0,c.A)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Jg(t)}return(0,l.A)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,zy(this._delegate,Gy(t,n,r)))}catch(i){throw im(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,zy(this._delegate,Qy(t,n)))}catch(r){throw im(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,zy(this._delegate,$y(t)))}catch(n){throw im(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,zy(this._delegate,Xy(t)))}catch(n){throw im(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,zy(this._delegate,Zy.apply(void 0,arguments)))}catch(t){throw im(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,zy(this._delegate,eg.apply(void 0,arguments)))}catch(t){throw im(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,zy(this._delegate,ng.apply(void 0,arguments)))}catch(t){throw im(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,zy(this._delegate,rg.apply(void 0,arguments)))}catch(t){throw im(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return zp(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?bg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?_g(this._delegate):kg(this._delegate),t.then((function(e){return new fm(n.firestore,new vg(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=am(n),a=om(n,(function(t){return new fm(e.firestore,new vg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Sg(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}])}(),lm=function(){function e(t,n){(0,c.A)(this,e),this._firestore=t,this._delegate=n}return(0,l.A)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new sm(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}])}(),fm=function(){function e(t,n){(0,c.A)(this,e),this._firestore=t,this._delegate=n}return(0,l.A)(e,[{key:"query",get:function(){return new cm(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new sm(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new lm(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new sm(n._firestore,r))}))}},{key:"isEqual",value:function(e){return yg(this._delegate,e._delegate)}}])}(),hm=function(e){function t(e,n){var r;return(0,c.A)(this,t),r=(0,a.A)(this,t,[e,n]),r.firestore=e,r._delegate=n,r}return(0,o.A)(t,e),(0,l.A)(t,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new rm(this.firestore,e):null}},{key:"doc",value:function(e){try{return new rm(this.firestore,void 0===e?Bp(this._delegate):Bp(this._delegate,e))}catch(t){throw im(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Tg(this._delegate,e).then((function(e){return new rm(t.firestore,e)}))}},{key:"isEqual",value:function(e){return qp(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new t(this.firestore,e?this._delegate.withConverter(nm.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}])}(cm);function dm(e){return Rp(e,Fp)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vm=function(){function e(){(0,c.A)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=(0,i.A)(sy,n)}return(0,l.A)(e,[{key:"isEqual",value:function(e){return e=(0,b.Ku)(e),e instanceof sy&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(zi.keyField().canonicalString())}}])}(),pm=function(){function e(t){(0,c.A)(this,e),this._delegate=t}return(0,l.A)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Ug();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Fg();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Vg.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=jg.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Bg(t);return n._methodName="FieldValue.increment",new e(n)}}])}(),ym={Firestore:Xg,GeoPoint:ly,Timestamp:Ui,Blob:Wg,Transaction:em,WriteBatch:tm,DocumentReference:rm,DocumentSnapshot:um,Query:cm,QueryDocumentSnapshot:sm,QuerySnapshot:fm,CollectionReference:hm,FieldPath:vm,FieldValue:pm,setLogLevel:Zg,CACHE_SIZE_UNLIMITED:Wp};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(e,t){e.INTERNAL.registerComponent(new w.uA("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ym)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(e){gm(e,(function(e,t){return new Xg(e,t,new $g)})),e.registerVersion(qg,zg)}mm(f.A)},64163:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(3604),i=(n(52675),n(67945),n(84185),n(81278),n(90144)),a=n(56768),o=Object.defineProperty,u=Object.defineProperties,s=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=function(e,t,n){return t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},d=function(e,t){for(var n in t||(t={}))l.call(t,n)&&h(e,n,t[n]);if(c){var i,a=(0,r.A)(c(t));try{for(a.s();!(i=a.n()).done;){n=i.value;f.call(t,n)&&h(e,n,t[n])}}catch(o){a.e(o)}finally{a.f()}}return e},v=function(e,t){return u(e,s(t))},p={props:{src:{type:String,required:!0},srcPlaceholder:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},srcset:{type:String},intersectionOptions:{type:Object,default:function(){return{}}},usePicture:{type:Boolean,default:!1}},inheritAttrs:!1,setup:function(e,t){var n=t.attrs,r=t.slots,o=t.emit,u=(0,i.KR)(null),s=(0,i.Kh)({observer:null,intersected:!1,loaded:!1}),c=(0,a.EW)((function(){return s.intersected&&e.src?e.src:e.srcPlaceholder})),l=(0,a.EW)((function(){return!(!s.intersected||!e.srcset)&&e.srcset})),f=function(){u.value&&u.value.getAttribute("src")!==e.srcPlaceholder&&(s.loaded=!0,o("load",u.value))},h=function(){return o("error",u.value)};return(0,a.sV)((function(){"IntersectionObserver"in window&&(s.observer=new IntersectionObserver((function(e){var t=e[0];t.isIntersecting&&(s.intersected=!0,s.observer.disconnect(),o("intersect"))}),e.intersectionOptions),s.observer.observe(u.value))})),(0,a.xo)((function(){"IntersectionObserver"in window&&s.observer&&s.observer.disconnect()})),function(){var t=(0,a.h)("img",v(d({ref:u,src:c.value,srcset:l.value||null},n),{class:[n["class"],"v-lazy-image",{"v-lazy-image-loaded":s.loaded}],onLoad:f,onError:h}));return e.usePicture?(0,a.h)("picture",{ref:u,onLoad:f},s.intersected?[r["default"],t]:[t]):t}}}},81387:(e,t,n)=>{"use strict";n.d(t,{LA:()=>le,aE:()=>ut,rd:()=>ct});var r=n(78676),i=n(23772),a=n(54119),o=n(3604),u=(n(52675),n(89463),n(78125),n(16280),n(76918),n(28706),n(88431),n(2008),n(50113),n(48980),n(51629),n(23418),n(74423),n(25276),n(64346),n(48598),n(62062),n(44114),n(72712),n(94490),n(34782),n(15086),n(54554),n(13609),n(60739),n(23288),n(94170),n(62010),n(33110),n(4731),n(36033),n(60479),n(84185),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(31415),n(99449),n(21699),n(47764),n(71761),n(25440),n(5746),n(11392),n(23500),n(62953),n(56768)),s=n(90144),c="undefined"!==typeof document;function l(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}var f=Object.assign;function h(e,t){var n={};for(var r in t){var i=t[r];n[r]=v(i)?i.map(e):e(i)}return n}var d=function(){},v=Array.isArray;var p=/#/g,y=/&/g,g=/\//g,m=/=/g,A=/\?/g,w=/\+/g,k=/%5B/g,b=/%5D/g,_=/%5E/g,x=/%60/g,E=/%7B/g,I=/%7C/g,T=/%7D/g,S=/%20/g;function C(e){return encodeURI(""+e).replace(I,"|").replace(k,"[").replace(b,"]")}function O(e){return C(e).replace(E,"{").replace(T,"}").replace(_,"^")}function R(e){return C(e).replace(w,"%2B").replace(S,"+").replace(p,"%23").replace(y,"%26").replace(x,"`").replace(E,"{").replace(T,"}").replace(_,"^")}function N(e){return R(e).replace(m,"%3D")}function D(e){return C(e).replace(p,"%23").replace(A,"%3F")}function P(e){return null==e?"":D(e).replace(g,"%2F")}function L(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}var M,F,U=/\/$/,V=function(e){return e.replace(U,"")};function j(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",i={},a="",o="",u=t.indexOf("#"),s=t.indexOf("?");return u<s&&u>=0&&(s=-1),s>-1&&(n=t.slice(0,s),a=t.slice(s+1,u>-1?u:t.length),i=e(a)),u>-1&&(n=n||t.slice(0,u),o=t.slice(u,t.length)),n=Q(null!=n?n:t,r),{fullPath:n+(a&&"?")+a+o,path:n,query:i,hash:L(o)}}function B(e,t){var n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function q(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function z(e,t,n){var r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&K(t.matched[r],n.matched[i])&&G(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function K(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function G(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!H(e[n],t[n]))return!1;return!0}function H(e,t){return v(e)?W(e,t):v(t)?W(t,e):e===t}function W(e,t){return v(t)?e.length===t.length&&e.every((function(e,n){return e===t[n]})):1===e.length&&e[0]===t}function Q(e,t){if(e.startsWith("/"))return e;if(!e)return t;var n=t.split("/"),r=e.split("/"),i=r[r.length-1];".."!==i&&"."!==i||r.push("");var a,o,u=n.length-1;for(a=0;a<r.length;a++)if(o=r[a],"."!==o){if(".."!==o)break;u>1&&u--}return n.slice(0,u).join("/")+"/"+r.slice(a).join("/")}(function(e){e["pop"]="pop",e["push"]="push"})(M||(M={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(F||(F={}));function Y(e){if(!e)if(c){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),V(e)}var $=/^[^#]+#/;function X(e,t){return e.replace($,"#")+t}function J(e,t){var n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}var Z=function(){return{left:window.scrollX,top:window.scrollY}};function ee(e){var t;if("el"in e){var n=e.el,r="string"===typeof n&&n.startsWith("#"),i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=J(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function te(e,t){var n=history.state?history.state.position-t:-1;return n+e}var ne=new Map;function re(e,t){ne.set(e,t)}function ie(e){var t=ne.get(e);return ne["delete"](e),t}var ae=function(){return location.protocol+"//"+location.host};function oe(e,t){var n=t.pathname,r=t.search,i=t.hash,a=e.indexOf("#");if(a>-1){var o=i.includes(e.slice(a))?e.slice(a).length:1,u=i.slice(o);return"/"!==u[0]&&(u="/"+u),q(u,"")}var s=q(n,e);return s+r+i}function ue(e,t,n,r){var i=[],a=[],u=null,s=function(a){var o=a.state,s=oe(e,location),c=n.value,l=t.value,f=0;if(o){if(n.value=s,t.value=o,u&&u===c)return void(u=null);f=l?o.position-l.position:0}else r(s);i.forEach((function(e){e(n.value,c,{delta:f,type:M.pop,direction:f?f>0?F.forward:F.back:F.unknown})}))};function c(){u=n.value}function l(e){i.push(e);var t=function(){var t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t}function h(){var e=window,t=e.history;t.state&&t.replaceState(f({},t.state,{scroll:Z()}),"")}function d(){var e,t=(0,o.A)(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;n()}}catch(r){t.e(r)}finally{t.f()}a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:l,destroy:d}}function se(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Z():null}}function ce(e){var t=window,n=t.history,r=t.location,i={value:oe(e,r)},a={value:n.state};function o(t,i,o){var u=e.indexOf("#"),s=u>-1?(r.host&&document.querySelector("base")?e:e.slice(u))+t:ae()+e+t;try{n[o?"replaceState":"pushState"](i,"",s),a.value=i}catch(c){console.error(c),r[o?"replace":"assign"](s)}}function u(e,t){var r=f({},n.state,se(a.value.back,e,a.value.forward,!0),t,{position:a.value.position});o(e,r,!0),i.value=e}function s(e,t){var r=f({},a.value,n.state,{forward:e,scroll:Z()});o(r.current,r,!0);var u=f({},se(i.value,e,null),{position:r.position+1},t);o(e,u,!1),i.value=e}return a.value||o(i.value,{back:null,current:i.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0),{location:i,state:a,push:s,replace:u}}function le(e){e=Y(e);var t=ce(e),n=ue(e,t.state,t.location,t.replace);function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t||n.pauseListeners(),history.go(e)}var i=f({location:"",base:e,go:r,createHref:X.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:function(){return t.location.value}}),Object.defineProperty(i,"state",{enumerable:!0,get:function(){return t.state.value}}),i}function fe(e){return"string"===typeof e||e&&"object"===(0,a.A)(e)}function he(e){return"string"===typeof e||"symbol"===(0,a.A)(e)}var de,ve={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},pe=Symbol("");(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(de||(de={}));(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)({},1,(function(e){var t=e.location,n=e.currentLocation;return"No match for\n ".concat(JSON.stringify(t)).concat(n?"\nwhile being at\n"+JSON.stringify(n):"")})),2,(function(e){var t=e.from,n=e.to;return'Redirected from "'.concat(t.fullPath,'" to "').concat(Ae(n),'" via a navigation guard.')})),4,(function(e){var t=e.from,n=e.to;return'Navigation aborted from "'.concat(t.fullPath,'" to "').concat(n.fullPath,'" via a navigation guard.')})),8,(function(e){var t=e.from,n=e.to;return'Navigation cancelled from "'.concat(t.fullPath,'" to "').concat(n.fullPath,'" with a new navigation.')})),16,(function(e){var t=e.from;e.to;return'Avoided redundant navigation to current location: "'.concat(t.fullPath,'".')}));function ye(e,t){return f(new Error,(0,i.A)({type:e},pe,!0),t)}function ge(e,t){return e instanceof Error&&pe in e&&(null==t||!!(e.type&t))}var me=["params","query","hash"];function Ae(e){if("string"===typeof e)return e;if(null!=e.path)return e.path;var t,n={},r=(0,o.A)(me);try{for(r.s();!(t=r.n()).done;){var i=t.value;i in e&&(n[i]=e[i])}}catch(a){r.e(a)}finally{r.f()}return JSON.stringify(n,null,2)}var we="[^/]+?",ke={sensitive:!1,strict:!1,start:!0,end:!0},be=/[.+*?^${}()[\]/\\]/g;function _e(e,t){var n,r=f({},ke,t),i=[],a=r.start?"^":"",u=[],s=(0,o.A)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value,l=c.length?[]:[90];r.strict&&!c.length&&(a+="/");for(var h=0;h<c.length;h++){var d=c[h],p=40+(r.sensitive?.25:0);if(0===d.type)h||(a+="/"),a+=d.value.replace(be,"\\$&"),p+=40;else if(1===d.type){var y=d.value,g=d.repeatable,m=d.optional,A=d.regexp;u.push({name:y,repeatable:g,optional:m});var w=A||we;if(w!==we){p+=10;try{new RegExp("(".concat(w,")"))}catch(I){throw new Error('Invalid custom RegExp for param "'.concat(y,'" (').concat(w,"): ")+I.message)}}var k=g?"((?:".concat(w,")(?:/(?:").concat(w,"))*)"):"(".concat(w,")");h||(k=m&&c.length<2?"(?:/".concat(k,")"):"/"+k),m&&(k+="?"),a+=k,p+=20,m&&(p+=-8),g&&(p+=-20),".*"===w&&(p+=-50)}l.push(p)}i.push(l)}}catch(I){s.e(I)}finally{s.f()}if(r.strict&&r.end){var b=i.length-1;i[b][i[b].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");var _=new RegExp(a,r.sensitive?"":"i");function x(e){var t=e.match(_),n={};if(!t)return null;for(var r=1;r<t.length;r++){var i=t[r]||"",a=u[r-1];n[a.name]=i&&a.repeatable?i.split("/"):i}return n}function E(t){var n,r="",i=!1,a=(0,o.A)(e);try{for(a.s();!(n=a.n()).done;){var u=n.value;i&&r.endsWith("/")||(r+="/"),i=!1;var s,c=(0,o.A)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(0===l.type)r+=l.value;else if(1===l.type){var f=l.value,h=l.repeatable,d=l.optional,p=f in t?t[f]:"";if(v(p)&&!h)throw new Error('Provided param "'.concat(f,'" is an array but it is not repeatable (* or + modifiers)'));var y=v(p)?p.join("/"):p;if(!y){if(!d)throw new Error('Missing required param "'.concat(f,'"'));u.length<2&&(r.endsWith("/")?r=r.slice(0,-1):i=!0)}r+=y}}}catch(I){c.e(I)}finally{c.f()}}}catch(I){a.e(I)}finally{a.f()}return r||"/"}return{re:_,score:i,keys:u,parse:x,stringify:E}}function xe(e,t){var n=0;while(n<e.length&&n<t.length){var r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Ee(e,t){var n=0,r=e.score,i=t.score;while(n<r.length&&n<i.length){var a=xe(r[n],i[n]);if(a)return a;n++}if(1===Math.abs(i.length-r.length)){if(Ie(r))return 1;if(Ie(i))return-1}return i.length-r.length}function Ie(e){var t=e[e.length-1];return e.length>0&&t[t.length-1]<0}var Te={type:0,value:""},Se=/[a-zA-Z0-9_]/;function Ce(e){if(!e)return[[]];if("/"===e)return[[Te]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(e){throw new Error("ERR (".concat(r,')/"').concat(c,'": ').concat(e))}var n,r=0,i=r,a=[];function o(){n&&a.push(n),n=[]}var u,s=0,c="",l="";function f(){c&&(0===r?n.push({type:0,value:c}):1===r||2===r||3===r?(n.length>1&&("*"===u||"+"===u)&&t("A repeatable param (".concat(c,") must be alone in its segment. eg: '/:ids+.")),n.push({type:1,value:c,regexp:l,repeatable:"*"===u||"+"===u,optional:"*"===u||"?"===u})):t("Invalid state to consume buffer"),c="")}function h(){c+=u}while(s<e.length)if(u=e[s++],"\\"!==u||2===r)switch(r){case 0:"/"===u?(c&&f(),o()):":"===u?(f(),r=1):h();break;case 4:h(),r=i;break;case 1:"("===u?r=2:Se.test(u)?h():(f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&s--);break;case 2:")"===u?"\\"==l[l.length-1]?l=l.slice(0,-1)+u:r=3:l+=u;break;case 3:f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&s--,l="";break;default:t("Unknown state");break}else i=r,r=4;return 2===r&&t('Unfinished custom RegExp for param "'.concat(c,'"')),f(),o(),a}function Oe(e,t,n){var r=_e(Ce(e.path),n),i=f(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function Re(e,t){var n=[],r=new Map;function i(e){return r.get(e)}function a(e,n,r){var i=!r,s=De(e);s.aliasOf=r&&r.record;var l,h,v=Fe(t,e),p=[s];if("alias"in e){var y,g="string"===typeof e.alias?[e.alias]:e.alias,m=(0,o.A)(g);try{for(m.s();!(y=m.n()).done;){var A=y.value;p.push(f({},s,{components:r?r.record.components:s.components,path:A,aliasOf:r?r.record:s}))}}catch(S){m.e(S)}finally{m.f()}}for(var w=0,k=p;w<k.length;w++){var b=k[w],_=b.path;if(n&&"/"!==_[0]){var x=n.record.path,E="/"===x[x.length-1]?"":"/";b.path=n.record.path+(_&&E+_)}if(l=Oe(b,n,v),r?r.alias.push(l):(h=h||l,h!==l&&h.alias.push(l),i&&e.name&&!Le(l)&&u(e.name)),s.children)for(var I=s.children,T=0;T<I.length;T++)a(I[T],l,r&&r.children[T]);r=r||l,(l.record.components&&Object.keys(l.record.components).length||l.record.name||l.record.redirect)&&c(l)}return h?function(){u(h)}:d}function u(e){if(he(e)){var t=r.get(e);t&&(r["delete"](e),n.splice(n.indexOf(t),1),t.children.forEach(u),t.alias.forEach(u))}else{var i=n.indexOf(e);i>-1&&(n.splice(i,1),e.record.name&&r["delete"](e.record.name),e.children.forEach(u),e.alias.forEach(u))}}function s(){return n}function c(e){var t=0;while(t<n.length&&Ee(e,n[t])>=0&&(e.record.path!==n[t].record.path||!Ue(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!Le(e)&&r.set(e.record.name,e)}function l(e,t){var i,a,o,u={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw ye(1,{location:e});o=i.record.name,u=f(Ne(t.params,i.keys.filter((function(e){return!e.optional})).concat(i.parent?i.parent.keys.filter((function(e){return e.optional})):[]).map((function(e){return e.name}))),e.params&&Ne(e.params,i.keys.map((function(e){return e.name})))),a=i.stringify(u)}else if(null!=e.path)a=e.path,i=n.find((function(e){return e.re.test(a)})),i&&(u=i.parse(a),o=i.record.name);else{if(i=t.name?r.get(t.name):n.find((function(e){return e.re.test(t.path)})),!i)throw ye(1,{location:e,currentLocation:t});o=i.record.name,u=f({},t.params,e.params),a=i.stringify(u)}var s=[],c=i;while(c)s.unshift(c.record),c=c.parent;return{name:o,path:a,params:u,matched:s,meta:Me(s)}}return t=Fe({strict:!1,end:!0,sensitive:!1},t),e.forEach((function(e){return a(e)})),{addRoute:a,resolve:l,removeRoute:u,getRoutes:s,getRecordMatcher:i}}function Ne(e,t){var n,r={},i=(0,o.A)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a in e&&(r[a]=e[a])}}catch(u){i.e(u)}finally{i.f()}return r}function De(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Pe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Pe(e){var t={},n=e.props||!1;if("component"in e)t["default"]=n;else for(var r in e.components)t[r]="object"===(0,a.A)(n)?n[r]:n;return t}function Le(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Me(e){return e.reduce((function(e,t){return f(e,t.meta)}),{})}function Fe(e,t){var n={};for(var r in e)n[r]=r in t?t[r]:e[r];return n}function Ue(e,t){return t.children.some((function(t){return t===e||Ue(e,t)}))}function Ve(e){var t={};if(""===e||"?"===e)return t;for(var n="?"===e[0],r=(n?e.slice(1):e).split("&"),i=0;i<r.length;++i){var a=r[i].replace(w," "),o=a.indexOf("="),u=L(o<0?a:a.slice(0,o)),s=o<0?null:L(a.slice(o+1));if(u in t){var c=t[u];v(c)||(c=t[u]=[c]),c.push(s)}else t[u]=s}return t}function je(e){var t="",n=function(n){var r=e[n];if(n=N(n),null==r)return void 0!==r&&(t+=(t.length?"&":"")+n),1;var i=v(r)?r.map((function(e){return e&&R(e)})):[r&&R(r)];i.forEach((function(e){void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))};for(var r in e)n(r);return t}function Be(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=v(r)?r.map((function(e){return null==e?null:""+e})):null==r?r:""+r)}return t}var qe=Symbol(""),ze=Symbol(""),Ke=Symbol(""),Ge=Symbol(""),He=Symbol("");function We(){var e=[];function t(t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:function(){return e.slice()},reset:n}}function Qe(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return e()},o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return function(){return new Promise((function(u,s){var c=function(e){!1===e?s(ye(4,{from:n,to:t})):e instanceof Error?s(e):fe(e)?s(ye(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),u())},l=a((function(){return e.call(r&&r.instances[i],t,n,c)})),f=Promise.resolve(l);e.length<3&&(f=f.then(c)),f["catch"]((function(e){return s(e)}))}))}}function Ye(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return e()},u=[],s=(0,o.A)(e);try{var c=function(){var e=i.value;var o=function(i){var o=e.components[i];if("beforeRouteEnter"!==t&&!e.instances[i])return 1;if($e(o)){var s=o.__vccOpts||o,c=s[t];c&&u.push(Qe(c,n,r,e,i,a))}else{var f=o();0,u.push((function(){return f.then((function(o){if(!o)return Promise.reject(new Error("Couldn't resolve component \"".concat(i,'" at "').concat(e.path,'"')));var u=l(o)?o["default"]:o;e.components[i]=u;var s=u.__vccOpts||u,c=s[t];return c&&Qe(c,n,r,e,i,a)()}))}))}};for(var s in e.components)o(s)};for(s.s();!(i=s.n()).done;)c()}catch(f){s.e(f)}finally{s.f()}return u}function $e(e){return"object"===(0,a.A)(e)||"displayName"in e||"props"in e||"__vccOpts"in e}function Xe(e){var t=(0,u.WQ)(Ke),n=(0,u.WQ)(Ge),r=(0,u.EW)((function(){return t.resolve((0,s.R1)(e.to))})),i=(0,u.EW)((function(){var e=r.value.matched,t=e.length,i=e[t-1],a=n.matched;if(!i||!a.length)return-1;var o=a.findIndex(K.bind(null,i));if(o>-1)return o;var u=nt(e[t-2]);return t>1&&nt(i)===u&&a[a.length-1].path!==u?a.findIndex(K.bind(null,e[t-2])):o})),a=(0,u.EW)((function(){return i.value>-1&&tt(n.params,r.value.params)})),o=(0,u.EW)((function(){return i.value>-1&&i.value===n.matched.length-1&&G(n.params,r.value.params)}));function c(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return et(n)?t[(0,s.R1)(e.replace)?"replace":"push"]((0,s.R1)(e.to))["catch"](d):Promise.resolve()}return{route:r,href:(0,u.EW)((function(){return r.value.href})),isActive:a,isExactActive:o,navigate:c}}var Je=(0,u.pM)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Xe,setup:function(e,t){var n=t.slots,r=(0,s.Kh)(Xe(e)),a=(0,u.WQ)(Ke),o=a.options,c=(0,u.EW)((function(){return(0,i.A)((0,i.A)({},rt(e.activeClass,o.linkActiveClass,"router-link-active"),r.isActive),rt(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active"),r.isExactActive)}));return function(){var t=n["default"]&&n["default"](r);return e.custom?t:(0,u.h)("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:c.value},t)}}}),Ze=Je;function et(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function tt(e,t){var n,r=function(){var n=t[i],r=e[i];if("string"===typeof n){if(n!==r)return{v:!1}}else if(!v(r)||r.length!==n.length||n.some((function(e,t){return e!==r[t]})))return{v:!1}};for(var i in t)if(n=r(),n)return n.v;return!0}function nt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}var rt=function(e,t,n){return null!=e?e:null!=t?t:n},it=(0,u.pM)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup:function(e,t){var n=t.attrs,i=t.slots,a=(0,u.WQ)(He),o=(0,u.EW)((function(){return e.route||a.value})),c=(0,u.WQ)(ze,0),l=(0,u.EW)((function(){var e,t=(0,s.R1)(c),n=o.value.matched;while((e=n[t])&&!e.components)t++;return t})),h=(0,u.EW)((function(){return o.value.matched[l.value]}));(0,u.Gt)(ze,(0,u.EW)((function(){return l.value+1}))),(0,u.Gt)(qe,h),(0,u.Gt)(He,o);var d=(0,s.KR)();return(0,u.wB)((function(){return[d.value,h.value,e.name]}),(function(e,t){var n=(0,r.A)(e,3),i=n[0],a=n[1],o=n[2],u=(0,r.A)(t,3),s=u[0],c=u[1];u[2];a&&(a.instances[o]=i,c&&c!==a&&i&&i===s&&(a.leaveGuards.size||(a.leaveGuards=c.leaveGuards),a.updateGuards.size||(a.updateGuards=c.updateGuards))),!i||!a||c&&K(a,c)&&s||(a.enterCallbacks[o]||[]).forEach((function(e){return e(i)}))}),{flush:"post"}),function(){var t=o.value,r=e.name,a=h.value,s=a&&a.components[r];if(!s)return at(i["default"],{Component:s,route:t});var c=a.props[r],l=c?!0===c?t.params:"function"===typeof c?c(t):c:null,v=function(e){e.component.isUnmounted&&(a.instances[r]=null)},p=(0,u.h)(s,f({},l,n,{onVnodeUnmounted:v,ref:d}));return at(i["default"],{Component:p,route:t})||p}}});function at(e,t){if(!e)return null;var n=e(t);return 1===n.length?n[0]:n}var ot=it;function ut(e){var t=Re(e.routes,e),n=e.parseQuery||Ve,i=e.stringifyQuery||je,l=e.history;var p=We(),y=We(),g=We(),m=(0,s.IJ)(ve),A=ve;c&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");var w,k=h.bind(null,(function(e){return""+e})),b=h.bind(null,P),_=h.bind(null,L);function x(e,n){var r,i;return he(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function E(e){var n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function I(){return t.getRoutes().map((function(e){return e.record}))}function T(e){return!!t.getRecordMatcher(e)}function S(e,r){if(r=f({},r||m.value),"string"===typeof e){var a=j(n,e,r.path),o=t.resolve({path:a.path},r),u=l.createHref(a.fullPath);return f(a,o,{params:_(o.params),hash:L(a.hash),redirectedFrom:void 0,href:u})}var s;if(null!=e.path)s=f({},e,{path:j(n,e.path,r.path).path});else{var c=f({},e.params);for(var h in c)null==c[h]&&delete c[h];s=f({},e,{params:b(c)}),r.params=b(r.params)}var d=t.resolve(s,r),v=e.hash||"";d.params=k(_(d.params));var p=B(i,f({},e,{hash:O(v),path:d.path})),y=l.createHref(p);return f({fullPath:p,hash:v,query:i===je?Be(e.query):e.query||{}},d,{redirectedFrom:void 0,href:y})}function C(e){return"string"===typeof e?j(n,e,m.value.path):f({},e)}function R(e,t){if(A!==e)return ye(8,{from:t,to:e})}function N(e){return U(e)}function D(e){return N(f(C(e),{replace:!0}))}function F(e){var t=e.matched[e.matched.length-1];if(t&&t.redirect){var n=t.redirect,r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=C(r):{path:r},r.params={}),f({query:e.query,hash:e.hash,params:null!=r.path?{}:e.params},r)}}function U(e,t){var n=A=S(e),r=m.value,o=e.state,u=e.force,s=!0===e.replace,c=F(n);if(c)return U(f(C(c),{state:"object"===(0,a.A)(c)?f({},o,c.state):o,force:u,replace:s}),t||n);var l,h=n;return h.redirectedFrom=t,!u&&z(i,r,n)&&(l=ye(16,{to:h,from:r}),ae(r,r,!0,!1)),(l?Promise.resolve(l):K(h,r))["catch"]((function(e){return ge(e)?ge(e,2)?e:ne(e):X(e,h,r)})).then((function(e){if(e){if(ge(e,2))return U(f({replace:s},C(e.to),{state:"object"===(0,a.A)(e.to)?f({},o,e.to.state):o,force:u}),t||h)}else e=H(h,r,!0,s,o);return G(h,r,e),e}))}function V(e,t){var n=R(e,t);return n?Promise.reject(n):Promise.resolve()}function q(e){var t=se.values().next().value;return t&&"function"===typeof t.runWithContext?t.runWithContext(e):e()}function K(e,t){var n,i=st(e,t),a=(0,r.A)(i,3),u=a[0],s=a[1],c=a[2];n=Ye(u.reverse(),"beforeRouteLeave",e,t);var l,f=(0,o.A)(u);try{for(f.s();!(l=f.n()).done;){var h=l.value;h.leaveGuards.forEach((function(r){n.push(Qe(r,e,t))}))}}catch(g){f.e(g)}finally{f.f()}var d=V.bind(null,e,t);return n.push(d),le(n).then((function(){n=[];var r,i=(0,o.A)(p.list());try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(Qe(a,e,t))}}catch(g){i.e(g)}finally{i.f()}return n.push(d),le(n)})).then((function(){n=Ye(s,"beforeRouteUpdate",e,t);var r,i=(0,o.A)(s);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.updateGuards.forEach((function(r){n.push(Qe(r,e,t))}))}}catch(g){i.e(g)}finally{i.f()}return n.push(d),le(n)})).then((function(){n=[];var r,i=(0,o.A)(c);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.beforeEnter)if(v(a.beforeEnter)){var u,s=(0,o.A)(a.beforeEnter);try{for(s.s();!(u=s.n()).done;){var l=u.value;n.push(Qe(l,e,t))}}catch(g){s.e(g)}finally{s.f()}}else n.push(Qe(a.beforeEnter,e,t))}}catch(g){i.e(g)}finally{i.f()}return n.push(d),le(n)})).then((function(){return e.matched.forEach((function(e){return e.enterCallbacks={}})),n=Ye(c,"beforeRouteEnter",e,t,q),n.push(d),le(n)})).then((function(){n=[];var r,i=(0,o.A)(y.list());try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(Qe(a,e,t))}}catch(g){i.e(g)}finally{i.f()}return n.push(d),le(n)}))["catch"]((function(e){return ge(e,8)?e:Promise.reject(e)}))}function G(e,t,n){g.list().forEach((function(r){return q((function(){return r(e,t,n)}))}))}function H(e,t,n,r,i){var a=R(e,t);if(a)return a;var o=t===ve,u=c?history.state:{};n&&(r||o?l.replace(e.fullPath,f({scroll:o&&u&&u.scroll},i)):l.push(e.fullPath,i)),m.value=e,ae(e,t,n,o),ne()}function W(){w||(w=l.listen((function(e,t,n){if(ce.listening){var r=S(e),i=F(r);if(i)U(f(i,{replace:!0}),r)["catch"](d);else{A=r;var a=m.value;c&&re(te(a.fullPath,n.delta),Z()),K(r,a)["catch"]((function(e){return ge(e,12)?e:ge(e,2)?(U(e.to,r).then((function(e){ge(e,20)&&!n.delta&&n.type===M.pop&&l.go(-1,!1)}))["catch"](d),Promise.reject()):(n.delta&&l.go(-n.delta,!1),X(e,r,a))})).then((function(e){e=e||H(r,a,!1),e&&(n.delta&&!ge(e,8)?l.go(-n.delta,!1):n.type===M.pop&&ge(e,20)&&l.go(-1,!1)),G(r,a,e)}))["catch"](d)}}})))}var Q,Y=We(),$=We();function X(e,t,n){ne(e);var r=$.list();return r.length?r.forEach((function(r){return r(e,t,n)})):console.error(e),Promise.reject(e)}function J(){return Q&&m.value!==ve?Promise.resolve():new Promise((function(e,t){Y.add([e,t])}))}function ne(e){return Q||(Q=!e,W(),Y.list().forEach((function(t){var n=(0,r.A)(t,2),i=n[0],a=n[1];return e?a(e):i()})),Y.reset()),e}function ae(t,n,r,i){var a=e.scrollBehavior;if(!c||!a)return Promise.resolve();var o=!r&&ie(te(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return(0,u.dY)().then((function(){return a(t,n,o)})).then((function(e){return e&&ee(e)}))["catch"]((function(e){return X(e,t,n)}))}var oe,ue=function(e){return l.go(e)},se=new Set,ce={currentRoute:m,listening:!0,addRoute:x,removeRoute:E,hasRoute:T,getRoutes:I,resolve:S,options:e,push:N,replace:D,go:ue,back:function(){return ue(-1)},forward:function(){return ue(1)},beforeEach:p.add,beforeResolve:y.add,afterEach:g.add,onError:$.add,isReady:J,install:function(e){var t=this;e.component("RouterLink",Ze),e.component("RouterView",ot),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:function(){return(0,s.R1)(m)}}),c&&!oe&&m.value===ve&&(oe=!0,N(l.location)["catch"]((function(e){0})));var n={},r=function(e){Object.defineProperty(n,e,{get:function(){return m.value[e]},enumerable:!0})};for(var i in ve)r(i);e.provide(Ke,t),e.provide(Ge,(0,s.Gc)(n)),e.provide(He,m);var a=e.unmount;se.add(e),e.unmount=function(){se["delete"](e),se.size<1&&(A=ve,w&&w(),w=null,m.value=ve,oe=!1,Q=!1),a()}}};function le(e){return e.reduce((function(e,t){return e.then((function(){return q(t)}))}),Promise.resolve())}return ce}function st(e,t){for(var n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length),o=function(){var a=t.matched[u];a&&(e.matched.find((function(e){return K(e,a)}))?r.push(a):n.push(a));var o=e.matched[u];o&&(t.matched.find((function(e){return K(e,o)}))||i.push(o))},u=0;u<a;u++)o();return[n,r,i]}function ct(){return(0,u.WQ)(Ke)}}}]);
//# sourceMappingURL=chunk-vendors.29d391e1.js.map