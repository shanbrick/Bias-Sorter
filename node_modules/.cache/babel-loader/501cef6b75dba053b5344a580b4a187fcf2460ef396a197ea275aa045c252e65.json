{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shan/SER375/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/shan/SER375/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nexport default {\n  name: 'Spreadsheet',\n  data: function data() {\n    return {\n      currUser: {},\n      fireSaveData: {}\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    var auth = getAuth();\n    onAuthStateChanged(auth, function (user) {\n      if (user) {\n        _this.initialize();\n      }\n    });\n  },\n  methods: {\n    initialize: function initialize() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var auth, currentUser, userDoc, saveData, _saveData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              auth = getAuth();\n              currentUser = auth.currentUser;\n              _this2.currUser = currentUser;\n              _context.next = 5;\n              return _this2.$db.collection(\"users\").doc(currentUser.uid).get();\n            case 5:\n              userDoc = _context.sent;\n              if (!userDoc.exists) {\n                _context.next = 11;\n                break;\n              }\n              saveData = userDoc.data();\n              _this2.fireSaveData = _this2.combineLists(saveData);\n              _context.next = 14;\n              break;\n            case 11:\n              _context.next = 13;\n              return _this2.$db.collection(\"users\").doc(currentUser.uid).set({\n                \"categories\": [{\n                  \"catName\": \"Unsorted\",\n                  \"people\": []\n                }, {\n                  \"catName\": \"Ults\",\n                  \"people\": []\n                }, {\n                  \"catName\": \"Semis\",\n                  \"people\": []\n                }, {\n                  \"catName\": \"Regs\",\n                  \"people\": []\n                }]\n              });\n            case 13:\n              _saveData = _context.sent;\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    combineLists: function combineLists(saveData) {\n      var combined = [];\n      for (var i = 1; i < saveData.categories.length; i++) {\n        for (var j = 0; j < saveData.categories[i].people.length; j++) {\n          var pers = saveData.categories[i].people[j];\n          combined.push({\n            \"grpName\": pers.grpName,\n            \"stageName\": pers.stageName,\n            \"stageKR\": pers.stageKR,\n            \"fullName\": pers.fullName,\n            \"fullKR\": pers.fullKR,\n            \"birthday\": pers.birthday,\n            \"imgLink\": pers.imgLink,\n            \"afr\": pers.afr,\n            \"list\": saveData.categories[i].catName\n          });\n        }\n      }\n      for (var _i = 0; _i < saveData.categories[0].people.length; _i++) {\n        var _pers = saveData.categories[0].people[_i];\n        combined.push({\n          \"grpName\": _pers.grpName,\n          \"stageName\": _pers.stageName,\n          \"stageKR\": _pers.stageKR,\n          \"fullName\": _pers.fullName,\n          \"fullKR\": _pers.fullKR,\n          \"birthday\": _pers.birthday,\n          \"imgLink\": _pers.imgLink,\n          \"afr\": _pers.afr,\n          \"list\": saveData.categories[0].catName\n        });\n      }\n      return combined;\n    },\n    sortTable: function sortTable(n) {\n      var table,\n        rows,\n        switching,\n        i,\n        x,\n        y,\n        shouldSwitch,\n        dir,\n        switchcount = 0;\n      table = document.getElementById(\"listTable\");\n      switching = true;\n      dir = \"asc\";\n      while (switching) {\n        switching = false;\n        rows = table.rows;\n        for (i = 1; i < rows.length - 1; i++) {\n          shouldSwitch = false;\n          x = rows[i].getElementsByTagName(\"TD\")[n];\n          y = rows[i + 1].getElementsByTagName(\"TD\")[n];\n          if (dir == \"asc\") {\n            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {\n              shouldSwitch = true;\n              break;\n            }\n          } else if (dir == \"desc\") {\n            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {\n              shouldSwitch = true;\n              break;\n            }\n          }\n        }\n        if (shouldSwitch) {\n          rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n          switching = true;\n          switchcount++;\n        } else {\n          if (switchcount == 0 && dir == \"asc\") {\n            dir = \"desc\";\n            switching = true;\n          }\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["getAuth","onAuthStateChanged","name","data","currUser","fireSaveData","mounted","_this","auth","user","initialize","methods","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","currentUser","userDoc","saveData","_saveData","wrap","_callee$","_context","prev","next","$db","collection","doc","uid","get","sent","exists","combineLists","set","stop","combined","i","categories","length","j","people","pers","push","grpName","stageName","stageKR","fullName","fullKR","birthday","imgLink","afr","catName","sortTable","n","table","rows","switching","x","y","shouldSwitch","dir","switchcount","document","getElementById","getElementsByTagName","innerHTML","toLowerCase","parentNode","insertBefore"],"sources":["/Users/shan/SER375/src/views/Spreadsheet.vue"],"sourcesContent":["<template>\n    <!-- <p>{{ fireSaveData }}</p> -->\n    <table id=\"listTable\">\n        <tr>\n            <th @click=\"sortTable(0)\">Group</th>\n            <th @click=\"sortTable(1)\">Stage Name</th>\n            <th @click=\"sortTable(2)\">Full Name</th>\n            <th @click=\"sortTable(3)\">Birthday</th>\n            <th @click=\"sortTable(4)\">Category</th>\n        </tr>\n        <tr v-for=\"person in fireSaveData\">\n            <td>{{ person.grpName }}</td>\n            <td>{{ person.stageName }}</td>\n            <td>{{ person.fullName }}</td>\n            <td>{{ person.birthday }}</td>\n            <td>{{ person.list }}</td>\n        </tr>\n    </table>\n</template>\n\n<script>\nimport {\n    getAuth,\n    onAuthStateChanged,\n} from \"firebase/auth\";\n\nexport default {\n    name: 'Spreadsheet',\n    data() {\n        return {\n            currUser: {},\n            fireSaveData: {},\n        }\n    },\n    mounted() {\n        const auth = getAuth();\n        onAuthStateChanged(auth, (user) => {\n            if (user) {\n                this.initialize();\n            }\n        });\n    },\n    methods: {\n        async initialize() {\n            const auth = getAuth();\n            const currentUser = auth.currentUser;\n            this.currUser = currentUser;\n            const userDoc = await this.$db.collection(\"users\").doc(currentUser.uid).get();\n            if (userDoc.exists) {\n                const saveData = userDoc.data();\n                this.fireSaveData = this.combineLists(saveData);\n            } else {\n                const saveData = await this.$db.collection(\"users\").doc(currentUser.uid).set(\n                    {\n                        \"categories\": [\n                            {\n                                \"catName\": \"Unsorted\",\n                                \"people\": []\n                            },\n                            {\n                                \"catName\": \"Ults\",\n                                \"people\": []\n                            },\n                            {\n                                \"catName\": \"Semis\",\n                                \"people\": []\n                            },\n                            {\n                                \"catName\": \"Regs\",\n                                \"people\": []\n                            }\n                        ]\n                    }\n                );\n            }\n        },\n        combineLists(saveData) {\n            let combined = [];\n            for (let i = 1; i < saveData.categories.length; i++) {\n                for (let j = 0; j < saveData.categories[i].people.length; j++) {\n                    let pers = saveData.categories[i].people[j];\n                    combined.push(\n                        {\n                            \"grpName\": pers.grpName,\n                            \"stageName\": pers.stageName,\n                            \"stageKR\": pers.stageKR,\n                            \"fullName\": pers.fullName,\n                            \"fullKR\": pers.fullKR,\n                            \"birthday\": pers.birthday,\n                            \"imgLink\": pers.imgLink,\n                            \"afr\": pers.afr,\n                            \"list\": saveData.categories[i].catName\n                        }\n                    )\n                }\n            }\n            for (let i = 0; i < saveData.categories[0].people.length; i++) {\n                let pers = saveData.categories[0].people[i];\n                combined.push(\n                    {\n                        \"grpName\": pers.grpName,\n                        \"stageName\": pers.stageName,\n                        \"stageKR\": pers.stageKR,\n                        \"fullName\": pers.fullName,\n                        \"fullKR\": pers.fullKR,\n                        \"birthday\": pers.birthday,\n                        \"imgLink\": pers.imgLink,\n                        \"afr\": pers.afr,\n                        \"list\": saveData.categories[0].catName\n                    }\n                )\n            }\n            return combined;\n        },\n        sortTable(n) {\n            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;\n            table = document.getElementById(\"listTable\");\n            switching = true;\n\n            dir = \"asc\";\n\n            while (switching) {\n                switching = false;\n                rows = table.rows;\n\n                for (i = 1; i < (rows.length - 1); i++) {\n                    shouldSwitch = false;\n\n                    x = rows[i].getElementsByTagName(\"TD\")[n];\n                    y = rows[i + 1].getElementsByTagName(\"TD\")[n];\n\n                    if (dir == \"asc\") {\n                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {\n                            shouldSwitch = true;\n                            break;\n                        }\n                    } else if (dir == \"desc\") {\n                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {\n                            shouldSwitch = true;\n                            break;\n                        }\n                    }\n                }\n                if (shouldSwitch) {\n                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n                    switching = true;\n                    switchcount++;\n                } else {\n                    if (switchcount == 0 && dir == \"asc\") {\n                        dir = \"desc\";\n                        switching = true;\n                    }\n                }\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\ntable {\n    border-collapse: collapse;\n    border-radius: 10px;\n    box-shadow: 0px 0px 5px black;\n    margin: auto;\n    margin-top: 20px;\n    padding: 10px;\n    max-width: 800px;\n    width: 80%;\n    text-align: left;\n}\n\nth {\n    cursor: pointer;\n    padding: 10px;\n}\n\ntr {\n    padding: 10px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}