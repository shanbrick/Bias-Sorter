{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shan/SER375/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/shan/SER375/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { createRouter, createWebHistory } from 'vue-router';\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\nvar router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes: [{\n    path: '/',\n    name: 'home',\n    component: function component() {\n      return import('../views/HomeView.vue');\n    }\n  }, {\n    path: '/list',\n    name: 'list',\n    component: function component() {\n      return import('../views/ListView.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/groupList',\n    name: 'groupList',\n    component: function component() {\n      return import('../views/GroupListView.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/groups',\n    name: 'groups',\n    component: function component() {\n      return import('../views/GroupsView.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/groupPage',\n    name: 'groupPage',\n    component: function component() {\n      return import('../views/GroupInfoView.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/birthdays',\n    name: 'birthdays',\n    component: function component() {\n      return import('../views/Birthdays.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/spreadsheet',\n    name: 'spreadsheet',\n    component: function component() {\n      return import('../views/Spreadsheet.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }]\n});\nrouter.beforeEach( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(to) {\n    var auth, currentUser, googleAuthProvider;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!to.meta.requiresAuth) {\n            _context.next = 8;\n            break;\n          }\n          auth = getAuth();\n          console.log(\"auth\", auth);\n          currentUser = auth.currentUser;\n          console.log(\"currentUser\", currentUser);\n          // if the user is not logged in, redirect to the login page\n          if (currentUser === null) {\n            googleAuthProvider = new GoogleAuthProvider();\n            signInWithPopup(auth, googleAuthProvider)[\"catch\"](function (reason) {\n              console.error(\"Failed signinRedirect\", reason);\n              error.value = reason;\n            });\n          }\n          console.log(to.fullPath);\n          return _context.abrupt(\"return\", {\n            path: to.fullPath\n            // query: {\n            //   // path: to.fullPath,\n            //   // // we keep the current path in the query so we can\n            //   // // redirect to it after login with\n            //   // // `router.push(route.query.redirect || '/')`\n            //   redirect: to.fullPath,\n            //   //\n            // },\n          });\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","getAuth","signInWithPopup","GoogleAuthProvider","router","history","process","env","BASE_URL","routes","path","name","component","meta","requiresAuth","beforeEach","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","to","auth","currentUser","googleAuthProvider","wrap","_callee$","_context","prev","next","console","log","reason","error","value","fullPath","abrupt","stop","_x","apply","arguments"],"sources":["/Users/shan/SER375/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport {\n  getAuth,\n  signInWithPopup,\n  GoogleAuthProvider,\n} from \"firebase/auth\";\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: () => import('../views/HomeView.vue'),\n    },\n    {\n      path: '/list',\n      name: 'list',\n      component: () => import('../views/ListView.vue'),\n      meta: {\n        requiresAuth: true,\n      }\n    },\n    {\n      path: '/groupList',\n      name: 'groupList',\n      component: () => import('../views/GroupListView.vue'),\n      meta: {\n        requiresAuth: true,\n      }\n    },\n    {\n      path: '/groups',\n      name: 'groups',\n      component: () => import('../views/GroupsView.vue'),\n      meta: {\n        requiresAuth: true,\n      }\n    },\n    {\n      path: '/groupPage',\n      name: 'groupPage',\n      component: () => import('../views/GroupInfoView.vue'),\n      meta: {\n        requiresAuth: true,\n      }\n    },\n    {\n      path: '/birthdays',\n      name: 'birthdays',\n      component: () => import('../views/Birthdays.vue'),\n      meta: {\n        requiresAuth: true,\n      }\n    },\n    {\n      path: '/spreadsheet',\n      name: 'spreadsheet',\n      component: () => import('../views/Spreadsheet.vue'),\n      meta: {\n        requiresAuth: true,\n      }\n    }\n  ]\n});\n\nrouter.beforeEach(async (to) => {\n  // routes with `meta: { requiresAuth: true }` will check for\n  // the users, others won't\n  if (to.meta.requiresAuth) {\n    const auth = getAuth();\n    console.log(\"auth\", auth);\n    const currentUser = auth.currentUser;\n    console.log(\"currentUser\", currentUser);\n    // if the user is not logged in, redirect to the login page\n    if (currentUser === null) {\n      const googleAuthProvider = new GoogleAuthProvider();\n      signInWithPopup(auth, googleAuthProvider).catch((reason) => {\n        console.error(\"Failed signinRedirect\", reason);\n        error.value = reason;\n      });\n    }\n    console.log(to.fullPath);\n    return {\n      path: to.fullPath,\n      // query: {\n      //   // path: to.fullPath,\n      //   // // we keep the current path in the query so we can\n      //   // // redirect to it after login with\n      //   // // `router.push(route.query.redirect || '/')`\n      //   redirect: to.fullPath,\n      //   //\n      // },\n    }\n  }\n})\n\nexport default router\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}