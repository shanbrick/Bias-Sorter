{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shan/SER375/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/shan/SER375/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nexport default {\n  name: 'Spreadsheet',\n  data: function data() {\n    return {\n      currUser: {},\n      fireSaveData: {}\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    var auth = getAuth();\n    onAuthStateChanged(auth, function (user) {\n      if (user) {\n        _this.initialize();\n      }\n    });\n  },\n  methods: {\n    initialize: function initialize() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var auth, currentUser, userDoc, saveData, i, _i, _saveData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              auth = getAuth();\n              currentUser = auth.currentUser;\n              _this2.currUser = currentUser;\n              _context.next = 5;\n              return _this2.$db.collection(\"users\").doc(currentUser.uid).get();\n            case 5:\n              userDoc = _context.sent;\n              if (!userDoc.exists) {\n                _context.next = 13;\n                break;\n              }\n              saveData = userDoc.data();\n              _this2.fireSaveData = saveData;\n              for (i = 0; i < _this2.fireSaveData.categories.length; i++) {\n                _this2.homePageArrays.push(_this2.fireSaveData.categories[i].people);\n              }\n              for (_i = 1; _i < _this2.fireSaveData.categories.length; _i++) {\n                _this2.testArray.push(_this2.fireSaveData.categories[_i]);\n              }\n              _context.next = 16;\n              break;\n            case 13:\n              _context.next = 15;\n              return _this2.$db.collection(\"users\").doc(currentUser.uid).set({\n                \"categories\": [{\n                  \"catName\": \"Unsorted\",\n                  \"people\": []\n                }, {\n                  \"catName\": \"Ults\",\n                  \"people\": []\n                }, {\n                  \"catName\": \"Semis\",\n                  \"people\": []\n                }, {\n                  \"catName\": \"Regs\",\n                  \"people\": []\n                }]\n              });\n            case 15:\n              _saveData = _context.sent;\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    addNewCategory: function addNewCategory() {\n      var arr = {\n        \"catName\": \"Untitled\",\n        \"people\": []\n      };\n      this.fireSaveData.categories.push(arr);\n      this.$db.collection(\"users\").doc(this.currUser.uid).set(this.fireSaveData);\n      this.testArray.push(arr);\n      this.homePageArrays.push(arr.people);\n    }\n  }\n};","map":{"version":3,"names":["getAuth","onAuthStateChanged","name","data","currUser","fireSaveData","mounted","_this","auth","user","initialize","methods","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","currentUser","userDoc","saveData","i","_i","_saveData","wrap","_callee$","_context","prev","next","$db","collection","doc","uid","get","sent","exists","categories","length","homePageArrays","push","people","testArray","set","stop","addNewCategory","arr"],"sources":["/Users/shan/SER375/src/views/Spreadsheet.vue"],"sourcesContent":["<template>\n    <p>hi</p>\n</template>\n\n<script>\nimport {\n    getAuth,\n    onAuthStateChanged,\n} from \"firebase/auth\";\n\nexport default {\n    name: 'Spreadsheet',\n    data() {\n        return {\n            currUser: {},\n            fireSaveData: {},\n        }\n    },\n    mounted() {\n        const auth = getAuth();\n        onAuthStateChanged(auth, (user) => {\n            if (user) {\n                this.initialize();\n            }\n        });\n    },\n    methods: {\n        async initialize() {\n            const auth = getAuth();\n            const currentUser = auth.currentUser;\n            this.currUser = currentUser;\n            const userDoc = await this.$db.collection(\"users\").doc(currentUser.uid).get();\n            if (userDoc.exists) {\n                const saveData = userDoc.data();\n                this.fireSaveData = saveData;\n\n                for (let i = 0; i < this.fireSaveData.categories.length; i++) {\n                    this.homePageArrays.push(this.fireSaveData.categories[i].people);\n                }\n\n                for (let i = 1; i < this.fireSaveData.categories.length; i++) {\n                    this.testArray.push(this.fireSaveData.categories[i]);\n                }\n            } else {\n                const saveData = await this.$db.collection(\"users\").doc(currentUser.uid).set(\n                    {\n                        \"categories\": [\n                            {\n                                \"catName\": \"Unsorted\",\n                                \"people\": []\n                            },\n                            {\n                                \"catName\": \"Ults\",\n                                \"people\": []\n                            },\n                            {\n                                \"catName\": \"Semis\",\n                                \"people\": []\n                            },\n                            {\n                                \"catName\": \"Regs\",\n                                \"people\": []\n                            }\n                        ]\n                    }\n                );\n            }\n        },\n        addNewCategory() {\n            let arr = {\n                \"catName\": \"Untitled\",\n                \"people\": []\n            }\n            this.fireSaveData.categories.push(arr);\n            this.$db.collection(\"users\").doc(this.currUser.uid).set(this.fireSaveData);\n\n            this.testArray.push(arr)\n            this.homePageArrays.push(arr.people);\n\n        },\n    }\n}\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}