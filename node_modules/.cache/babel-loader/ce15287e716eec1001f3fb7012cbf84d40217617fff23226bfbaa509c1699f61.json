{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shan/SER375/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/shan/SER375/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url.to-json.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  name: \"ListSaver\",\n  data: function data() {\n    return {\n      show: false,\n      fireSaveData: {}\n    };\n  },\n  methods: {\n    initialize: function initialize() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var auth, currentUser, userDoc, saveData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              auth = getAuth();\n              currentUser = auth.currentUser;\n              _this.currUser = currentUser;\n              _context.next = 5;\n              return _this.$db.collection(\"users\").doc(currentUser.uid).get();\n            case 5:\n              userDoc = _context.sent;\n              saveData = userDoc.data();\n              _this.fireSaveData = saveData;\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    close: function close() {\n      this.show = false;\n    },\n    open: function open() {\n      this.show = true;\n    },\n    saveJSON: function saveJSON() {\n      var a = document.createElement(\"a\");\n      var file = new Blob([JSON.stringify(this.fireSaveData)], {\n        type: 'application/json'\n      });\n      a.href = URL.createObjectURL(file);\n      a.download = 'exportSaveData.json';\n      a.click();\n      this.showFileUploader = false;\n    },\n    uploadFile: function uploadFile() {\n      var _this2 = this;\n      document.getElementById(\"import\").onclick = function () {\n        var files = document.getElementById(\"selectFiles\").files;\n        if (files.length <= 0) {\n          return false;\n        }\n        var fr = new FileReader();\n        fr.onload = function (e) {\n          var result = JSON.parse(e.target.result);\n          _this2.fireSaveData = result;\n          _this2.$db.collection(\"users\").doc(_this2.currUser.uid).set(_this2.fireSaveData);\n          _this2.homePageArrays = [];\n          for (var i = 0; i < _this2.fireSaveData.categories.length; i++) {\n            _this2.homePageArrays.push(_this2.fireSaveData.categories[i].people);\n          }\n          _this2.testArray = [];\n          for (var _i = 1; _i < _this2.fireSaveData.categories.length; _i++) {\n            _this2.testArray.push(_this2.fireSaveData.categories[_i]);\n          }\n        };\n        fr.readAsText(files.item(0));\n        _this2.showFileUploader = false;\n      };\n    }\n  }\n};","map":{"version":3,"names":["name","data","show","fireSaveData","methods","initialize","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","auth","currentUser","userDoc","saveData","wrap","_callee$","_context","prev","next","getAuth","currUser","$db","collection","doc","uid","get","sent","stop","close","open","saveJSON","a","document","createElement","file","Blob","JSON","stringify","type","href","URL","createObjectURL","download","click","showFileUploader","uploadFile","_this2","getElementById","onclick","files","length","fr","FileReader","onload","e","result","parse","target","set","homePageArrays","i","categories","push","people","testArray","readAsText","item"],"sources":["/Users/shan/SER375/src/components/ListSaver.vue"],"sourcesContent":["<template>\n    <div class=\"listSaver\" v-show=\"show\" ref=\"saver\" tabindex=\"0\" @blur=\"close\">\n        <button class=\"closeUpload\" @click=\"closeUploader()\">â•³</button>\n        <button class=\"uploadButton\" style=\"margin-bottom: 20px\" @click=\"saveJSON()\">Save List</button>\n        <input class=\"uploadButton\" type=\"file\" id=\"selectFiles\" @click=\"uploadFile\" />\n        <button class=\"uploadButton\" id=\"import\">Upload List</button>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"ListSaver\",\n    data() {\n        return {\n            show: false,\n            fireSaveData: {},\n        }\n    },\n    methods: {\n        async initialize() {\n            const auth = getAuth();\n            const currentUser = auth.currentUser;\n            this.currUser = currentUser;\n            const userDoc = await this.$db.collection(\"users\").doc(currentUser.uid).get();\n            const saveData = userDoc.data();\n            this.fireSaveData = saveData;\n        },\n        close() {\n            this.show = false;\n        },\n        open() {\n            this.show = true;\n        },\n        saveJSON() {\n            var a = document.createElement(\"a\");\n            var file = new Blob([JSON.stringify(this.fireSaveData)], { type: 'application/json' });\n            a.href = URL.createObjectURL(file);\n            a.download = 'exportSaveData.json';\n            a.click();\n            this.showFileUploader = false;\n        },\n        uploadFile() {\n            document.getElementById(\"import\").onclick = () => {\n                const files = document.getElementById(\"selectFiles\").files;\n                if (files.length <= 0) {\n                    return false;\n                }\n\n                const fr = new FileReader();\n\n                fr.onload = (e) => {\n                    const result = JSON.parse(e.target.result);\n                    this.fireSaveData = result;\n\n                    this.$db.collection(\"users\").doc(this.currUser.uid).set(this.fireSaveData);\n\n                    this.homePageArrays = [];\n                    for (let i = 0; i < this.fireSaveData.categories.length; i++) {\n                        this.homePageArrays.push(this.fireSaveData.categories[i].people);\n                    }\n                    this.testArray = [];\n                    for (let i = 1; i < this.fireSaveData.categories.length; i++) {\n                        this.testArray.push(this.fireSaveData.categories[i]);\n                    }\n                };\n                fr.readAsText(files.item(0));\n                this.showFileUploader = false;\n            };\n        },\n    }\n}\n</script>\n\n<style scoped>\n.upload {\n    background: white;\n    border-radius: 5px;\n    box-shadow: 0px 0px 5px black;\n    font-size: 13px;\n    height: fit-content;\n    margin: auto;\n    padding: 5px 10px;\n    line-height: 1px;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 300px;\n    z-index: 999;\n}\n\n.uploadButton {\n    background-color: #b3b8e9;\n    border: 1px solid #848484;\n    border-radius: 5px;\n    color: rgb(0, 0, 0);\n    cursor: pointer;\n    display: inline-block;\n    font-size: 16px;\n    margin: 4px 2px;\n    padding: 7px 15px;\n    text-align: center;\n    text-decoration: none;\n    width: 100%;\n}\n\n.uploadButton:hover {\n    background-color: #505cc7;\n}\n\n.closeUpload {\n    background-color: #b3b8e9;\n    border: 1px solid #848484;\n    border-radius: 5px;\n    color: rgb(0, 0, 0);\n    cursor: pointer;\n    display: block;\n    float: right;\n    font-size: 16px;\n    margin-bottom: 20px;\n    text-align: center;\n    text-decoration: none;\n}\n\n.closeUpload:hover {\n    background-color: #505cc7;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}