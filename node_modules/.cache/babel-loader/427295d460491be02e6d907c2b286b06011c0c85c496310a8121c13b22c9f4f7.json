{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nvar _hoisted_1 = {\n  id: \"listTable\"\n};\nvar _hoisted_2 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Stage Name\", -1 /* HOISTED */);\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Full Name\", -1 /* HOISTED */);\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Birthday\", -1 /* HOISTED */);\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Category\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" <p>{{ fireSaveData }}</p> \"), _createElementVNode(\"table\", _hoisted_1, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return $options.sortTable(0);\n    })\n  }, \"Group\"), _hoisted_2, _hoisted_3, _hoisted_4, _hoisted_5]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.fireSaveData, function (person) {\n    return _openBlock(), _createElementBlock(\"tr\", null, [_createElementVNode(\"td\", null, _toDisplayString(person.grpName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(person.stageName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(person.fullName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(person.birthday), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(person.list), 1 /* TEXT */)]);\n  }), 256 /* UNKEYED_FRAGMENT */))])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["id","_createElementVNode","_createElementBlock","_Fragment","_createCommentVNode","_hoisted_1","onClick","_cache","$event","$options","sortTable","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_renderList","$data","fireSaveData","person","_toDisplayString","grpName","stageName","fullName","birthday","list"],"sources":["/Users/shan/SER375/src/views/Spreadsheet.vue"],"sourcesContent":["<template>\n    <!-- <p>{{ fireSaveData }}</p> -->\n    <table id=\"listTable\">\n        <tr>\n            <th @click=\"sortTable(0)\">Group</th>\n            <th>Stage Name</th>\n            <th>Full Name</th>\n            <th>Birthday</th>\n            <th>Category</th>\n        </tr>\n        <tr v-for=\"person in fireSaveData\">\n            <td>{{ person.grpName }}</td>\n            <td>{{ person.stageName }}</td>\n            <td>{{ person.fullName }}</td>\n            <td>{{ person.birthday }}</td>\n            <td>{{ person.list }}</td>\n        </tr>\n    </table>\n</template>\n\n<script>\nimport {\n    getAuth,\n    onAuthStateChanged,\n} from \"firebase/auth\";\n\nexport default {\n    name: 'Spreadsheet',\n    data() {\n        return {\n            currUser: {},\n            fireSaveData: {},\n        }\n    },\n    mounted() {\n        const auth = getAuth();\n        onAuthStateChanged(auth, (user) => {\n            if (user) {\n                this.initialize();\n            }\n        });\n    },\n    methods: {\n        async initialize() {\n            const auth = getAuth();\n            const currentUser = auth.currentUser;\n            this.currUser = currentUser;\n            const userDoc = await this.$db.collection(\"users\").doc(currentUser.uid).get();\n            if (userDoc.exists) {\n                const saveData = userDoc.data();\n                this.fireSaveData = this.combineLists(saveData);\n            } else {\n                const saveData = await this.$db.collection(\"users\").doc(currentUser.uid).set(\n                    {\n                        \"categories\": [\n                            {\n                                \"catName\": \"Unsorted\",\n                                \"people\": []\n                            },\n                            {\n                                \"catName\": \"Ults\",\n                                \"people\": []\n                            },\n                            {\n                                \"catName\": \"Semis\",\n                                \"people\": []\n                            },\n                            {\n                                \"catName\": \"Regs\",\n                                \"people\": []\n                            }\n                        ]\n                    }\n                );\n            }\n        },\n        combineLists(saveData) {\n            let combined = [];\n            for (let i = 0; i < saveData.categories.length; i++) {\n                for (let j = 0; j < saveData.categories[i].people.length; j++) {\n                    let pers = saveData.categories[i].people[j];\n                    combined.push(\n                        {\n                            \"grpName\": pers.grpName,\n                            \"stageName\": pers.stageName,\n                            \"stageKR\": pers.stageKR,\n                            \"fullName\": pers.fullName,\n                            \"fullKR\": pers.fullKR,\n                            \"birthday\": pers.birthday,\n                            \"imgLink\": pers.imgLink,\n                            \"afr\": pers.afr,\n                            \"list\": saveData.categories[i].catName\n                        }\n                    )\n                }\n            }\n            return combined;\n        },\n        sortTable(n) {\n            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;\n            table = document.getElementById(\"listTable\");\n            switching = true;\n\n            dir = \"asc\";\n\n            while (switching) {\n                switching = false;\n                rows = table.rows;\n\n                for (i = 1; i < (rows.length - 1); i++) {\n                    shouldSwitch = false;\n\n                    x = rows[i].getElementsByTagName(\"TD\")[n];\n                    y = rows[i + 1].getElementsByTagName(\"TD\")[n];\n\n                    if (dir == \"asc\") {\n                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {\n                            shouldSwitch = true;\n                            break;\n                        }\n                    } else if (dir == \"desc\") {\n                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {\n                            shouldSwitch = true;\n                            break;\n                        }\n                    }\n                }\n                if (shouldSwitch) {\n                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n                    switching = true;\n                    switchcount++;\n                } else {\n                    if (switchcount == 0 && dir == \"asc\") {\n                        dir = \"desc\";\n                        switching = true;\n                    }\n                }\n            }\n        }\n    }\n}\n</script>"],"mappings":";;EAEWA,EAAE,EAAC;AAAW;8BAGbC,mBAAA,CAAmB,YAAf,YAAU;8BACdA,mBAAA,CAAkB,YAAd,WAAS;8BACbA,mBAAA,CAAiB,YAAb,UAAQ;8BACZA,mBAAA,CAAiB,YAAb,UAAQ;;uBARxBC,mBAAA,CAAAC,SAAA,SACIC,mBAAA,+BAAkC,EAClCH,mBAAA,CAeQ,SAfRI,UAeQ,GAdJJ,mBAAA,CAMK,aALDA,mBAAA,CAAoC;IAA/BK,OAAK,EAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAEC,QAAA,CAAAC,SAAS;IAAA;KAAK,OAAK,GAC/BC,UAAmB,EACnBC,UAAkB,EAClBC,UAAiB,EACjBC,UAAiB,C,sBAErBZ,mBAAA,CAMKC,SAAA,QAhBbY,WAAA,CAU6BC,KAAA,CAAAC,YAAY,EAVzC,UAUmBC,MAAM;yBAAjBhB,mBAAA,CAMK,aALDD,mBAAA,CAA6B,YAAAkB,gBAAA,CAAtBD,MAAM,CAACE,OAAO,kBACrBnB,mBAAA,CAA+B,YAAAkB,gBAAA,CAAxBD,MAAM,CAACG,SAAS,kBACvBpB,mBAAA,CAA8B,YAAAkB,gBAAA,CAAvBD,MAAM,CAACI,QAAQ,kBACtBrB,mBAAA,CAA8B,YAAAkB,gBAAA,CAAvBD,MAAM,CAACK,QAAQ,kBACtBtB,mBAAA,CAA0B,YAAAkB,gBAAA,CAAnBD,MAAM,CAACM,IAAI,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}